(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Yg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cp={exports:{}},Cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function eR(){if(wE)return Cu;wE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Cu.Fragment=e,Cu.jsx=t,Cu.jsxs=t,Cu}var SE;function tR(){return SE||(SE=1,Cp.exports=eR()),Cp.exports}var _=tR(),Ip={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function nR(){if(AE)return Oe;AE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=T&&I[T]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,M={};function L(I,Z,ce){this.props=I,this.context=Z,this.refs=M,this.updater=ce||x}L.prototype.isReactComponent={},L.prototype.setState=function(I,Z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Z,"setState")},L.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function N(){}N.prototype=L.prototype;function G(I,Z,ce){this.props=I,this.context=Z,this.refs=M,this.updater=ce||x}var Q=G.prototype=new N;Q.constructor=G,V(Q,L.prototype),Q.isPureReactComponent=!0;var ne=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function U(I,Z,ce,oe,ge,Te){return ce=Te.ref,{$$typeof:n,type:I,key:Z,ref:ce!==void 0?ce:null,props:Te}}function R(I,Z){return U(I.type,Z,void 0,void 0,void 0,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function P(I){var Z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ce){return Z[ce]})}var O=/\/+/g;function q(I,Z){return typeof I=="object"&&I!==null&&I.key!=null?P(""+I.key):Z.toString(36)}function C(){}function de(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(C,C):(I.status="pending",I.then(function(Z){I.status==="pending"&&(I.status="fulfilled",I.value=Z)},function(Z){I.status==="pending"&&(I.status="rejected",I.reason=Z)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function re(I,Z,ce,oe,ge){var Te=typeof I;(Te==="undefined"||Te==="boolean")&&(I=null);var _e=!1;if(I===null)_e=!0;else switch(Te){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(I.$$typeof){case n:case e:_e=!0;break;case v:return _e=I._init,re(_e(I._payload),Z,ce,oe,ge)}}if(_e)return ge=ge(I),_e=oe===""?"."+q(I,0):oe,ne(ge)?(ce="",_e!=null&&(ce=_e.replace(O,"$&/")+"/"),re(ge,Z,ce,"",function(lt){return lt})):ge!=null&&(D(ge)&&(ge=R(ge,ce+(ge.key==null||I&&I.key===ge.key?"":(""+ge.key).replace(O,"$&/")+"/")+_e)),Z.push(ge)),1;_e=0;var Qe=oe===""?".":oe+":";if(ne(I))for(var ke=0;ke<I.length;ke++)oe=I[ke],Te=Qe+q(oe,ke),_e+=re(oe,Z,ce,Te,ge);else if(ke=w(I),typeof ke=="function")for(I=ke.call(I),ke=0;!(oe=I.next()).done;)oe=oe.value,Te=Qe+q(oe,ke++),_e+=re(oe,Z,ce,Te,ge);else if(Te==="object"){if(typeof I.then=="function")return re(de(I),Z,ce,oe,ge);throw Z=String(I),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return _e}function j(I,Z,ce){if(I==null)return I;var oe=[],ge=0;return re(I,oe,"","",function(Te){return Z.call(ce,Te,ge++)}),oe}function W(I){if(I._status===-1){var Z=I._result;Z=Z(),Z.then(function(ce){(I._status===0||I._status===-1)&&(I._status=1,I._result=ce)},function(ce){(I._status===0||I._status===-1)&&(I._status=2,I._result=ce)}),I._status===-1&&(I._status=0,I._result=Z)}if(I._status===1)return I._result.default;throw I._result}var te=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function he(){}return Oe.Children={map:j,forEach:function(I,Z,ce){j(I,function(){Z.apply(this,arguments)},ce)},count:function(I){var Z=0;return j(I,function(){Z++}),Z},toArray:function(I){return j(I,function(Z){return Z})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Oe.Component=L,Oe.Fragment=t,Oe.Profiler=a,Oe.PureComponent=G,Oe.StrictMode=i,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(I){return J.H.useMemoCache(I)}},Oe.cache=function(I){return function(){return I.apply(null,arguments)}},Oe.cloneElement=function(I,Z,ce){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var oe=V({},I.props),ge=I.key,Te=void 0;if(Z!=null)for(_e in Z.ref!==void 0&&(Te=void 0),Z.key!==void 0&&(ge=""+Z.key),Z)!fe.call(Z,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Z.ref===void 0||(oe[_e]=Z[_e]);var _e=arguments.length-2;if(_e===1)oe.children=ce;else if(1<_e){for(var Qe=Array(_e),ke=0;ke<_e;ke++)Qe[ke]=arguments[ke+2];oe.children=Qe}return U(I.type,ge,void 0,void 0,Te,oe)},Oe.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Oe.createElement=function(I,Z,ce){var oe,ge={},Te=null;if(Z!=null)for(oe in Z.key!==void 0&&(Te=""+Z.key),Z)fe.call(Z,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ge[oe]=Z[oe]);var _e=arguments.length-2;if(_e===1)ge.children=ce;else if(1<_e){for(var Qe=Array(_e),ke=0;ke<_e;ke++)Qe[ke]=arguments[ke+2];ge.children=Qe}if(I&&I.defaultProps)for(oe in _e=I.defaultProps,_e)ge[oe]===void 0&&(ge[oe]=_e[oe]);return U(I,Te,void 0,void 0,null,ge)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(I){return{$$typeof:d,render:I}},Oe.isValidElement=D,Oe.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:W}},Oe.memo=function(I,Z){return{$$typeof:m,type:I,compare:Z===void 0?null:Z}},Oe.startTransition=function(I){var Z=J.T,ce={};J.T=ce;try{var oe=I(),ge=J.S;ge!==null&&ge(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(he,te)}catch(Te){te(Te)}finally{J.T=Z}},Oe.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Oe.use=function(I){return J.H.use(I)},Oe.useActionState=function(I,Z,ce){return J.H.useActionState(I,Z,ce)},Oe.useCallback=function(I,Z){return J.H.useCallback(I,Z)},Oe.useContext=function(I){return J.H.useContext(I)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(I,Z){return J.H.useDeferredValue(I,Z)},Oe.useEffect=function(I,Z,ce){var oe=J.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(I,Z)},Oe.useId=function(){return J.H.useId()},Oe.useImperativeHandle=function(I,Z,ce){return J.H.useImperativeHandle(I,Z,ce)},Oe.useInsertionEffect=function(I,Z){return J.H.useInsertionEffect(I,Z)},Oe.useLayoutEffect=function(I,Z){return J.H.useLayoutEffect(I,Z)},Oe.useMemo=function(I,Z){return J.H.useMemo(I,Z)},Oe.useOptimistic=function(I,Z){return J.H.useOptimistic(I,Z)},Oe.useReducer=function(I,Z,ce){return J.H.useReducer(I,Z,ce)},Oe.useRef=function(I){return J.H.useRef(I)},Oe.useState=function(I){return J.H.useState(I)},Oe.useSyncExternalStore=function(I,Z,ce){return J.H.useSyncExternalStore(I,Z,ce)},Oe.useTransition=function(){return J.H.useTransition()},Oe.version="19.1.1",Oe}var xE;function Qg(){return xE||(xE=1,Ip.exports=nR()),Ip.exports}var z=Qg();const Gh=Yg(z);var Dp={exports:{}},Iu={},Np={exports:{}},Op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function rR(){return RE||(RE=1,function(n){function e(j,W){var te=j.length;j.push(W);e:for(;0<te;){var he=te-1>>>1,I=j[he];if(0<a(I,W))j[he]=W,j[te]=I,te=he;else break e}}function t(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var W=j[0],te=j.pop();if(te!==W){j[0]=te;e:for(var he=0,I=j.length,Z=I>>>1;he<Z;){var ce=2*(he+1)-1,oe=j[ce],ge=ce+1,Te=j[ge];if(0>a(oe,te))ge<I&&0>a(Te,oe)?(j[he]=Te,j[ge]=te,he=ge):(j[he]=oe,j[ce]=te,he=ce);else if(ge<I&&0>a(Te,te))j[he]=Te,j[ge]=te,he=ge;else break e}}return W}function a(j,W){var te=j.sortIndex-W.sortIndex;return te!==0?te:j.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],m=[],v=1,T=null,w=3,x=!1,V=!1,M=!1,L=!1,N=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ne(j){for(var W=t(m);W!==null;){if(W.callback===null)i(m);else if(W.startTime<=j)i(m),W.sortIndex=W.expirationTime,e(p,W);else break;W=t(m)}}function J(j){if(M=!1,ne(j),!V)if(t(p)!==null)V=!0,fe||(fe=!0,q());else{var W=t(m);W!==null&&re(J,W.startTime-j)}}var fe=!1,U=-1,R=5,D=-1;function P(){return L?!0:!(n.unstable_now()-D<R)}function O(){if(L=!1,fe){var j=n.unstable_now();D=j;var W=!0;try{e:{V=!1,M&&(M=!1,G(U),U=-1),x=!0;var te=w;try{t:{for(ne(j),T=t(p);T!==null&&!(T.expirationTime>j&&P());){var he=T.callback;if(typeof he=="function"){T.callback=null,w=T.priorityLevel;var I=he(T.expirationTime<=j);if(j=n.unstable_now(),typeof I=="function"){T.callback=I,ne(j),W=!0;break t}T===t(p)&&i(p),ne(j)}else i(p);T=t(p)}if(T!==null)W=!0;else{var Z=t(m);Z!==null&&re(J,Z.startTime-j),W=!1}}break e}finally{T=null,w=te,x=!1}W=void 0}}finally{W?q():fe=!1}}}var q;if(typeof Q=="function")q=function(){Q(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,de=C.port2;C.port1.onmessage=O,q=function(){de.postMessage(null)}}else q=function(){N(O,0)};function re(j,W){U=N(function(){j(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(j){switch(w){case 1:case 2:case 3:var W=3;break;default:W=w}var te=w;w=W;try{return j()}finally{w=te}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var te=w;w=j;try{return W()}finally{w=te}},n.unstable_scheduleCallback=function(j,W,te){var he=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?he+te:he):te=he,j){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=te+I,j={id:v++,callback:W,priorityLevel:j,startTime:te,expirationTime:I,sortIndex:-1},te>he?(j.sortIndex=te,e(m,j),t(p)===null&&j===t(m)&&(M?(G(U),U=-1):M=!0,re(J,te-he))):(j.sortIndex=I,e(p,j),V||x||(V=!0,fe||(fe=!0,q()))),j},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(j){var W=w;return function(){var te=w;w=W;try{return j.apply(this,arguments)}finally{w=te}}}}(Op)),Op}var CE;function iR(){return CE||(CE=1,Np.exports=rR()),Np.exports}var Mp={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function sR(){if(IE)return _n;IE=1;var n=Qg();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,v)},_n.flushSync=function(p){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=v,i.d.f()}},_n.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},_n.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},_n.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,T=d(v,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:x}):v==="script"&&i.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},_n.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},_n.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=d(v,m.crossOrigin);i.d.L(p,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},_n.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},_n.requestFormReset=function(p){i.d.r(p)},_n.unstable_batchedUpdates=function(p,m){return p(m)},_n.useFormState=function(p,m,v){return c.H.useFormState(p,m,v)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.1.1",_n}var DE;function aR(){if(DE)return Mp.exports;DE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mp.exports=sR(),Mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function oR(){if(NE)return Iu;NE=1;var n=iR(),e=Qg(),t=aR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),r;if(g===u)return d(f),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,S=f.child;S;){if(S===o){b=!0,o=f,u=g;break}if(S===u){b=!0,u=f,o=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===o){b=!0,o=g,u=f;break}if(S===u){b=!0,u=g,o=f;break}S=S.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function de(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case L:return"Profiler";case M:return"StrictMode";case J:return"Suspense";case fe:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case Q:return(r.displayName||"Context")+".Provider";case G:return(r._context.displayName||"Context")+".Consumer";case ne:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case U:return s=r.displayName||null,s!==null?s:de(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return de(r(s))}catch{}}return null}var re=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},he=[],I=-1;function Z(r){return{current:r}}function ce(r){0>I||(r.current=he[I],he[I]=null,I--)}function oe(r,s){I++,he[I]=r.current,r.current=s}var ge=Z(null),Te=Z(null),_e=Z(null),Qe=Z(null);function ke(r,s){switch(oe(_e,s),oe(Te,r),oe(ge,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?W0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=W0(s),r=Z0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(ge),oe(ge,r)}function lt(){ce(ge),ce(Te),ce(_e)}function ut(r){r.memoizedState!==null&&oe(Qe,r);var s=ge.current,o=Z0(s,r.type);s!==o&&(oe(Te,r),oe(ge,o))}function St(r){Te.current===r&&(ce(ge),ce(Te)),Qe.current===r&&(ce(Qe),wu._currentValue=te)}var Gt=Object.prototype.hasOwnProperty,yn=n.unstable_scheduleCallback,ct=n.unstable_cancelCallback,gr=n.unstable_shouldYield,tn=n.unstable_requestPaint,nn=n.unstable_now,Za=n.unstable_getCurrentPriorityLevel,Wi=n.unstable_ImmediatePriority,Zi=n.unstable_UserBlockingPriority,hi=n.unstable_NormalPriority,Il=n.unstable_LowPriority,fi=n.unstable_IdlePriority,Js=n.log,Ja=n.unstable_setDisableYieldValue,pt=null,We=null;function Sn(r){if(typeof Js=="function"&&Ja(r),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(pt,r)}catch{}}var Ot=Math.clz32?Math.clz32:di,ea=Math.log,eo=Math.LN2;function di(r){return r>>>=0,r===0?32:31-(ea(r)/eo|0)|0}var Jn=256,Pr=4194304;function Ln(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function mi(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?f=Ln(u):(b&=S,b!==0?f=Ln(b):o||(o=S&~r,o!==0&&(f=Ln(o))))):(S=u&~g,S!==0?f=Ln(S):b!==0?f=Ln(b):o||(o=u&~r,o!==0&&(f=Ln(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function jr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function pi(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ta(){var r=Jn;return Jn<<=1,(Jn&4194048)===0&&(Jn=256),r}function Ji(){var r=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),r}function yr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function er(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Mt(r,s,o,u,f,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,k=r.expirationTimes,Y=r.hiddenUpdates;for(o=b&~o;0<o;){var ie=31-Ot(o),le=1<<ie;S[ie]=0,k[ie]=-1;var K=Y[ie];if(K!==null)for(Y[ie]=null,ie=0;ie<K.length;ie++){var X=K[ie];X!==null&&(X.lane&=-536870913)}o&=~le}u!==0&&mt(r,u,0),g!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function mt(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Ot(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Lr(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-Ot(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function Ke(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function rn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ur(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:yE(r.type))}function es(r,s){var o=W.p;try{return W.p=r,s()}finally{W.p=o}}var ht=Math.random().toString(36).slice(2),At="__reactFiber$"+ht,gt="__reactProps$"+ht,sn="__reactContainer$"+ht,gi="__reactEvents$"+ht,na="__reactListeners$"+ht,tr="__reactHandles$"+ht,to="__reactResources$"+ht,vr="__reactMarker$"+ht;function _r(r){delete r[At],delete r[gt],delete r[gi],delete r[na],delete r[tr]}function Er(r){var s=r[At];if(s)return s;for(var o=r.parentNode;o;){if(s=o[sn]||o[At]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=nE(r);r!==null;){if(o=r[At])return o;r=nE(r)}return s}r=o,o=r.parentNode}return null}function nr(r){if(r=r[At]||r[sn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Ie(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Ve(r){var s=r[to];return s||(s=r[to]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ne(r){r[vr]=!0}var an=new Set,Yt={};function An(r,s){br(r,s),br(r+"Capture",s)}function br(r,s){for(Yt[r]=s,r=0;r<s.length;r++)an.add(s[r])}var no=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},ra={};function Ic(r){return Gt.call(ra,r)?!0:Gt.call(Cc,r)?!1:no.test(r)?ra[r]=!0:(Cc[r]=!0,!1)}function ts(r,s,o){if(Ic(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function zr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function on(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var ia,Dc;function yi(r){if(ia===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ia=s&&s[1]||"",Dc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ia+r+Dc}var ro=!1;function io(r,s){if(!r||ro)return"";ro=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(X){var K=X}Reflect.construct(r,[],le)}else{try{le.call()}catch(X){K=X}r.call(le.prototype)}}else{try{throw Error()}catch(X){K=X}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var k=b.split(`
`),Y=S.split(`
`);for(f=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===k.length||f===Y.length)for(u=k.length-1,f=Y.length-1;1<=u&&0<=f&&k[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(k[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||k[u]!==Y[f]){var ie=`
`+k[u].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=u&&0<=f);break}}}finally{ro=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?yi(o):""}function Dl(r){switch(r.tag){case 26:case 27:case 5:return yi(r.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return io(r.type,!1);case 11:return io(r.type.render,!1);case 1:return io(r.type,!0);case 31:return yi("Activity");default:return""}}function so(r){try{var s="";do s+=Dl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function xn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Nl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Od(r){var s=Nl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ao(r){r._valueTracker||(r._valueTracker=Od(r))}function Ol(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Nl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function sa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Md=/[\n"\\]/g;function kt(r){return r.replace(Md,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Un(r,s,o,u,f,g,b,S){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+xn(s)):r.value!==""+xn(s)&&(r.value=""+xn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?ns(r,b,xn(s)):o!=null?ns(r,b,xn(o)):u!=null&&r.removeAttribute("value"),f==null&&g!=null&&(r.defaultChecked=!!g),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+xn(S):r.removeAttribute("name")}function aa(r,s,o,u,f,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+xn(o):"",s=s!=null?""+xn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function ns(r,s,o){s==="number"&&sa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function vi(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+xn(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function rt(r,s,o){if(s!=null&&(s=""+xn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+xn(o):""}function oa(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(re(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=xn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function rr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var la=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||la.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Ml(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Nc(r,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Nc(r,g,s[g])}function kl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(r){return Vd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _i=null;function ir(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ei=null,bi=null;function Vl(r){var s=nr(r);if(s&&(r=s.stateNode)){var o=r[gt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Un(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+kt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[gt]||null;if(!f)throw Error(i(90));Un(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Ol(u)}break e;case"textarea":rt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&vi(r,!!o.multiple,s,!1)}}}var Fr=!1;function Oc(r,s,o){if(Fr)return r(s,o);Fr=!0;try{var u=r(s);return u}finally{if(Fr=!1,(Ei!==null||bi!==null)&&(Ah(),Ei&&(s=Ei,r=bi,bi=Ei=null,Vl(s),r)))for(s=0;s<r.length;s++)Vl(r[s])}}function ua(r,s){var o=r.stateNode;if(o===null)return null;var u=o[gt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(Tr)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){sr=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{sr=!1}var qr=null,rs=null,Ti=null;function Pl(){if(Ti)return Ti;var r,s=rs,o=s.length,u,f="value"in qr?qr.value:qr.textContent,g=f.length;for(r=0;r<o&&s[r]===f[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===f[g-u];u++);return Ti=f.slice(r,1<u?1-u:void 0)}function Br(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Hr(){return!0}function jl(){return!1}function Qt(r){function s(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Hr:jl,this.isPropagationStopped=jl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),s}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Qt(Je),ha=v({},Je,{view:0,detail:0}),Mc=Qt(ha),uo,co,$r,fa=v({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==$r&&($r&&r.type==="mousemove"?(uo=r.screenX-$r.screenX,co=r.screenY-$r.screenY):co=uo=0,$r=r),uo)},movementY:function(r){return"movementY"in r?r.movementY:co}}),ar=Qt(fa),kc=v({},fa,{dataTransfer:0}),Pd=Qt(kc),da=v({},ha,{relatedTarget:0}),ho=Qt(da),Ll=v({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=Qt(Ll),Vc=v({},Je,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),mo=Qt(Vc),jd=v({},Je,{data:0}),Ul=Qt(jd),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=jc[r])?!!s[r]:!1}function pa(){return zl}var Lc=v({},ha,{key:function(r){if(r.key){var s=ma[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Br(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Pc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(r){return r.type==="keypress"?Br(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Br(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),po=Qt(Lc),Uc=v({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fl=Qt(Uc),wi=v({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa}),zc=Qt(wi),Fc=v({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),qc=Qt(Fc),Bc=v({},fa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),go=Qt(Bc),Rn=v({},Je,{newState:0,oldState:0}),Hc=Qt(Rn),$c=[9,13,27,32],Gr=Tr&&"CompositionEvent"in window,h=null;Tr&&"documentMode"in document&&(h=document.documentMode);var y=Tr&&"TextEvent"in window&&!h,E=Tr&&(!Gr||h&&8<h&&11>=h),A=" ",H=!1;function ee(r,s){switch(r){case"keyup":return $c.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qe=!1;function Ft(r,s){switch(r){case"compositionend":return me(s);case"keypress":return s.which!==32?null:(H=!0,A);case"textInput":return r=s.data,r===A&&H?null:r;default:return null}}function Be(r,s){if(qe)return r==="compositionend"||!Gr&&ee(r,s)?(r=Pl(),Ti=rs=qr=null,qe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Kt[r.type]:s==="textarea"}function Si(r,s,o,u){Ei?bi?bi.push(u):bi=[u]:Ei=u,s=Nh(s,"onChange"),0<s.length&&(o=new lo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var ln=null,Yr=null;function ql(r){G0(r,0)}function Gc(r){var s=Ie(r);if(Ol(s))return r}function dv(r,s){if(r==="change")return s}var mv=!1;if(Tr){var Ld;if(Tr){var Ud="oninput"in document;if(!Ud){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),Ud=typeof pv.oninput=="function"}Ld=Ud}else Ld=!1;mv=Ld&&(!document.documentMode||9<document.documentMode)}function gv(){ln&&(ln.detachEvent("onpropertychange",yv),Yr=ln=null)}function yv(r){if(r.propertyName==="value"&&Gc(Yr)){var s=[];Si(s,Yr,r,ir(r)),Oc(ql,s)}}function D1(r,s,o){r==="focusin"?(gv(),ln=s,Yr=o,ln.attachEvent("onpropertychange",yv)):r==="focusout"&&gv()}function N1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Gc(Yr)}function O1(r,s){if(r==="click")return Gc(s)}function M1(r,s){if(r==="input"||r==="change")return Gc(s)}function k1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:k1;function Bl(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Gt.call(s,f)||!zn(r[f],s[f]))return!1}return!0}function vv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _v(r,s){var o=vv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=vv(o)}}function Ev(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ev(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function bv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=sa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=sa(r.document)}return s}function zd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var V1=Tr&&"documentMode"in document&&11>=document.documentMode,yo=null,Fd=null,Hl=null,qd=!1;function Tv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qd||yo==null||yo!==sa(u)||(u=yo,"selectionStart"in u&&zd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hl&&Bl(Hl,u)||(Hl=u,u=Nh(Fd,"onSelect"),0<u.length&&(s=new lo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=yo)))}function ga(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var vo={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},Bd={},wv={};Tr&&(wv=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function ya(r){if(Bd[r])return Bd[r];if(!vo[r])return r;var s=vo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in wv)return Bd[r]=s[o];return r}var Sv=ya("animationend"),Av=ya("animationiteration"),xv=ya("animationstart"),P1=ya("transitionrun"),j1=ya("transitionstart"),L1=ya("transitioncancel"),Rv=ya("transitionend"),Cv=new Map,Hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hd.push("scrollEnd");function wr(r,s){Cv.set(r,s),An(s,[r])}var Iv=new WeakMap;function or(r,s){if(typeof r=="object"&&r!==null){var o=Iv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:so(s)},Iv.set(r,s),s)}return{value:r,source:s,stack:so(s)}}var lr=[],_o=0,$d=0;function Yc(){for(var r=_o,s=$d=_o=0;s<r;){var o=lr[s];lr[s++]=null;var u=lr[s];lr[s++]=null;var f=lr[s];lr[s++]=null;var g=lr[s];if(lr[s++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&Dv(o,f,g)}}function Qc(r,s,o,u){lr[_o++]=r,lr[_o++]=s,lr[_o++]=o,lr[_o++]=u,$d|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Gd(r,s,o,u){return Qc(r,s,o,u),Kc(r)}function Eo(r,s){return Qc(r,null,null,s),Kc(r)}function Dv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(f=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,f&&s!==null&&(f=31-Ot(o),r=g.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function Kc(r){if(50<pu)throw pu=0,Zm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var bo={};function U1(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(r,s,o,u){return new U1(r,s,o,u)}function Yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ai(r,s){var o=r.alternate;return o===null?(o=Fn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Nv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Xc(r,s,o,u,f,g){var b=0;if(u=r,typeof r=="function")Yd(r)&&(b=1);else if(typeof r=="string")b=Fx(r,o,ge.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=Fn(31,o,s,f),r.elementType=D,r.lanes=g,r;case V:return va(o.children,f,g,s);case M:b=8,f|=24;break;case L:return r=Fn(12,o,s,f|2),r.elementType=L,r.lanes=g,r;case J:return r=Fn(13,o,s,f),r.elementType=J,r.lanes=g,r;case fe:return r=Fn(19,o,s,f),r.elementType=fe,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:case Q:b=10;break e;case G:b=9;break e;case ne:b=11;break e;case U:b=14;break e;case R:b=16,u=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Fn(b,o,s,f),s.elementType=r,s.type=u,s.lanes=g,s}function va(r,s,o,u){return r=Fn(7,r,u,s),r.lanes=o,r}function Qd(r,s,o){return r=Fn(6,r,null,s),r.lanes=o,r}function Kd(r,s,o){return s=Fn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var To=[],wo=0,Wc=null,Zc=0,ur=[],cr=0,_a=null,xi=1,Ri="";function Ea(r,s){To[wo++]=Zc,To[wo++]=Wc,Wc=r,Zc=s}function Ov(r,s,o){ur[cr++]=xi,ur[cr++]=Ri,ur[cr++]=_a,_a=r;var u=xi;r=Ri;var f=32-Ot(u)-1;u&=~(1<<f),o+=1;var g=32-Ot(s)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,xi=1<<32-Ot(s)+f|o<<f|u,Ri=g+r}else xi=1<<g|o<<f|u,Ri=r}function Xd(r){r.return!==null&&(Ea(r,1),Ov(r,1,0))}function Wd(r){for(;r===Wc;)Wc=To[--wo],To[wo]=null,Zc=To[--wo],To[wo]=null;for(;r===_a;)_a=ur[--cr],ur[cr]=null,Ri=ur[--cr],ur[cr]=null,xi=ur[--cr],ur[cr]=null}var Cn=null,xt=null,Ze=!1,ba=null,Qr=!1,Zd=Error(i(519));function Ta(r){var s=Error(i(418,""));throw Yl(or(s,r)),Zd}function Mv(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[At]=r,s[gt]=u,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<yu.length;o++)Le(yu[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),aa(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ao(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),oa(s,u.value,u.defaultValue,u.children),ao(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||X0(s.textContent,o)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=Oh),s=!0):s=!1,s||Ta(r)}function kv(r){for(Cn=r.return;Cn;)switch(Cn.tag){case 5:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Cn=Cn.return}}function $l(r){if(r!==Cn)return!1;if(!Ze)return kv(r),Ze=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||mp(r.type,r.memoizedProps)),o=!o),o&&xt&&Ta(r),kv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){xt=Ar(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}xt=null}}else s===27?(s=xt,_s(r.type)?(r=vp,vp=null,xt=r):xt=s):xt=Cn?Ar(r.stateNode.nextSibling):null;return!0}function Gl(){xt=Cn=null,Ze=!1}function Vv(){var r=ba;return r!==null&&(kn===null?kn=r:kn.push.apply(kn,r),ba=null),r}function Yl(r){ba===null?ba=[r]:ba.push(r)}var Jd=Z(null),wa=null,Ci=null;function is(r,s,o){oe(Jd,s._currentValue),s._currentValue=o}function Ii(r){r._currentValue=Jd.current,ce(Jd)}function em(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function tm(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var k=0;k<s.length;k++)if(S.context===s[k]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),em(g.return,o,r),u||(b=null);break e}g=S.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),em(b,o,r),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===r){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ql(r,s,o,u){r=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var S=f.type;zn(f.pendingProps.value,b.value)||(r!==null?r.push(S):r=[S])}}else if(f===Qe.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(wu):r=[wu])}f=f.return}r!==null&&tm(s,r,o,u),s.flags|=262144}function Jc(r){for(r=r.firstContext;r!==null;){if(!zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Sa(r){wa=r,Ci=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function vn(r){return Pv(wa,r)}function eh(r,s){return wa===null&&Sa(r),Pv(r,s)}function Pv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ci===null){if(r===null)throw Error(i(308));Ci=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ci=Ci.next=s;return o}var z1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},F1=n.unstable_scheduleCallback,q1=n.unstable_NormalPriority,Bt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nm(){return{controller:new z1,data:new Map,refCount:0}}function Kl(r){r.refCount--,r.refCount===0&&F1(q1,function(){r.controller.abort()})}var Xl=null,rm=0,So=0,Ao=null;function B1(r,s){if(Xl===null){var o=Xl=[];rm=0,So=sp(),Ao={status:"pending",value:void 0,then:function(u){o.push(u)}}}return rm++,s.then(jv,jv),s}function jv(){if(--rm===0&&Xl!==null){Ao!==null&&(Ao.status="fulfilled");var r=Xl;Xl=null,So=0,Ao=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function H1(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Lv=j.S;j.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&B1(r,s),Lv!==null&&Lv(r,s)};var Aa=Z(null);function im(){var r=Aa.current;return r!==null?r:dt.pooledCache}function th(r,s){s===null?oe(Aa,Aa.current):oe(Aa,s.pool)}function Uv(){var r=im();return r===null?null:{parent:Bt._currentValue,pool:r}}var Wl=Error(i(460)),zv=Error(i(474)),nh=Error(i(542)),sm={then:function(){}};function Fv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function rh(){}function qv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(rh,rh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Hv(r),r;default:if(typeof s.status=="string")s.then(rh,rh);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Hv(r),r}throw Zl=s,Wl}}var Zl=null;function Bv(){if(Zl===null)throw Error(i(459));var r=Zl;return Zl=null,r}function Hv(r){if(r===Wl||r===nh)throw Error(i(483))}var ss=!1;function am(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function om(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function as(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function os(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(tt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Kc(r),Dv(r,null,o),s}return Qc(r,u,s,o),Kc(r)}function Jl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Lr(r,o)}}function lm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var um=!1;function eu(){if(um){var r=Ao;if(r!==null)throw r}}function tu(r,s,o,u){um=!1;var f=r.updateQueue;ss=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var k=S,Y=k.next;k.next=null,b===null?g=Y:b.next=Y,b=k;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,S=ie.lastBaseUpdate,S!==b&&(S===null?ie.firstBaseUpdate=Y:S.next=Y,ie.lastBaseUpdate=k))}if(g!==null){var le=f.baseState;b=0,ie=Y=k=null,S=g;do{var K=S.lane&-536870913,X=K!==S.lane;if(X?(He&K)===K:(u&K)===K){K!==0&&K===So&&(um=!0),ie!==null&&(ie=ie.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ce=r,Se=S;K=s;var at=o;switch(Se.tag){case 1:if(Ce=Se.payload,typeof Ce=="function"){le=Ce.call(at,le,K);break e}le=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Se.payload,K=typeof Ce=="function"?Ce.call(at,le,K):Ce,K==null)break e;le=v({},le,K);break e;case 2:ss=!0}}K=S.callback,K!==null&&(r.flags|=64,X&&(r.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ie===null?(Y=ie=X,k=le):ie=ie.next=X,b|=K;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);ie===null&&(k=le),f.baseState=k,f.firstBaseUpdate=Y,f.lastBaseUpdate=ie,g===null&&(f.shared.lanes=0),ps|=b,r.lanes=b,r.memoizedState=le}}function $v(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Gv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)$v(o[r],s)}var xo=Z(null),ih=Z(0);function Yv(r,s){r=Pi,oe(ih,r),oe(xo,s),Pi=r|s.baseLanes}function cm(){oe(ih,Pi),oe(xo,xo.current)}function hm(){Pi=ih.current,ce(xo),ce(ih)}var ls=0,Me=null,it=null,Vt=null,sh=!1,Ro=!1,xa=!1,ah=0,nu=0,Co=null,$1=0;function It(){throw Error(i(321))}function fm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!zn(r[o],s[o]))return!1;return!0}function dm(r,s,o,u,f,g){return ls=g,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=r===null||r.memoizedState===null?D_:N_,xa=!1,g=o(u,f),xa=!1,Ro&&(g=Kv(s,o,u,f)),Qv(r),g}function Qv(r){j.H=fh;var s=it!==null&&it.next!==null;if(ls=0,Vt=it=Me=null,sh=!1,nu=0,Co=null,s)throw Error(i(300));r===null||Xt||(r=r.dependencies,r!==null&&Jc(r)&&(Xt=!0))}function Kv(r,s,o,u){Me=r;var f=0;do{if(Ro&&(Co=null),nu=0,Ro=!1,25<=f)throw Error(i(301));if(f+=1,Vt=it=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}j.H=Z1,g=s(o,u)}while(Ro);return g}function G1(){var r=j.H,s=r.useState()[0];return s=typeof s.then=="function"?ru(s):s,r=r.useState()[0],(it!==null?it.memoizedState:null)!==r&&(Me.flags|=1024),s}function mm(){var r=ah!==0;return ah=0,r}function pm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function gm(r){if(sh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sh=!1}ls=0,Vt=it=Me=null,Ro=!1,nu=ah=0,Co=null}function On(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Me.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Pt(){if(it===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=it.next;var s=Vt===null?Me.memoizedState:Vt.next;if(s!==null)Vt=s,it=r;else{if(r===null)throw Me.alternate===null?Error(i(467)):Error(i(310));it=r,r={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Vt===null?Me.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ru(r){var s=nu;return nu+=1,Co===null&&(Co=[]),r=qv(Co,r,s),s=Me,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?D_:N_),r}function oh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ru(r);if(r.$$typeof===Q)return vn(r)}throw Error(i(438,String(r)))}function vm(r){var s=null,o=Me.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Me.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ym(),Me.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=P;return s.index++,o}function Di(r,s){return typeof s=="function"?s(r):s}function lh(r){var s=Pt();return _m(s,it,r)}function _m(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}s.baseQueue=f=g,u.pending=null}if(g=r.baseState,f===null)r.memoizedState=g;else{s=f.next;var S=b=null,k=null,Y=s,ie=!1;do{var le=Y.lane&-536870913;if(le!==Y.lane?(He&le)===le:(ls&le)===le){var K=Y.revertLane;if(K===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),le===So&&(ie=!0);else if((ls&K)===K){Y=Y.next,K===So&&(ie=!0);continue}else le={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=le,b=g):k=k.next=le,Me.lanes|=K,ps|=K;le=Y.action,xa&&o(g,le),g=Y.hasEagerState?Y.eagerState:o(g,le)}else K={lane:le,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=K,b=g):k=k.next=K,Me.lanes|=le,ps|=le;Y=Y.next}while(Y!==null&&Y!==s);if(k===null?b=g:k.next=S,!zn(g,r.memoizedState)&&(Xt=!0,ie&&(o=Ao,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=k,u.lastRenderedState=g}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Em(r){var s=Pt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=r(g,b.action),b=b.next;while(b!==f);zn(g,s.memoizedState)||(Xt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Xv(r,s,o){var u=Me,f=Pt(),g=Ze;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!zn((it||f).memoizedState,o);b&&(f.memoizedState=o,Xt=!0),f=f.queue;var S=Jv.bind(null,u,f,r);if(iu(2048,8,S,[r]),f.getSnapshot!==s||b||Vt!==null&&Vt.memoizedState.tag&1){if(u.flags|=2048,Io(9,uh(),Zv.bind(null,u,f,o,s),null),dt===null)throw Error(i(349));g||(ls&124)!==0||Wv(u,s,o)}return o}function Wv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Me.updateQueue,s===null?(s=ym(),Me.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Zv(r,s,o,u){s.value=o,s.getSnapshot=u,e_(s)&&t_(r)}function Jv(r,s,o){return o(function(){e_(s)&&t_(r)})}function e_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!zn(r,o)}catch{return!0}}function t_(r){var s=Eo(r,2);s!==null&&Gn(s,r,2)}function bm(r){var s=On();if(typeof r=="function"){var o=r;if(r=o(),xa){Sn(!0);try{o()}finally{Sn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},s}function n_(r,s,o,u){return r.baseState=o,_m(r,it,typeof u=="function"?u:Di)}function Y1(r,s,o,u,f){if(hh(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};j.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,r_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function r_(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var g=j.T,b={};j.T=b;try{var S=o(f,u),k=j.S;k!==null&&k(b,S),i_(r,s,S)}catch(Y){Tm(r,s,Y)}finally{j.T=g}}else try{g=o(f,u),i_(r,s,g)}catch(Y){Tm(r,s,Y)}}function i_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){s_(r,s,u)},function(u){return Tm(r,s,u)}):s_(r,s,o)}function s_(r,s,o){s.status="fulfilled",s.value=o,a_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,r_(r,o)))}function Tm(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,a_(s),s=s.next;while(s!==u)}r.action=null}function a_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function o_(r,s){return s}function l_(r,s){if(Ze){var o=dt.formState;if(o!==null){e:{var u=Me;if(Ze){if(xt){t:{for(var f=xt,g=Qr;f.nodeType!==8;){if(!g){f=null;break t}if(f=Ar(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){xt=Ar(f.nextSibling),u=f.data==="F!";break e}}Ta(u)}u=!1}u&&(s=o[0])}}return o=On(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o_,lastRenderedState:s},o.queue=u,o=R_.bind(null,Me,u),u.dispatch=o,u=bm(!1),g=Rm.bind(null,Me,!1,u.queue),u=On(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=Y1.bind(null,Me,f,g,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function u_(r){var s=Pt();return c_(s,it,r)}function c_(r,s,o){if(s=_m(r,s,o_)[0],r=lh(Di)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ru(s)}catch(b){throw b===Wl?nh:b}else u=s;s=Pt();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Me.flags|=2048,Io(9,uh(),Q1.bind(null,f,o),null)),[u,g,r]}function Q1(r,s){r.action=s}function h_(r){var s=Pt(),o=it;if(o!==null)return c_(s,o,r);Pt(),s=s.memoizedState,o=Pt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Io(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Me.updateQueue,s===null&&(s=ym(),Me.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function uh(){return{destroy:void 0,resource:void 0}}function f_(){return Pt().memoizedState}function ch(r,s,o,u){var f=On();u=u===void 0?null:u,Me.flags|=r,f.memoizedState=Io(1|s,uh(),o,u)}function iu(r,s,o,u){var f=Pt();u=u===void 0?null:u;var g=f.memoizedState.inst;it!==null&&u!==null&&fm(u,it.memoizedState.deps)?f.memoizedState=Io(s,g,o,u):(Me.flags|=r,f.memoizedState=Io(1|s,g,o,u))}function d_(r,s){ch(8390656,8,r,s)}function m_(r,s){iu(2048,8,r,s)}function p_(r,s){return iu(4,2,r,s)}function g_(r,s){return iu(4,4,r,s)}function y_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function v_(r,s,o){o=o!=null?o.concat([r]):null,iu(4,4,y_.bind(null,s,r),o)}function wm(){}function __(r,s){var o=Pt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&fm(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function E_(r,s){var o=Pt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&fm(s,u[1]))return u[0];if(u=r(),xa){Sn(!0);try{r()}finally{Sn(!1)}}return o.memoizedState=[u,s],u}function Sm(r,s,o){return o===void 0||(ls&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=w0(),Me.lanes|=r,ps|=r,o)}function b_(r,s,o,u){return zn(o,s)?o:xo.current!==null?(r=Sm(r,o,u),zn(r,s)||(Xt=!0),r):(ls&42)===0?(Xt=!0,r.memoizedState=o):(r=w0(),Me.lanes|=r,ps|=r,s)}function T_(r,s,o,u,f){var g=W.p;W.p=g!==0&&8>g?g:8;var b=j.T,S={};j.T=S,Rm(r,!1,s,o);try{var k=f(),Y=j.S;if(Y!==null&&Y(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ie=H1(k,u);su(r,s,ie,$n(r))}else su(r,s,u,$n(r))}catch(le){su(r,s,{then:function(){},status:"rejected",reason:le},$n())}finally{W.p=g,j.T=b}}function K1(){}function Am(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=w_(r).queue;T_(r,f,s,te,o===null?K1:function(){return S_(r),o(u)})}function w_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:te},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function S_(r){var s=w_(r).next.queue;su(r,s,{},$n())}function xm(){return vn(wu)}function A_(){return Pt().memoizedState}function x_(){return Pt().memoizedState}function X1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=$n();r=as(o);var u=os(s,r,o);u!==null&&(Gn(u,s,o),Jl(u,s,o)),s={cache:nm()},r.payload=s;return}s=s.return}}function W1(r,s,o){var u=$n();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},hh(r)?C_(s,o):(o=Gd(r,s,o,u),o!==null&&(Gn(o,r,u),I_(o,s,u)))}function R_(r,s,o){var u=$n();su(r,s,o,u)}function su(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(hh(r))C_(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,S=g(b,o);if(f.hasEagerState=!0,f.eagerState=S,zn(S,b))return Qc(r,s,f,0),dt===null&&Yc(),!1}catch{}finally{}if(o=Gd(r,s,f,u),o!==null)return Gn(o,r,u),I_(o,s,u),!0}return!1}function Rm(r,s,o,u){if(u={lane:2,revertLane:sp(),action:u,hasEagerState:!1,eagerState:null,next:null},hh(r)){if(s)throw Error(i(479))}else s=Gd(r,o,u,2),s!==null&&Gn(s,r,2)}function hh(r){var s=r.alternate;return r===Me||s!==null&&s===Me}function C_(r,s){Ro=sh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function I_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Lr(r,o)}}var fh={readContext:vn,use:oh,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},D_={readContext:vn,use:oh,useCallback:function(r,s){return On().memoizedState=[r,s===void 0?null:s],r},useContext:vn,useEffect:d_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,ch(4194308,4,y_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return ch(4194308,4,r,s)},useInsertionEffect:function(r,s){ch(4,2,r,s)},useMemo:function(r,s){var o=On();s=s===void 0?null:s;var u=r();if(xa){Sn(!0);try{r()}finally{Sn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=On();if(o!==void 0){var f=o(s);if(xa){Sn(!0);try{o(s)}finally{Sn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=W1.bind(null,Me,r),[u.memoizedState,r]},useRef:function(r){var s=On();return r={current:r},s.memoizedState=r},useState:function(r){r=bm(r);var s=r.queue,o=R_.bind(null,Me,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:wm,useDeferredValue:function(r,s){var o=On();return Sm(o,r,s)},useTransition:function(){var r=bm(!1);return r=T_.bind(null,Me,r.queue,!0,!1),On().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Me,f=On();if(Ze){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),dt===null)throw Error(i(349));(He&124)!==0||Wv(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,d_(Jv.bind(null,u,g,r),[r]),u.flags|=2048,Io(9,uh(),Zv.bind(null,u,g,o,s),null),o},useId:function(){var r=On(),s=dt.identifierPrefix;if(Ze){var o=Ri,u=xi;o=(u&~(1<<32-Ot(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=ah++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=$1++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:xm,useFormState:l_,useActionState:l_,useOptimistic:function(r){var s=On();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Rm.bind(null,Me,!0,o),o.dispatch=s,[r,s]},useMemoCache:vm,useCacheRefresh:function(){return On().memoizedState=X1.bind(null,Me)}},N_={readContext:vn,use:oh,useCallback:__,useContext:vn,useEffect:m_,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:E_,useReducer:lh,useRef:f_,useState:function(){return lh(Di)},useDebugValue:wm,useDeferredValue:function(r,s){var o=Pt();return b_(o,it.memoizedState,r,s)},useTransition:function(){var r=lh(Di)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:ru(r),s]},useSyncExternalStore:Xv,useId:A_,useHostTransitionStatus:xm,useFormState:u_,useActionState:u_,useOptimistic:function(r,s){var o=Pt();return n_(o,it,r,s)},useMemoCache:vm,useCacheRefresh:x_},Z1={readContext:vn,use:oh,useCallback:__,useContext:vn,useEffect:m_,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:g_,useMemo:E_,useReducer:Em,useRef:f_,useState:function(){return Em(Di)},useDebugValue:wm,useDeferredValue:function(r,s){var o=Pt();return it===null?Sm(o,r,s):b_(o,it.memoizedState,r,s)},useTransition:function(){var r=Em(Di)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:ru(r),s]},useSyncExternalStore:Xv,useId:A_,useHostTransitionStatus:xm,useFormState:h_,useActionState:h_,useOptimistic:function(r,s){var o=Pt();return it!==null?n_(o,it,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:vm,useCacheRefresh:x_},Do=null,au=0;function dh(r){var s=au;return au+=1,Do===null&&(Do=[]),qv(Do,r,s)}function ou(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function mh(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function O_(r){var s=r._init;return s(r._payload)}function M_(r){function s(B,F){if(r){var $=B.deletions;$===null?(B.deletions=[F],B.flags|=16):$.push(F)}}function o(B,F){if(!r)return null;for(;F!==null;)s(B,F),F=F.sibling;return null}function u(B){for(var F=new Map;B!==null;)B.key!==null?F.set(B.key,B):F.set(B.index,B),B=B.sibling;return F}function f(B,F){return B=Ai(B,F),B.index=0,B.sibling=null,B}function g(B,F,$){return B.index=$,r?($=B.alternate,$!==null?($=$.index,$<F?(B.flags|=67108866,F):$):(B.flags|=67108866,F)):(B.flags|=1048576,F)}function b(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function S(B,F,$,ae){return F===null||F.tag!==6?(F=Qd($,B.mode,ae),F.return=B,F):(F=f(F,$),F.return=B,F)}function k(B,F,$,ae){var ve=$.type;return ve===V?ie(B,F,$.props.children,ae,$.key):F!==null&&(F.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&O_(ve)===F.type)?(F=f(F,$.props),ou(F,$),F.return=B,F):(F=Xc($.type,$.key,$.props,null,B.mode,ae),ou(F,$),F.return=B,F)}function Y(B,F,$,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=Kd($,B.mode,ae),F.return=B,F):(F=f(F,$.children||[]),F.return=B,F)}function ie(B,F,$,ae,ve){return F===null||F.tag!==7?(F=va($,B.mode,ae,ve),F.return=B,F):(F=f(F,$),F.return=B,F)}function le(B,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Qd(""+F,B.mode,$),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return $=Xc(F.type,F.key,F.props,null,B.mode,$),ou($,F),$.return=B,$;case x:return F=Kd(F,B.mode,$),F.return=B,F;case R:var ae=F._init;return F=ae(F._payload),le(B,F,$)}if(re(F)||q(F))return F=va(F,B.mode,$,null),F.return=B,F;if(typeof F.then=="function")return le(B,dh(F),$);if(F.$$typeof===Q)return le(B,eh(B,F),$);mh(B,F)}return null}function K(B,F,$,ae){var ve=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ve!==null?null:S(B,F,""+$,ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return $.key===ve?k(B,F,$,ae):null;case x:return $.key===ve?Y(B,F,$,ae):null;case R:return ve=$._init,$=ve($._payload),K(B,F,$,ae)}if(re($)||q($))return ve!==null?null:ie(B,F,$,ae,null);if(typeof $.then=="function")return K(B,F,dh($),ae);if($.$$typeof===Q)return K(B,F,eh(B,$),ae);mh(B,$)}return null}function X(B,F,$,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return B=B.get($)||null,S(F,B,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return B=B.get(ae.key===null?$:ae.key)||null,k(F,B,ae,ve);case x:return B=B.get(ae.key===null?$:ae.key)||null,Y(F,B,ae,ve);case R:var Pe=ae._init;return ae=Pe(ae._payload),X(B,F,$,ae,ve)}if(re(ae)||q(ae))return B=B.get($)||null,ie(F,B,ae,ve,null);if(typeof ae.then=="function")return X(B,F,$,dh(ae),ve);if(ae.$$typeof===Q)return X(B,F,$,eh(F,ae),ve);mh(F,ae)}return null}function Ce(B,F,$,ae){for(var ve=null,Pe=null,Ee=F,Ae=F=0,Zt=null;Ee!==null&&Ae<$.length;Ae++){Ee.index>Ae?(Zt=Ee,Ee=null):Zt=Ee.sibling;var Xe=K(B,Ee,$[Ae],ae);if(Xe===null){Ee===null&&(Ee=Zt);break}r&&Ee&&Xe.alternate===null&&s(B,Ee),F=g(Xe,F,Ae),Pe===null?ve=Xe:Pe.sibling=Xe,Pe=Xe,Ee=Zt}if(Ae===$.length)return o(B,Ee),Ze&&Ea(B,Ae),ve;if(Ee===null){for(;Ae<$.length;Ae++)Ee=le(B,$[Ae],ae),Ee!==null&&(F=g(Ee,F,Ae),Pe===null?ve=Ee:Pe.sibling=Ee,Pe=Ee);return Ze&&Ea(B,Ae),ve}for(Ee=u(Ee);Ae<$.length;Ae++)Zt=X(Ee,B,Ae,$[Ae],ae),Zt!==null&&(r&&Zt.alternate!==null&&Ee.delete(Zt.key===null?Ae:Zt.key),F=g(Zt,F,Ae),Pe===null?ve=Zt:Pe.sibling=Zt,Pe=Zt);return r&&Ee.forEach(function(Ss){return s(B,Ss)}),Ze&&Ea(B,Ae),ve}function Se(B,F,$,ae){if($==null)throw Error(i(151));for(var ve=null,Pe=null,Ee=F,Ae=F=0,Zt=null,Xe=$.next();Ee!==null&&!Xe.done;Ae++,Xe=$.next()){Ee.index>Ae?(Zt=Ee,Ee=null):Zt=Ee.sibling;var Ss=K(B,Ee,Xe.value,ae);if(Ss===null){Ee===null&&(Ee=Zt);break}r&&Ee&&Ss.alternate===null&&s(B,Ee),F=g(Ss,F,Ae),Pe===null?ve=Ss:Pe.sibling=Ss,Pe=Ss,Ee=Zt}if(Xe.done)return o(B,Ee),Ze&&Ea(B,Ae),ve;if(Ee===null){for(;!Xe.done;Ae++,Xe=$.next())Xe=le(B,Xe.value,ae),Xe!==null&&(F=g(Xe,F,Ae),Pe===null?ve=Xe:Pe.sibling=Xe,Pe=Xe);return Ze&&Ea(B,Ae),ve}for(Ee=u(Ee);!Xe.done;Ae++,Xe=$.next())Xe=X(Ee,B,Ae,Xe.value,ae),Xe!==null&&(r&&Xe.alternate!==null&&Ee.delete(Xe.key===null?Ae:Xe.key),F=g(Xe,F,Ae),Pe===null?ve=Xe:Pe.sibling=Xe,Pe=Xe);return r&&Ee.forEach(function(Jx){return s(B,Jx)}),Ze&&Ea(B,Ae),ve}function at(B,F,$,ae){if(typeof $=="object"&&$!==null&&$.type===V&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case w:e:{for(var ve=$.key;F!==null;){if(F.key===ve){if(ve=$.type,ve===V){if(F.tag===7){o(B,F.sibling),ae=f(F,$.props.children),ae.return=B,B=ae;break e}}else if(F.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&O_(ve)===F.type){o(B,F.sibling),ae=f(F,$.props),ou(ae,$),ae.return=B,B=ae;break e}o(B,F);break}else s(B,F);F=F.sibling}$.type===V?(ae=va($.props.children,B.mode,ae,$.key),ae.return=B,B=ae):(ae=Xc($.type,$.key,$.props,null,B.mode,ae),ou(ae,$),ae.return=B,B=ae)}return b(B);case x:e:{for(ve=$.key;F!==null;){if(F.key===ve)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){o(B,F.sibling),ae=f(F,$.children||[]),ae.return=B,B=ae;break e}else{o(B,F);break}else s(B,F);F=F.sibling}ae=Kd($,B.mode,ae),ae.return=B,B=ae}return b(B);case R:return ve=$._init,$=ve($._payload),at(B,F,$,ae)}if(re($))return Ce(B,F,$,ae);if(q($)){if(ve=q($),typeof ve!="function")throw Error(i(150));return $=ve.call($),Se(B,F,$,ae)}if(typeof $.then=="function")return at(B,F,dh($),ae);if($.$$typeof===Q)return at(B,F,eh(B,$),ae);mh(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(o(B,F.sibling),ae=f(F,$),ae.return=B,B=ae):(o(B,F),ae=Qd($,B.mode,ae),ae.return=B,B=ae),b(B)):o(B,F)}return function(B,F,$,ae){try{au=0;var ve=at(B,F,$,ae);return Do=null,ve}catch(Ee){if(Ee===Wl||Ee===nh)throw Ee;var Pe=Fn(29,Ee,null,B.mode);return Pe.lanes=ae,Pe.return=B,Pe}finally{}}}var No=M_(!0),k_=M_(!1),hr=Z(null),Kr=null;function us(r){var s=r.alternate;oe(Ht,Ht.current&1),oe(hr,r),Kr===null&&(s===null||xo.current!==null||s.memoizedState!==null)&&(Kr=r)}function V_(r){if(r.tag===22){if(oe(Ht,Ht.current),oe(hr,r),Kr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Kr=r)}}else cs()}function cs(){oe(Ht,Ht.current),oe(hr,hr.current)}function Ni(r){ce(hr),Kr===r&&(Kr=null),ce(Ht)}var Ht=Z(0);function ph(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||yp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Cm(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Im={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=$n(),f=as(u);f.payload=s,o!=null&&(f.callback=o),s=os(r,f,u),s!==null&&(Gn(s,r,u),Jl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=$n(),f=as(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=os(r,f,u),s!==null&&(Gn(s,r,u),Jl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=$n(),u=as(o);u.tag=2,s!=null&&(u.callback=s),s=os(r,u,o),s!==null&&(Gn(s,r,o),Jl(s,r,o))}};function P_(r,s,o,u,f,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!Bl(o,u)||!Bl(f,g):!0}function j_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Im.enqueueReplaceState(s,s.state,null)}function Ra(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var gh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function L_(r){gh(r)}function U_(r){console.error(r)}function z_(r){gh(r)}function yh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function F_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Dm(r,s,o){return o=as(o),o.tag=3,o.payload={element:null},o.callback=function(){yh(r,s)},o}function q_(r){return r=as(r),r.tag=3,r}function B_(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;r.payload=function(){return f(g)},r.callback=function(){F_(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){F_(s,o,u),typeof f!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function J1(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ql(s,o,f,!0),o=hr.current,o!==null){switch(o.tag){case 13:return Kr===null?ep():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===sm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),np(r,u,f)),!1;case 22:return o.flags|=65536,u===sm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),np(r,u,f)),!1}throw Error(i(435,o.tag))}return np(r,u,f),ep(),!1}if(Ze)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Zd&&(r=Error(i(422),{cause:u}),Yl(or(r,o)))):(u!==Zd&&(s=Error(i(423),{cause:u}),Yl(or(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=or(u,o),f=Dm(r.stateNode,u,f),lm(r,f),Rt!==4&&(Rt=2)),!1;var g=Error(i(520),{cause:u});if(g=or(g,o),mu===null?mu=[g]:mu.push(g),Rt!==4&&(Rt=2),s===null)return!0;u=or(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Dm(o.stateNode,u,r),lm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(gs===null||!gs.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=q_(f),B_(f,r,o,u),lm(o,f),!1}o=o.return}while(o!==null);return!1}var H_=Error(i(461)),Xt=!1;function un(r,s,o,u){s.child=r===null?k_(s,null,o,u):No(s,r.child,o,u)}function $_(r,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return Sa(s),u=dm(r,s,o,b,g,f),S=mm(),r!==null&&!Xt?(pm(r,s,f),Oi(r,s,f)):(Ze&&S&&Xd(s),s.flags|=1,un(r,s,u,f),s.child)}function G_(r,s,o,u,f){if(r===null){var g=o.type;return typeof g=="function"&&!Yd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Y_(r,s,g,u,f)):(r=Xc(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Lm(r,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Bl,o(b,u)&&r.ref===s.ref)return Oi(r,s,f)}return s.flags|=1,r=Ai(g,u),r.ref=s.ref,r.return=s,s.child=r}function Y_(r,s,o,u,f){if(r!==null){var g=r.memoizedProps;if(Bl(g,u)&&r.ref===s.ref)if(Xt=!1,s.pendingProps=u=g,Lm(r,f))(r.flags&131072)!==0&&(Xt=!0);else return s.lanes=r.lanes,Oi(r,s,f)}return Nm(r,s,o,u,f)}function Q_(r,s,o){var u=s.pendingProps,f=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(f=s.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return K_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&th(s,g!==null?g.cachePool:null),g!==null?Yv(s,g):cm(),V_(s);else return s.lanes=s.childLanes=536870912,K_(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(th(s,g.cachePool),Yv(s,g),cs(),s.memoizedState=null):(r!==null&&th(s,null),cm(),cs());return un(r,s,f,o),s.child}function K_(r,s,o,u){var f=im();return f=f===null?null:{parent:Bt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&th(s,null),cm(),V_(s),r!==null&&Ql(r,s,u,!0),null}function vh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Nm(r,s,o,u,f){return Sa(s),o=dm(r,s,o,u,void 0,f),u=mm(),r!==null&&!Xt?(pm(r,s,f),Oi(r,s,f)):(Ze&&u&&Xd(s),s.flags|=1,un(r,s,o,f),s.child)}function X_(r,s,o,u,f,g){return Sa(s),s.updateQueue=null,o=Kv(s,u,o,f),Qv(r),u=mm(),r!==null&&!Xt?(pm(r,s,g),Oi(r,s,g)):(Ze&&u&&Xd(s),s.flags|=1,un(r,s,o,g),s.child)}function W_(r,s,o,u,f){if(Sa(s),s.stateNode===null){var g=bo,b=o.contextType;typeof b=="object"&&b!==null&&(g=vn(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Im,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},am(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?vn(b):bo,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Cm(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Im.enqueueReplaceState(g,g.state,null),tu(s,u,g,f),eu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var S=s.memoizedProps,k=Ra(o,S);g.props=k;var Y=g.context,ie=o.contextType;b=bo,typeof ie=="object"&&ie!==null&&(b=vn(ie));var le=o.getDerivedStateFromProps;ie=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Y!==b)&&j_(s,g,u,b),ss=!1;var K=s.memoizedState;g.state=K,tu(s,u,g,f),eu(),Y=s.memoizedState,S||K!==Y||ss?(typeof le=="function"&&(Cm(s,o,le,u),Y=s.memoizedState),(k=ss||P_(s,o,k,u,K,Y,b))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),g.props=u,g.state=Y,g.context=b,u=k):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,om(r,s),b=s.memoizedProps,ie=Ra(o,b),g.props=ie,le=s.pendingProps,K=g.context,Y=o.contextType,k=bo,typeof Y=="object"&&Y!==null&&(k=vn(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==le||K!==k)&&j_(s,g,u,k),ss=!1,K=s.memoizedState,g.state=K,tu(s,u,g,f),eu();var X=s.memoizedState;b!==le||K!==X||ss||r!==null&&r.dependencies!==null&&Jc(r.dependencies)?(typeof S=="function"&&(Cm(s,o,S,u),X=s.memoizedState),(ie=ss||P_(s,o,ie,u,K,X,k)||r!==null&&r.dependencies!==null&&Jc(r.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,k)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=k,u=ie):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,vh(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=No(s,r.child,null,f),s.child=No(s,null,o,f)):un(r,s,o,f),s.memoizedState=g.state,r=s.child):r=Oi(r,s,f),r}function Z_(r,s,o,u){return Gl(),s.flags|=256,un(r,s,o,u),s.child}var Om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mm(r){return{baseLanes:r,cachePool:Uv()}}function km(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=fr),r}function J_(r,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Ht.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ze){if(f?us(s):cs(),Ze){var S=xt,k;if(k=S){e:{for(k=S,S=Qr;k.nodeType!==8;){if(!S){S=null;break e}if(k=Ar(k.nextSibling),k===null){S=null;break e}}S=k}S!==null?(s.memoizedState={dehydrated:S,treeContext:_a!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},k=Fn(18,null,null,0),k.stateNode=S,k.return=s,s.child=k,Cn=s,xt=null,k=!0):k=!1}k||Ta(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return yp(S)?s.lanes=32:s.lanes=536870912,null;Ni(s)}return S=u.children,u=u.fallback,f?(cs(),f=s.mode,S=_h({mode:"hidden",children:S},f),u=va(u,f,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,f=s.child,f.memoizedState=Mm(o),f.childLanes=km(r,b,o),s.memoizedState=Om,u):(us(s),Vm(s,S))}if(k=r.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(g)s.flags&256?(us(s),s.flags&=-257,s=Pm(r,s,o)):s.memoizedState!==null?(cs(),s.child=r.child,s.flags|=128,s=null):(cs(),f=u.fallback,S=s.mode,u=_h({mode:"visible",children:u.children},S),f=va(f,S,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,No(s,r.child,null,o),u=s.child,u.memoizedState=Mm(o),u.childLanes=km(r,b,o),s.memoizedState=Om,s=f);else if(us(s),yp(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Y=b.dgst;b=Y,u=Error(i(419)),u.stack="",u.digest=b,Yl({value:u,source:null,stack:null}),s=Pm(r,s,o)}else if(Xt||Ql(r,s,o,!1),b=(o&r.childLanes)!==0,Xt||b){if(b=dt,b!==null&&(u=o&-o,u=(u&42)!==0?1:Ke(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,Eo(r,u),Gn(b,r,u),H_;S.data==="$?"||ep(),s=Pm(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=k.treeContext,xt=Ar(S.nextSibling),Cn=s,Ze=!0,ba=null,Qr=!1,r!==null&&(ur[cr++]=xi,ur[cr++]=Ri,ur[cr++]=_a,xi=r.id,Ri=r.overflow,_a=s),s=Vm(s,u.children),s.flags|=4096);return s}return f?(cs(),f=u.fallback,S=s.mode,k=r.child,Y=k.sibling,u=Ai(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,Y!==null?f=Ai(Y,f):(f=va(f,S,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,S=r.child.memoizedState,S===null?S=Mm(o):(k=S.cachePool,k!==null?(Y=Bt._currentValue,k=k.parent!==Y?{parent:Y,pool:Y}:k):k=Uv(),S={baseLanes:S.baseLanes|o,cachePool:k}),f.memoizedState=S,f.childLanes=km(r,b,o),s.memoizedState=Om,u):(us(s),o=r.child,r=o.sibling,o=Ai(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Vm(r,s){return s=_h({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function _h(r,s){return r=Fn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Pm(r,s,o){return No(s,r.child,null,o),r=Vm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function e0(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),em(r.return,s,o)}function jm(r,s,o,u,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function t0(r,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(un(r,s,u.children,o),u=Ht.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&e0(r,o,s);else if(r.tag===19)e0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(oe(Ht,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&ph(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),jm(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&ph(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}jm(s,!0,o,null,g);break;case"together":jm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Oi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ps|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Ql(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ai(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ai(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Lm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Jc(r)))}function ex(r,s,o){switch(s.tag){case 3:ke(s,s.stateNode.containerInfo),is(s,Bt,r.memoizedState.cache),Gl();break;case 27:case 5:ut(s);break;case 4:ke(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(us(s),s.flags|=128,null):(o&s.child.childLanes)!==0?J_(r,s,o):(us(s),r=Oi(r,s,o),r!==null?r.sibling:null);us(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ql(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return t0(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(Ht,Ht.current),u)break;return null;case 22:case 23:return s.lanes=0,Q_(r,s,o);case 24:is(s,Bt,r.memoizedState.cache)}return Oi(r,s,o)}function n0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Xt=!0;else{if(!Lm(r,o)&&(s.flags&128)===0)return Xt=!1,ex(r,s,o);Xt=(r.flags&131072)!==0}else Xt=!1,Ze&&(s.flags&1048576)!==0&&Ov(s,Zc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Yd(u)?(r=Ra(u,r),s.tag=1,s=W_(null,s,u,r,o)):(s.tag=0,s=Nm(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===ne){s.tag=11,s=$_(null,s,u,r,o);break e}else if(f===U){s.tag=14,s=G_(null,s,u,r,o);break e}}throw s=de(u)||u,Error(i(306,s,""))}}return s;case 0:return Nm(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Ra(u,s.pendingProps),W_(r,s,u,f,o);case 3:e:{if(ke(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,om(r,s),tu(s,u,null,o);var b=s.memoizedState;if(u=b.cache,is(s,Bt,u),u!==g.cache&&tm(s,[Bt],o,!0),eu(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Z_(r,s,u,o);break e}else if(u!==f){f=or(Error(i(424)),s),Yl(f),s=Z_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(xt=Ar(r.firstChild),Cn=s,Ze=!0,ba=null,Qr=!0,o=k_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Gl(),u===f){s=Oi(r,s,o);break e}un(r,s,u,o)}s=s.child}return s;case 26:return vh(r,s),r===null?(o=aE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ze||(o=s.type,r=s.pendingProps,u=Mh(_e.current).createElement(o),u[At]=s,u[gt]=r,hn(u,o,r),Ne(u),s.stateNode=u):s.memoizedState=aE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ut(s),r===null&&Ze&&(u=s.stateNode=rE(s.type,s.pendingProps,_e.current),Cn=s,Qr=!0,f=xt,_s(s.type)?(vp=f,xt=Ar(u.firstChild)):xt=f),un(r,s,s.pendingProps.children,o),vh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ze&&((f=u=xt)&&(u=Cx(u,s.type,s.pendingProps,Qr),u!==null?(s.stateNode=u,Cn=s,xt=Ar(u.firstChild),Qr=!1,f=!0):f=!1),f||Ta(s)),ut(s),f=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,u=g.children,mp(f,g)?u=null:b!==null&&mp(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=dm(r,s,G1,null,null,o),wu._currentValue=f),vh(r,s),un(r,s,u,o),s.child;case 6:return r===null&&Ze&&((r=o=xt)&&(o=Ix(o,s.pendingProps,Qr),o!==null?(s.stateNode=o,Cn=s,xt=null,r=!0):r=!1),r||Ta(s)),null;case 13:return J_(r,s,o);case 4:return ke(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=No(s,null,u,o):un(r,s,u,o),s.child;case 11:return $_(r,s,s.type,s.pendingProps,o);case 7:return un(r,s,s.pendingProps,o),s.child;case 8:return un(r,s,s.pendingProps.children,o),s.child;case 12:return un(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,is(s,s.type,u.value),un(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Sa(s),f=vn(f),u=u(f),s.flags|=1,un(r,s,u,o),s.child;case 14:return G_(r,s,s.type,s.pendingProps,o);case 15:return Y_(r,s,s.type,s.pendingProps,o);case 19:return t0(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=_h(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ai(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Q_(r,s,o);case 24:return Sa(s),u=vn(Bt),r===null?(f=im(),f===null&&(f=dt,g=nm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},am(s),is(s,Bt,f)):((r.lanes&o)!==0&&(om(r,s),tu(s,null,null,o),eu()),f=r.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),is(s,Bt,u)):(u=g.cache,is(s,Bt,u),u!==f.cache&&tm(s,[Bt],o,!0))),un(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Mi(r){r.flags|=4}function r0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!hE(s)){if(s=hr.current,s!==null&&((He&4194048)===He?Kr!==null:(He&62914560)!==He&&(He&536870912)===0||s!==Kr))throw Zl=sm,zv;r.flags|=8192}}function Eh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ji():536870912,r.lanes|=s,Vo|=s)}function lu(r,s){if(!Ze)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function tx(r,s,o){var u=s.pendingProps;switch(Wd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(s),null;case 1:return bt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ii(Bt),lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&($l(s)?Mi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vv())),bt(s),null;case 26:return o=s.memoizedState,r===null?(Mi(s),o!==null?(bt(s),r0(s,o)):(bt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Mi(s),bt(s),r0(s,o)):(bt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Mi(s),bt(s),s.flags&=-16777217),null;case 27:St(s),o=_e.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Mi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return bt(s),null}r=ge.current,$l(s)?Mv(s):(r=rE(f,u,o),s.stateNode=r,Mi(s))}return bt(s),null;case 5:if(St(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Mi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return bt(s),null}if(r=ge.current,$l(s))Mv(s);else{switch(f=Mh(_e.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[At]=s,r[gt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(hn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Mi(s)}}return bt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Mi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=_e.current,$l(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=Cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[At]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||X0(r.nodeValue,o)),r||Ta(s)}else r=Mh(r).createTextNode(u),r[At]=s,s.stateNode=r}return bt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=$l(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[At]=s}else Gl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),f=!1}else f=Vv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Ni(s),s):(Ni(s),null)}if(Ni(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Eh(s,s.updateQueue),bt(s),null;case 4:return lt(),r===null&&up(s.stateNode.containerInfo),bt(s),null;case 10:return Ii(s.type),bt(s),null;case 19:if(ce(Ht),f=s.memoizedState,f===null)return bt(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)lu(f,!1);else{if(Rt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=ph(r),g!==null){for(s.flags|=128,lu(f,!1),r=g.updateQueue,s.updateQueue=r,Eh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Nv(o,r),o=o.sibling;return oe(Ht,Ht.current&1|2),s.child}r=r.sibling}f.tail!==null&&nn()>wh&&(s.flags|=128,u=!0,lu(f,!1),s.lanes=4194304)}else{if(!u)if(r=ph(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Eh(s,r),lu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ze)return bt(s),null}else 2*nn()-f.renderingStartTime>wh&&o!==536870912&&(s.flags|=128,u=!0,lu(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(r=f.last,r!==null?r.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=nn(),s.sibling=null,r=Ht.current,oe(Ht,u?r&1|2:r&1),s):(bt(s),null);case 22:case 23:return Ni(s),hm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(bt(s),s.subtreeFlags&6&&(s.flags|=8192)):bt(s),o=s.updateQueue,o!==null&&Eh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ce(Aa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ii(Bt),bt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function nx(r,s){switch(Wd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ii(Bt),lt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return St(s),null;case 13:if(Ni(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Gl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ce(Ht),null;case 4:return lt(),null;case 10:return Ii(s.type),null;case 22:case 23:return Ni(s),hm(),r!==null&&ce(Aa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ii(Bt),null;case 25:return null;default:return null}}function i0(r,s){switch(Wd(s),s.tag){case 3:Ii(Bt),lt();break;case 26:case 27:case 5:St(s);break;case 4:lt();break;case 13:Ni(s);break;case 19:ce(Ht);break;case 10:Ii(s.type);break;case 22:case 23:Ni(s),hm(),r!==null&&ce(Aa);break;case 24:Ii(Bt)}}function uu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(S){ft(s,s.return,S)}}function hs(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,f=s;var k=o,Y=S;try{Y()}catch(ie){ft(f,k,ie)}}}u=u.next}while(u!==g)}}catch(ie){ft(s,s.return,ie)}}function s0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Gv(s,o)}catch(u){ft(r,r.return,u)}}}function a0(r,s,o){o.props=Ra(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ft(r,s,u)}}function cu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){ft(r,s,f)}}function Xr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ft(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ft(r,s,f)}else o.current=null}function o0(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ft(r,r.return,f)}}function Um(r,s,o){try{var u=r.stateNode;wx(u,r.type,o,s),u[gt]=s}catch(f){ft(r,r.return,f)}}function l0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_s(r.type)||r.tag===4}function zm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||l0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_s(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Fm(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Oh));else if(u!==4&&(u===27&&_s(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Fm(r,s,o),r=r.sibling;r!==null;)Fm(r,s,o),r=r.sibling}function bh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&_s(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(bh(r,s,o),r=r.sibling;r!==null;)bh(r,s,o),r=r.sibling}function u0(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);hn(s,u,o),s[At]=r,s[gt]=o}catch(g){ft(r,r.return,g)}}var ki=!1,Dt=!1,qm=!1,c0=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function rx(r,s){if(r=r.containerInfo,fp=Uh,r=bv(r),zd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,S=-1,k=-1,Y=0,ie=0,le=r,K=null;t:for(;;){for(var X;le!==o||f!==0&&le.nodeType!==3||(S=b+f),le!==g||u!==0&&le.nodeType!==3||(k=b+u),le.nodeType===3&&(b+=le.nodeValue.length),(X=le.firstChild)!==null;)K=le,le=X;for(;;){if(le===r)break t;if(K===o&&++Y===f&&(S=b),K===g&&++ie===u&&(k=b),(X=le.nextSibling)!==null)break;le=K,K=le.parentNode}le=X}o=S===-1||k===-1?null:{start:S,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(dp={focusedElem:r,selectionRange:o},Uh=!1,Wt=s;Wt!==null;)if(s=Wt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Wt=r;else for(;Wt!==null;){switch(s=Wt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ce=Ra(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ce,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Se){ft(o,o.return,Se)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)gp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":gp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Wt=r;break}Wt=s.return}}function h0(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:fs(r,o),u&4&&uu(5,o);break;case 1:if(fs(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(b){ft(o,o.return,b)}else{var f=Ra(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){ft(o,o.return,b)}}u&64&&s0(o),u&512&&cu(o,o.return);break;case 3:if(fs(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Gv(r,s)}catch(b){ft(o,o.return,b)}}break;case 27:s===null&&u&4&&u0(o);case 26:case 5:fs(r,o),s===null&&u&4&&o0(o),u&512&&cu(o,o.return);break;case 12:fs(r,o);break;case 13:fs(r,o),u&4&&m0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=fx.bind(null,o),Dx(r,o))));break;case 22:if(u=o.memoizedState!==null||ki,!u){s=s!==null&&s.memoizedState!==null||Dt,f=ki;var g=Dt;ki=u,(Dt=s)&&!g?ds(r,o,(o.subtreeFlags&8772)!==0):fs(r,o),ki=f,Dt=g}break;case 30:break;default:fs(r,o)}}function f0(r){var s=r.alternate;s!==null&&(r.alternate=null,f0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&_r(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var yt=null,Mn=!1;function Vi(r,s,o){for(o=o.child;o!==null;)d0(r,s,o),o=o.sibling}function d0(r,s,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:Dt||Xr(o,s),Vi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||Xr(o,s);var u=yt,f=Mn;_s(o.type)&&(yt=o.stateNode,Mn=!1),Vi(r,s,o),_u(o.stateNode),yt=u,Mn=f;break;case 5:Dt||Xr(o,s);case 6:if(u=yt,f=Mn,yt=null,Vi(r,s,o),yt=u,Mn=f,yt!==null)if(Mn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(o.stateNode)}catch(g){ft(o,s,g)}else try{yt.removeChild(o.stateNode)}catch(g){ft(o,s,g)}break;case 18:yt!==null&&(Mn?(r=yt,tE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ru(r)):tE(yt,o.stateNode));break;case 4:u=yt,f=Mn,yt=o.stateNode.containerInfo,Mn=!0,Vi(r,s,o),yt=u,Mn=f;break;case 0:case 11:case 14:case 15:Dt||hs(2,o,s),Dt||hs(4,o,s),Vi(r,s,o);break;case 1:Dt||(Xr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&a0(o,s,u)),Vi(r,s,o);break;case 21:Vi(r,s,o);break;case 22:Dt=(u=Dt)||o.memoizedState!==null,Vi(r,s,o),Dt=u;break;default:Vi(r,s,o)}}function m0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ru(r)}catch(o){ft(s,s.return,o)}}function ix(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new c0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new c0),s;default:throw Error(i(435,r.tag))}}function Bm(r,s){var o=ix(r);s.forEach(function(u){var f=dx.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function qn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=r,b=s,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(_s(S.type)){yt=S.stateNode,Mn=!1;break e}break;case 5:yt=S.stateNode,Mn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,Mn=!0;break e}S=S.return}if(yt===null)throw Error(i(160));d0(g,b,f),yt=null,Mn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)p0(s,r),s=s.sibling}var Sr=null;function p0(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qn(s,r),Bn(r),u&4&&(hs(3,r,r.return),uu(3,r),hs(5,r,r.return));break;case 1:qn(s,r),Bn(r),u&512&&(Dt||o===null||Xr(o,o.return)),u&64&&ki&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Sr;if(qn(s,r),Bn(r),u&512&&(Dt||o===null||Xr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[vr]||g[At]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),hn(g,u,o),g[At]=r,Ne(g),u=g;break e;case"link":var b=uE("link","href",f).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}g=f.createElement(u),hn(g,u,o),f.head.appendChild(g);break;case"meta":if(b=uE("meta","content",f).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}g=f.createElement(u),hn(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[At]=r,Ne(g),u=g}r.stateNode=u}else cE(f,r.type,r.stateNode);else r.stateNode=lE(f,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?cE(f,r.type,r.stateNode):lE(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Um(r,r.memoizedProps,o.memoizedProps)}break;case 27:qn(s,r),Bn(r),u&512&&(Dt||o===null||Xr(o,o.return)),o!==null&&u&4&&Um(r,r.memoizedProps,o.memoizedProps);break;case 5:if(qn(s,r),Bn(r),u&512&&(Dt||o===null||Xr(o,o.return)),r.flags&32){f=r.stateNode;try{rr(f,"")}catch(X){ft(r,r.return,X)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Um(r,f,o!==null?o.memoizedProps:f)),u&1024&&(qm=!0);break;case 6:if(qn(s,r),Bn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(X){ft(r,r.return,X)}}break;case 3:if(Ph=null,f=Sr,Sr=kh(s.containerInfo),qn(s,r),Sr=f,Bn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ru(s.containerInfo)}catch(X){ft(r,r.return,X)}qm&&(qm=!1,g0(r));break;case 4:u=Sr,Sr=kh(r.stateNode.containerInfo),qn(s,r),Bn(r),Sr=u;break;case 12:qn(s,r),Bn(r);break;case 13:qn(s,r),Bn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Km=nn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Bm(r,u)));break;case 22:f=r.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,Y=ki,ie=Dt;if(ki=Y||f,Dt=ie||k,qn(s,r),Dt=ie,ki=Y,Bn(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||k||ki||Dt||Ca(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){k=o=s;try{if(g=k.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=k.stateNode;var le=k.memoizedProps.style,K=le!=null&&le.hasOwnProperty("display")?le.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(X){ft(k,k.return,X)}}}else if(s.tag===6){if(o===null){k=s;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(X){ft(k,k.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bm(r,o))));break;case 19:qn(s,r),Bn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Bm(r,u)));break;case 30:break;case 21:break;default:qn(s,r),Bn(r)}}function Bn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(l0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=zm(r);bh(r,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(rr(b,""),o.flags&=-33);var S=zm(r);bh(r,S,b);break;case 3:case 4:var k=o.stateNode.containerInfo,Y=zm(r);Fm(r,Y,k);break;default:throw Error(i(161))}}catch(ie){ft(r,r.return,ie)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function g0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;g0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function fs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)h0(r,s.alternate,s),s=s.sibling}function Ca(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:hs(4,s,s.return),Ca(s);break;case 1:Xr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&a0(s,s.return,o),Ca(s);break;case 27:_u(s.stateNode);case 26:case 5:Xr(s,s.return),Ca(s);break;case 22:s.memoizedState===null&&Ca(s);break;case 30:Ca(s);break;default:Ca(s)}r=r.sibling}}function ds(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:ds(f,g,o),uu(4,g);break;case 1:if(ds(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){ft(u,u.return,Y)}if(u=g,f=u.updateQueue,f!==null){var S=u.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)$v(k[f],S)}catch(Y){ft(u,u.return,Y)}}o&&b&64&&s0(g),cu(g,g.return);break;case 27:u0(g);case 26:case 5:ds(f,g,o),o&&u===null&&b&4&&o0(g),cu(g,g.return);break;case 12:ds(f,g,o);break;case 13:ds(f,g,o),o&&b&4&&m0(f,g);break;case 22:g.memoizedState===null&&ds(f,g,o),cu(g,g.return);break;case 30:break;default:ds(f,g,o)}s=s.sibling}}function Hm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Kl(o))}function $m(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r))}function Wr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)y0(r,s,o,u),s=s.sibling}function y0(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Wr(r,s,o,u),f&2048&&uu(9,s);break;case 1:Wr(r,s,o,u);break;case 3:Wr(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r)));break;case 12:if(f&2048){Wr(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){ft(s,s.return,k)}}else Wr(r,s,o,u);break;case 13:Wr(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Wr(r,s,o,u):hu(r,s):g._visibility&2?Wr(r,s,o,u):(g._visibility|=2,Oo(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Hm(b,s);break;case 24:Wr(r,s,o,u),f&2048&&$m(s.alternate,s);break;default:Wr(r,s,o,u)}}function Oo(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,S=o,k=u,Y=b.flags;switch(b.tag){case 0:case 11:case 15:Oo(g,b,S,k,f),uu(8,b);break;case 23:break;case 22:var ie=b.stateNode;b.memoizedState!==null?ie._visibility&2?Oo(g,b,S,k,f):hu(g,b):(ie._visibility|=2,Oo(g,b,S,k,f)),f&&Y&2048&&Hm(b.alternate,b);break;case 24:Oo(g,b,S,k,f),f&&Y&2048&&$m(b.alternate,b);break;default:Oo(g,b,S,k,f)}s=s.sibling}}function hu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:hu(o,u),f&2048&&Hm(u.alternate,u);break;case 24:hu(o,u),f&2048&&$m(u.alternate,u);break;default:hu(o,u)}s=s.sibling}}var fu=8192;function Mo(r){if(r.subtreeFlags&fu)for(r=r.child;r!==null;)v0(r),r=r.sibling}function v0(r){switch(r.tag){case 26:Mo(r),r.flags&fu&&r.memoizedState!==null&&Bx(Sr,r.memoizedState,r.memoizedProps);break;case 5:Mo(r);break;case 3:case 4:var s=Sr;Sr=kh(r.stateNode.containerInfo),Mo(r),Sr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=fu,fu=16777216,Mo(r),fu=s):Mo(r));break;default:Mo(r)}}function _0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function du(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Wt=u,b0(u,r)}_0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E0(r),r=r.sibling}function E0(r){switch(r.tag){case 0:case 11:case 15:du(r),r.flags&2048&&hs(9,r,r.return);break;case 3:du(r);break;case 12:du(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Th(r)):du(r);break;default:du(r)}}function Th(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Wt=u,b0(u,r)}_0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:hs(8,s,s.return),Th(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Th(s));break;default:Th(s)}r=r.sibling}}function b0(r,s){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:hs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Wt=u;else e:for(o=r;Wt!==null;){u=Wt;var f=u.sibling,g=u.return;if(f0(u),u===o){Wt=null;break e}if(f!==null){f.return=g,Wt=f;break e}Wt=g}}}var sx={getCacheForType:function(r){var s=vn(Bt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},ax=typeof WeakMap=="function"?WeakMap:Map,tt=0,dt=null,je=null,He=0,nt=0,Hn=null,ms=!1,ko=!1,Gm=!1,Pi=0,Rt=0,ps=0,Ia=0,Ym=0,fr=0,Vo=0,mu=null,kn=null,Qm=!1,Km=0,wh=1/0,Sh=null,gs=null,cn=0,ys=null,Po=null,jo=0,Xm=0,Wm=null,T0=null,pu=0,Zm=null;function $n(){if((tt&2)!==0&&He!==0)return He&-He;if(j.T!==null){var r=So;return r!==0?r:sp()}return Ur()}function w0(){fr===0&&(fr=(He&536870912)===0||Ze?ta():536870912);var r=hr.current;return r!==null&&(r.flags|=32),fr}function Gn(r,s,o){(r===dt&&(nt===2||nt===9)||r.cancelPendingCommit!==null)&&(Lo(r,0),vs(r,He,fr,!1)),er(r,o),((tt&2)===0||r!==dt)&&(r===dt&&((tt&2)===0&&(Ia|=o),Rt===4&&vs(r,He,fr,!1)),Zr(r))}function S0(r,s,o){if((tt&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||jr(r,s),f=u?ux(r,s):tp(r,s,!0),g=u;do{if(f===0){ko&&!u&&vs(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!ox(o)){f=tp(r,s,!1),g=!1;continue}if(f===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var S=r;f=mu;var k=S.current.memoizedState.isDehydrated;if(k&&(Lo(S,b).flags|=256),b=tp(S,b,!1),b!==2){if(Gm&&!k){S.errorRecoveryDisabledLanes|=g,Ia|=g,f=4;break e}g=kn,kn=f,g!==null&&(kn===null?kn=g:kn.push.apply(kn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){Lo(r,0),vs(r,s,0,!0);break}e:{switch(u=r,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:vs(u,s,fr,!ms);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Km+300-nn(),10<f)){if(vs(u,s,fr,!ms),mi(u,0,!0)!==0)break e;u.timeoutHandle=J0(A0.bind(null,u,o,kn,Sh,Qm,s,fr,Ia,Vo,ms,g,2,-0,0),f);break e}A0(u,o,kn,Sh,Qm,s,fr,Ia,Vo,ms,g,0,-0,0)}}break}while(!0);Zr(r)}function A0(r,s,o,u,f,g,b,S,k,Y,ie,le,K,X){if(r.timeoutHandle=-1,le=s.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Tu={stylesheets:null,count:0,unsuspend:qx},v0(s),le=Hx(),le!==null)){r.cancelPendingCommit=le(O0.bind(null,r,s,g,o,u,f,b,S,k,ie,1,K,X)),vs(r,g,b,!Y);return}O0(r,s,g,o,u,f,b,S,k)}function ox(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!zn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vs(r,s,o,u){s&=~Ym,s&=~Ia,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var g=31-Ot(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&mt(r,o,s)}function Ah(){return(tt&6)===0?(gu(0),!1):!0}function Jm(){if(je!==null){if(nt===0)var r=je.return;else r=je,Ci=wa=null,gm(r),Do=null,au=0,r=je;for(;r!==null;)i0(r.alternate,r),r=r.return;je=null}}function Lo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,Ax(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Jm(),dt=r,je=o=Ai(r.current,null),He=s,nt=0,Hn=null,ms=!1,ko=jr(r,s),Gm=!1,Vo=fr=Ym=Ia=ps=Rt=0,kn=mu=null,Qm=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-Ot(u),g=1<<f;s|=r[f],u&=~g}return Pi=s,Yc(),o}function x0(r,s){Me=null,j.H=fh,s===Wl||s===nh?(s=Bv(),nt=3):s===zv?(s=Bv(),nt=4):nt=s===H_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,je===null&&(Rt=1,yh(r,or(s,r.current)))}function R0(){var r=j.H;return j.H=fh,r===null?fh:r}function C0(){var r=j.A;return j.A=sx,r}function ep(){Rt=4,ms||(He&4194048)!==He&&hr.current!==null||(ko=!0),(ps&134217727)===0&&(Ia&134217727)===0||dt===null||vs(dt,He,fr,!1)}function tp(r,s,o){var u=tt;tt|=2;var f=R0(),g=C0();(dt!==r||He!==s)&&(Sh=null,Lo(r,s)),s=!1;var b=Rt;e:do try{if(nt!==0&&je!==null){var S=je,k=Hn;switch(nt){case 8:Jm(),b=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(s=!0);var Y=nt;if(nt=0,Hn=null,Uo(r,S,k,Y),o&&ko){b=0;break e}break;default:Y=nt,nt=0,Hn=null,Uo(r,S,k,Y)}}lx(),b=Rt;break}catch(ie){x0(r,ie)}while(!0);return s&&r.shellSuspendCounter++,Ci=wa=null,tt=u,j.H=f,j.A=g,je===null&&(dt=null,He=0,Yc()),b}function lx(){for(;je!==null;)I0(je)}function ux(r,s){var o=tt;tt|=2;var u=R0(),f=C0();dt!==r||He!==s?(Sh=null,wh=nn()+500,Lo(r,s)):ko=jr(r,s);e:do try{if(nt!==0&&je!==null){s=je;var g=Hn;t:switch(nt){case 1:nt=0,Hn=null,Uo(r,s,g,1);break;case 2:case 9:if(Fv(g)){nt=0,Hn=null,D0(s);break}s=function(){nt!==2&&nt!==9||dt!==r||(nt=7),Zr(r)},g.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Fv(g)?(nt=0,Hn=null,D0(s)):(nt=0,Hn=null,Uo(r,s,g,7));break;case 5:var b=null;switch(je.tag){case 26:b=je.memoizedState;case 5:case 27:var S=je;if(!b||hE(b)){nt=0,Hn=null;var k=S.sibling;if(k!==null)je=k;else{var Y=S.return;Y!==null?(je=Y,xh(Y)):je=null}break t}}nt=0,Hn=null,Uo(r,s,g,5);break;case 6:nt=0,Hn=null,Uo(r,s,g,6);break;case 8:Jm(),Rt=6;break e;default:throw Error(i(462))}}cx();break}catch(ie){x0(r,ie)}while(!0);return Ci=wa=null,j.H=u,j.A=f,tt=o,je!==null?0:(dt=null,He=0,Yc(),Rt)}function cx(){for(;je!==null&&!gr();)I0(je)}function I0(r){var s=n0(r.alternate,r,Pi);r.memoizedProps=r.pendingProps,s===null?xh(r):je=s}function D0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=X_(o,s,s.pendingProps,s.type,void 0,He);break;case 11:s=X_(o,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:gm(s);default:i0(o,s),s=je=Nv(s,Pi),s=n0(o,s,Pi)}r.memoizedProps=r.pendingProps,s===null?xh(r):je=s}function Uo(r,s,o,u){Ci=wa=null,gm(s),Do=null,au=0;var f=s.return;try{if(J1(r,f,s,o,He)){Rt=1,yh(r,or(o,r.current)),je=null;return}}catch(g){if(f!==null)throw je=f,g;Rt=1,yh(r,or(o,r.current)),je=null;return}s.flags&32768?(Ze||u===1?r=!0:ko||(He&536870912)!==0?r=!1:(ms=r=!0,(u===2||u===9||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),N0(s,r)):xh(s)}function xh(r){var s=r;do{if((s.flags&32768)!==0){N0(s,ms);return}r=s.return;var o=tx(s.alternate,s,Pi);if(o!==null){je=o;return}if(s=s.sibling,s!==null){je=s;return}je=s=r}while(s!==null);Rt===0&&(Rt=5)}function N0(r,s){do{var o=nx(r.alternate,r);if(o!==null){o.flags&=32767,je=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){je=r;return}je=r=o}while(r!==null);Rt=6,je=null}function O0(r,s,o,u,f,g,b,S,k){r.cancelPendingCommit=null;do Rh();while(cn!==0);if((tt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=$d,Mt(r,o,g,b,S,k),r===dt&&(je=dt=null,He=0),Po=s,ys=r,jo=o,Xm=g,Wm=f,T0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,mx(hi,function(){return j0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=j.T,j.T=null,f=W.p,W.p=2,b=tt,tt|=4;try{rx(r,s,o)}finally{tt=b,W.p=f,j.T=u}}cn=1,M0(),k0(),V0()}}function M0(){if(cn===1){cn=0;var r=ys,s=Po,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=j.T,j.T=null;var u=W.p;W.p=2;var f=tt;tt|=4;try{p0(s,r);var g=dp,b=bv(r.containerInfo),S=g.focusedElem,k=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&Ev(S.ownerDocument.documentElement,S)){if(k!==null&&zd(S)){var Y=k.start,ie=k.end;if(ie===void 0&&(ie=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ie,S.value.length);else{var le=S.ownerDocument||document,K=le&&le.defaultView||window;if(K.getSelection){var X=K.getSelection(),Ce=S.textContent.length,Se=Math.min(k.start,Ce),at=k.end===void 0?Se:Math.min(k.end,Ce);!X.extend&&Se>at&&(b=at,at=Se,Se=b);var B=_v(S,Se),F=_v(S,at);if(B&&F&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==F.node||X.focusOffset!==F.offset)){var $=le.createRange();$.setStart(B.node,B.offset),X.removeAllRanges(),Se>at?(X.addRange($),X.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),X.addRange($))}}}}for(le=[],X=S;X=X.parentNode;)X.nodeType===1&&le.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<le.length;S++){var ae=le[S];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Uh=!!fp,dp=fp=null}finally{tt=f,W.p=u,j.T=o}}r.current=s,cn=2}}function k0(){if(cn===2){cn=0;var r=ys,s=Po,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=j.T,j.T=null;var u=W.p;W.p=2;var f=tt;tt|=4;try{h0(r,s.alternate,s)}finally{tt=f,W.p=u,j.T=o}}cn=3}}function V0(){if(cn===4||cn===3){cn=0,tn();var r=ys,s=Po,o=jo,u=T0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?cn=5:(cn=0,Po=ys=null,P0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(gs=null),rn(o),s=s.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=j.T,f=W.p,W.p=2,j.T=null;try{for(var g=r.onRecoverableError,b=0;b<u.length;b++){var S=u[b];g(S.value,{componentStack:S.stack})}}finally{j.T=s,W.p=f}}(jo&3)!==0&&Rh(),Zr(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===Zm?pu++:(pu=0,Zm=r):pu=0,gu(0)}}function P0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Kl(s)))}function Rh(r){return M0(),k0(),V0(),j0()}function j0(){if(cn!==5)return!1;var r=ys,s=Xm;Xm=0;var o=rn(jo),u=j.T,f=W.p;try{W.p=32>o?32:o,j.T=null,o=Wm,Wm=null;var g=ys,b=jo;if(cn=0,Po=ys=null,jo=0,(tt&6)!==0)throw Error(i(331));var S=tt;if(tt|=4,E0(g.current),y0(g,g.current,b,o),tt=S,gu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(pt,g)}catch{}return!0}finally{W.p=f,j.T=u,P0(r,s)}}function L0(r,s,o){s=or(o,s),s=Dm(r.stateNode,s,2),r=os(r,s,2),r!==null&&(er(r,2),Zr(r))}function ft(r,s,o){if(r.tag===3)L0(r,r,o);else for(;s!==null;){if(s.tag===3){L0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(gs===null||!gs.has(u))){r=or(o,r),o=q_(2),u=os(s,o,2),u!==null&&(B_(o,u,s,r),er(u,2),Zr(u));break}}s=s.return}}function np(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new ax;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Gm=!0,f.add(o),r=hx.bind(null,r,s,o),s.then(r,r))}function hx(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,dt===r&&(He&o)===o&&(Rt===4||Rt===3&&(He&62914560)===He&&300>nn()-Km?(tt&2)===0&&Lo(r,0):Ym|=o,Vo===He&&(Vo=0)),Zr(r)}function U0(r,s){s===0&&(s=Ji()),r=Eo(r,s),r!==null&&(er(r,s),Zr(r))}function fx(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),U0(r,o)}function dx(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),U0(r,o)}function mx(r,s){return yn(r,s)}var Ch=null,zo=null,rp=!1,Ih=!1,ip=!1,Da=0;function Zr(r){r!==zo&&r.next===null&&(zo===null?Ch=zo=r:zo=zo.next=r),Ih=!0,rp||(rp=!0,gx())}function gu(r,s){if(!ip&&Ih){ip=!0;do for(var o=!1,u=Ch;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-Ot(42|r)+1)-1,g&=f&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,B0(u,g))}else g=He,g=mi(u,u===dt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||jr(u,g)||(o=!0,B0(u,g));u=u.next}while(o);ip=!1}}function px(){z0()}function z0(){Ih=rp=!1;var r=0;Da!==0&&(Sx()&&(r=Da),Da=0);for(var s=nn(),o=null,u=Ch;u!==null;){var f=u.next,g=F0(u,s);g===0?(u.next=null,o===null?Ch=f:o.next=f,f===null&&(zo=o)):(o=u,(r!==0||(g&3)!==0)&&(Ih=!0)),u=f}gu(r)}function F0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-Ot(g),S=1<<b,k=f[b];k===-1?((S&o)===0||(S&u)!==0)&&(f[b]=pi(S,s)):k<=s&&(r.expiredLanes|=S),g&=~S}if(s=dt,o=He,o=mi(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(nt===2||nt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ct(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||jr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&ct(u),rn(o)){case 2:case 8:o=Zi;break;case 32:o=hi;break;case 268435456:o=fi;break;default:o=hi}return u=q0.bind(null,r),o=yn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&ct(u),r.callbackPriority=2,r.callbackNode=null,2}function q0(r,s){if(cn!==0&&cn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Rh()&&r.callbackNode!==o)return null;var u=He;return u=mi(r,r===dt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(S0(r,u,s),F0(r,nn()),r.callbackNode!=null&&r.callbackNode===o?q0.bind(null,r):null)}function B0(r,s){if(Rh())return null;S0(r,s,!0)}function gx(){xx(function(){(tt&6)!==0?yn(Wi,px):z0()})}function sp(){return Da===0&&(Da=ta()),Da}function H0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:oo(""+r)}function $0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function yx(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=H0((f[gt]||null).action),b=u.submitter;b&&(s=(s=b[gt]||null)?H0(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var S=new lo("action","action",null,u,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Da!==0){var k=b?$0(f,b):new FormData(f);Am(o,{pending:!0,data:k,method:f.method,action:g},null,k)}}else typeof g=="function"&&(S.preventDefault(),k=b?$0(f,b):new FormData(f),Am(o,{pending:!0,data:k,method:f.method,action:g},g,k))},currentTarget:f}]})}}for(var ap=0;ap<Hd.length;ap++){var op=Hd[ap],vx=op.toLowerCase(),_x=op[0].toUpperCase()+op.slice(1);wr(vx,"on"+_x)}wr(Sv,"onAnimationEnd"),wr(Av,"onAnimationIteration"),wr(xv,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(P1,"onTransitionRun"),wr(j1,"onTransitionStart"),wr(L1,"onTransitionCancel"),wr(Rv,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ex=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yu));function G0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var S=u[b],k=S.instance,Y=S.currentTarget;if(S=S.listener,k!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(ie){gh(ie)}f.currentTarget=null,g=k}else for(b=0;b<u.length;b++){if(S=u[b],k=S.instance,Y=S.currentTarget,S=S.listener,k!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(ie){gh(ie)}f.currentTarget=null,g=k}}}}function Le(r,s){var o=s[gi];o===void 0&&(o=s[gi]=new Set);var u=r+"__bubble";o.has(u)||(Y0(s,r,2,!1),o.add(u))}function lp(r,s,o){var u=0;s&&(u|=4),Y0(o,r,u,s)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function up(r){if(!r[Dh]){r[Dh]=!0,an.forEach(function(o){o!=="selectionchange"&&(Ex.has(o)||lp(o,!1,r),lp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Dh]||(s[Dh]=!0,lp("selectionchange",!1,s))}}function Y0(r,s,o,u){switch(yE(s)){case 2:var f=Yx;break;case 8:f=Qx;break;default:f=wp}o=f.bind(null,s,o,r),f=void 0,!sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function cp(r,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===f)break;if(b===4)for(b=u.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;S!==null;){if(b=Er(S),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){u=g=b;continue e}S=S.parentNode}}u=u.return}Oc(function(){var Y=g,ie=ir(o),le=[];e:{var K=Cv.get(r);if(K!==void 0){var X=lo,Ce=r;switch(r){case"keypress":if(Br(o)===0)break e;case"keydown":case"keyup":X=po;break;case"focusin":Ce="focus",X=ho;break;case"focusout":Ce="blur",X=ho;break;case"beforeblur":case"afterblur":X=ho;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=zc;break;case Sv:case Av:case xv:X=fo;break;case Rv:X=qc;break;case"scroll":case"scrollend":X=Mc;break;case"wheel":X=go;break;case"copy":case"cut":case"paste":X=mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Fl;break;case"toggle":case"beforetoggle":X=Hc}var Se=(s&4)!==0,at=!Se&&(r==="scroll"||r==="scrollend"),B=Se?K!==null?K+"Capture":null:K;Se=[];for(var F=Y,$;F!==null;){var ae=F;if($=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||$===null||B===null||(ae=ua(F,B),ae!=null&&Se.push(vu(F,ae,$))),at)break;F=F.return}0<Se.length&&(K=new X(K,Ce,null,o,ie),le.push({event:K,listeners:Se}))}}if((s&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",K&&o!==_i&&(Ce=o.relatedTarget||o.fromElement)&&(Er(Ce)||Ce[sn]))break e;if((X||K)&&(K=ie.window===ie?ie:(K=ie.ownerDocument)?K.defaultView||K.parentWindow:window,X?(Ce=o.relatedTarget||o.toElement,X=Y,Ce=Ce?Er(Ce):null,Ce!==null&&(at=l(Ce),Se=Ce.tag,Ce!==at||Se!==5&&Se!==27&&Se!==6)&&(Ce=null)):(X=null,Ce=Y),X!==Ce)){if(Se=ar,ae="onMouseLeave",B="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(Se=Fl,ae="onPointerLeave",B="onPointerEnter",F="pointer"),at=X==null?K:Ie(X),$=Ce==null?K:Ie(Ce),K=new Se(ae,F+"leave",X,o,ie),K.target=at,K.relatedTarget=$,ae=null,Er(ie)===Y&&(Se=new Se(B,F+"enter",Ce,o,ie),Se.target=$,Se.relatedTarget=at,ae=Se),at=ae,X&&Ce)t:{for(Se=X,B=Ce,F=0,$=Se;$;$=Fo($))F++;for($=0,ae=B;ae;ae=Fo(ae))$++;for(;0<F-$;)Se=Fo(Se),F--;for(;0<$-F;)B=Fo(B),$--;for(;F--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=Fo(Se),B=Fo(B)}Se=null}else Se=null;X!==null&&Q0(le,K,X,Se,!1),Ce!==null&&at!==null&&Q0(le,at,Ce,Se,!0)}}e:{if(K=Y?Ie(Y):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var ve=dv;else if(qt(K))if(mv)ve=M1;else{ve=N1;var Pe=D1}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&kl(Y.elementType)&&(ve=dv):ve=O1;if(ve&&(ve=ve(r,Y))){Si(le,ve,o,ie);break e}Pe&&Pe(r,K,Y),r==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&ns(K,"number",K.value)}switch(Pe=Y?Ie(Y):window,r){case"focusin":(qt(Pe)||Pe.contentEditable==="true")&&(yo=Pe,Fd=Y,Hl=null);break;case"focusout":Hl=Fd=yo=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,Tv(le,o,ie);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":Tv(le,o,ie)}var Ee;if(Gr)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else qe?ee(r,o)&&(Ae="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(E&&o.locale!=="ko"&&(qe||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&qe&&(Ee=Pl()):(qr=ie,rs="value"in qr?qr.value:qr.textContent,qe=!0)),Pe=Nh(Y,Ae),0<Pe.length&&(Ae=new Ul(Ae,r,null,o,ie),le.push({event:Ae,listeners:Pe}),Ee?Ae.data=Ee:(Ee=me(o),Ee!==null&&(Ae.data=Ee)))),(Ee=y?Ft(r,o):Be(r,o))&&(Ae=Nh(Y,"onBeforeInput"),0<Ae.length&&(Pe=new Ul("onBeforeInput","beforeinput",null,o,ie),le.push({event:Pe,listeners:Ae}),Pe.data=Ee)),yx(le,r,Y,o,ie)}G0(le,s)})}function vu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Nh(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ua(r,o),f!=null&&u.unshift(vu(r,f,g)),f=ua(r,s),f!=null&&u.push(vu(r,f,g))),r.tag===3)return u;r=r.return}return[]}function Fo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Q0(r,s,o,u,f){for(var g=s._reactName,b=[];o!==null&&o!==u;){var S=o,k=S.alternate,Y=S.stateNode;if(S=S.tag,k!==null&&k===u)break;S!==5&&S!==26&&S!==27||Y===null||(k=Y,f?(Y=ua(o,g),Y!=null&&b.unshift(vu(o,Y,k))):f||(Y=ua(o,g),Y!=null&&b.push(vu(o,Y,k)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var bx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function K0(r){return(typeof r=="string"?r:""+r).replace(bx,`
`).replace(Tx,"")}function X0(r,s){return s=K0(s),K0(r)===s}function Oh(){}function st(r,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||rr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&rr(r,""+u);break;case"className":zr(r,"class",u);break;case"tabIndex":zr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(r,o,u);break;case"style":Ml(r,u,g);break;case"data":if(s!=="object"){zr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=oo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&st(r,s,"name",f.name,f,null),st(r,s,"formEncType",f.formEncType,f,null),st(r,s,"formMethod",f.formMethod,f,null),st(r,s,"formTarget",f.formTarget,f,null)):(st(r,s,"encType",f.encType,f,null),st(r,s,"method",f.method,f,null),st(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=oo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Oh);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=oo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Le("beforetoggle",r),Le("toggle",r),ts(r,"popover",u);break;case"xlinkActuate":on(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":on(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":on(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":on(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":on(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":on(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":on(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":on(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":on(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ts(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kd.get(o)||o,ts(r,o,u))}}function hp(r,s,o,u,f,g){switch(o){case"style":Ml(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?rr(r,u):(typeof u=="number"||typeof u=="bigint")&&rr(r,""+u);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Oh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yt.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=r[gt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ts(r,o,u)}}}function hn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:st(r,s,g,b,o,null)}}f&&st(r,s,"srcSet",o.srcSet,o,null),u&&st(r,s,"src",o.src,o,null);return;case"input":Le("invalid",r);var S=g=b=f=null,k=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":f=ie;break;case"type":b=ie;break;case"checked":k=ie;break;case"defaultChecked":Y=ie;break;case"value":g=ie;break;case"defaultValue":S=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:st(r,s,u,ie,o,null)}}aa(r,g,S,k,Y,b,f,!1),ao(r);return;case"select":Le("invalid",r),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:st(r,s,f,S,o,null)}s=g,o=b,r.multiple=!!u,s!=null?vi(r,!!u,s,!1):o!=null&&vi(r,!!u,o,!0);return;case"textarea":Le("invalid",r),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:st(r,s,b,S,o,null)}oa(r,u,f,g),ao(r);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(u=o[k],u!=null))switch(k){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(r,s,k,u,o,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(u=0;u<yu.length;u++)Le(yu[u],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:st(r,s,Y,u,o,null)}return;default:if(kl(s)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&hp(r,s,ie,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&st(r,s,S,u,o,null))}function wx(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,S=null,k=null,Y=null,ie=null;for(X in o){var le=o[X];if(o.hasOwnProperty(X)&&le!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=le;default:u.hasOwnProperty(X)||st(r,s,X,null,u,le)}}for(var K in u){var X=u[K];if(le=o[K],u.hasOwnProperty(K)&&(X!=null||le!=null))switch(K){case"type":g=X;break;case"name":f=X;break;case"checked":Y=X;break;case"defaultChecked":ie=X;break;case"value":b=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==le&&st(r,s,K,X,u,le)}}Un(r,b,S,k,Y,ie,g,f);return;case"select":X=b=S=K=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":X=k;default:u.hasOwnProperty(g)||st(r,s,g,null,u,k)}for(f in u)if(g=u[f],k=o[f],u.hasOwnProperty(f)&&(g!=null||k!=null))switch(f){case"value":K=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==k&&st(r,s,f,g,u,k)}s=S,o=b,u=X,K!=null?vi(r,!!o,K,!1):!!u!=!!o&&(s!=null?vi(r,!!o,s,!0):vi(r,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:st(r,s,S,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&st(r,s,b,f,u,g)}rt(r,K,X);return;case"option":for(var Ce in o)if(K=o[Ce],o.hasOwnProperty(Ce)&&K!=null&&!u.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:st(r,s,Ce,null,u,K)}for(k in u)if(K=u[k],X=o[k],u.hasOwnProperty(k)&&K!==X&&(K!=null||X!=null))switch(k){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:st(r,s,k,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)K=o[Se],o.hasOwnProperty(Se)&&K!=null&&!u.hasOwnProperty(Se)&&st(r,s,Se,null,u,K);for(Y in u)if(K=u[Y],X=o[Y],u.hasOwnProperty(Y)&&K!==X&&(K!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:st(r,s,Y,K,u,X)}return;default:if(kl(s)){for(var at in o)K=o[at],o.hasOwnProperty(at)&&K!==void 0&&!u.hasOwnProperty(at)&&hp(r,s,at,void 0,u,K);for(ie in u)K=u[ie],X=o[ie],!u.hasOwnProperty(ie)||K===X||K===void 0&&X===void 0||hp(r,s,ie,K,u,X);return}}for(var B in o)K=o[B],o.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&st(r,s,B,null,u,K);for(le in u)K=u[le],X=o[le],!u.hasOwnProperty(le)||K===X||K==null&&X==null||st(r,s,le,K,u,X)}var fp=null,dp=null;function Mh(r){return r.nodeType===9?r:r.ownerDocument}function W0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function mp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pp=null;function Sx(){var r=window.event;return r&&r.type==="popstate"?r===pp?!1:(pp=r,!0):(pp=null,!1)}var J0=typeof setTimeout=="function"?setTimeout:void 0,Ax=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,xx=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(r){return eE.resolve(null).then(r).catch(Rx)}:J0;function Rx(r){setTimeout(function(){throw r})}function _s(r){return r==="head"}function tE(r,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=r.ownerDocument;if(o&1&&_u(b.documentElement),o&2&&_u(b.body),o&4)for(o=b.head,_u(o),b=o.firstChild;b;){var S=b.nextSibling,k=b.nodeName;b[vr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=S}}if(f===0){r.removeChild(g),Ru(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Ru(s)}function gp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gp(o),_r(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function Cx(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[vr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Ar(r.nextSibling),r===null)break}return null}function Ix(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ar(r.nextSibling),r===null))return null;return r}function yp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Dx(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Ar(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var vp=null;function nE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function rE(r,s,o){switch(s=Mh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function _u(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);_r(r)}var dr=new Map,iE=new Set;function kh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ji=W.d;W.d={f:Nx,r:Ox,D:Mx,C:kx,L:Vx,m:Px,X:Lx,S:jx,M:Ux};function Nx(){var r=ji.f(),s=Ah();return r||s}function Ox(r){var s=nr(r);s!==null&&s.tag===5&&s.type==="form"?S_(s):ji.r(r)}var qo=typeof document>"u"?null:document;function sE(r,s,o){var u=qo;if(u&&typeof s=="string"&&s){var f=kt(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),iE.has(f)||(iE.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),hn(s,"link",r),Ne(s),u.head.appendChild(s)))}}function Mx(r){ji.D(r),sE("dns-prefetch",r,null)}function kx(r,s){ji.C(r,s),sE("preconnect",r,s)}function Vx(r,s,o){ji.L(r,s,o);var u=qo;if(u&&r&&s){var f='link[rel="preload"][as="'+kt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+kt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+kt(o.imageSizes)+'"]')):f+='[href="'+kt(r)+'"]';var g=f;switch(s){case"style":g=Bo(r);break;case"script":g=Ho(r)}dr.has(g)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),dr.set(g,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(Eu(g))||s==="script"&&u.querySelector(bu(g))||(s=u.createElement("link"),hn(s,"link",r),Ne(s),u.head.appendChild(s)))}}function Px(r,s){ji.m(r,s);var o=qo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+kt(u)+'"][href="'+kt(r)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ho(r)}if(!dr.has(g)&&(r=v({rel:"modulepreload",href:r},s),dr.set(g,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bu(g)))return}u=o.createElement("link"),hn(u,"link",r),Ne(u),o.head.appendChild(u)}}}function jx(r,s,o){ji.S(r,s,o);var u=qo;if(u&&r){var f=Ve(u).hoistableStyles,g=Bo(r);s=s||"default";var b=f.get(g);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(Eu(g)))S.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=dr.get(g))&&_p(r,o);var k=b=u.createElement("link");Ne(k),hn(k,"link",r),k._p=new Promise(function(Y,ie){k.onload=Y,k.onerror=ie}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Vh(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:S},f.set(g,b)}}}function Lx(r,s){ji.X(r,s);var o=qo;if(o&&r){var u=Ve(o).hoistableScripts,f=Ho(r),g=u.get(f);g||(g=o.querySelector(bu(f)),g||(r=v({src:r,async:!0},s),(s=dr.get(f))&&Ep(r,s),g=o.createElement("script"),Ne(g),hn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Ux(r,s){ji.M(r,s);var o=qo;if(o&&r){var u=Ve(o).hoistableScripts,f=Ho(r),g=u.get(f);g||(g=o.querySelector(bu(f)),g||(r=v({src:r,async:!0,type:"module"},s),(s=dr.get(f))&&Ep(r,s),g=o.createElement("script"),Ne(g),hn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function aE(r,s,o,u){var f=(f=_e.current)?kh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Bo(o.href),o=Ve(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Bo(o.href);var g=Ve(f).hoistableStyles,b=g.get(r);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=f.querySelector(Eu(r)))&&!g._p&&(b.instance=g,b.state.loading=5),dr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},dr.set(r,o),g||zx(f,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ho(o),o=Ve(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Bo(r){return'href="'+kt(r)+'"'}function Eu(r){return'link[rel="stylesheet"]['+r+"]"}function oE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function zx(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),hn(s,"link",o),Ne(s),r.head.appendChild(s))}function Ho(r){return'[src="'+kt(r)+'"]'}function bu(r){return"script[async]"+r}function lE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+kt(o.href)+'"]');if(u)return s.instance=u,Ne(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ne(u),hn(u,"style",f),Vh(u,o.precedence,r),s.instance=u;case"stylesheet":f=Bo(o.href);var g=r.querySelector(Eu(f));if(g)return s.state.loading|=4,s.instance=g,Ne(g),g;u=oE(o),(f=dr.get(f))&&_p(u,f),g=(r.ownerDocument||r).createElement("link"),Ne(g);var b=g;return b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),hn(g,"link",u),s.state.loading|=4,Vh(g,o.precedence,r),s.instance=g;case"script":return g=Ho(o.src),(f=r.querySelector(bu(g)))?(s.instance=f,Ne(f),f):(u=o,(f=dr.get(g))&&(u=v({},o),Ep(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),Ne(f),hn(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Vh(u,o.precedence,r));return s.instance}function Vh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===s)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function _p(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ep(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Ph=null;function uE(r,s,o){if(Ph===null){var u=new Map,f=Ph=new Map;f.set(o,u)}else f=Ph,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var g=o[f];if(!(g[vr]||g[At]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var S=u.get(b);S?S.push(g):u.set(b,[g])}}return u}function cE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function Fx(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Tu=null;function qx(){}function Bx(r,s,o){if(Tu===null)throw Error(i(475));var u=Tu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Bo(o.href),g=r.querySelector(Eu(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=jh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,Ne(g);return}g=r.ownerDocument||r,o=oE(o),(f=dr.get(f))&&_p(o,f),g=g.createElement("link"),Ne(g);var b=g;b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),hn(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=jh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function Hx(){if(Tu===null)throw Error(i(475));var r=Tu;return r.stylesheets&&r.count===0&&bp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&bp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function jh(){if(this.count--,this.count===0){if(this.stylesheets)bp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Lh=null;function bp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Lh=new Map,s.forEach($x,r),Lh=null,jh.call(r))}function $x(r,s){if(!(s.state.loading&4)){var o=Lh.get(r);if(o)var u=o.get(null);else{o=new Map,Lh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=s.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=jh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var wu={$$typeof:Q,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Gx(r,s,o,u,f,g,b,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function fE(r,s,o,u,f,g,b,S,k,Y,ie,le){return r=new Gx(r,s,o,b,S,k,Y,le),s=1,g===!0&&(s|=24),g=Fn(3,null,null,s),r.current=g,g.stateNode=r,s=nm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},am(g),r}function dE(r){return r?(r=bo,r):bo}function mE(r,s,o,u,f,g){f=dE(f),u.context===null?u.context=f:u.pendingContext=f,u=as(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=os(r,u,s),o!==null&&(Gn(o,r,s),Jl(o,r,s))}function pE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Tp(r,s){pE(r,s),(r=r.alternate)&&pE(r,s)}function gE(r){if(r.tag===13){var s=Eo(r,67108864);s!==null&&Gn(s,r,67108864),Tp(r,67108864)}}var Uh=!0;function Yx(r,s,o,u){var f=j.T;j.T=null;var g=W.p;try{W.p=2,wp(r,s,o,u)}finally{W.p=g,j.T=f}}function Qx(r,s,o,u){var f=j.T;j.T=null;var g=W.p;try{W.p=8,wp(r,s,o,u)}finally{W.p=g,j.T=f}}function wp(r,s,o,u){if(Uh){var f=Sp(u);if(f===null)cp(r,s,u,zh,o),vE(r,u);else if(Xx(f,r,s,o,u))u.stopPropagation();else if(vE(r,u),s&4&&-1<Kx.indexOf(r)){for(;f!==null;){var g=nr(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Ln(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var k=1<<31-Ot(b);S.entanglements[1]|=k,b&=~k}Zr(g),(tt&6)===0&&(wh=nn()+500,gu(0))}}break;case 13:S=Eo(g,2),S!==null&&Gn(S,g,2),Ah(),Tp(g,2)}if(g=Sp(u),g===null&&cp(r,s,u,zh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else cp(r,s,u,null,o)}}function Sp(r){return r=ir(r),Ap(r)}var zh=null;function Ap(r){if(zh=null,r=Er(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return zh=r,null}function yE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Za()){case Wi:return 2;case Zi:return 8;case hi:case Il:return 32;case fi:return 268435456;default:return 32}default:return 32}}var xp=!1,Es=null,bs=null,Ts=null,Su=new Map,Au=new Map,ws=[],Kx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vE(r,s){switch(r){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(s.pointerId)}}function xu(r,s,o,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=nr(s),s!==null&&gE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Xx(r,s,o,u,f){switch(s){case"focusin":return Es=xu(Es,r,s,o,u,f),!0;case"dragenter":return bs=xu(bs,r,s,o,u,f),!0;case"mouseover":return Ts=xu(Ts,r,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return Su.set(g,xu(Su.get(g)||null,r,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Au.set(g,xu(Au.get(g)||null,r,s,o,u,f)),!0}return!1}function _E(r){var s=Er(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,es(r.priority,function(){if(o.tag===13){var u=$n();u=Ke(u);var f=Eo(o,u);f!==null&&Gn(f,o,u),Tp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Sp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);_i=u,o.target.dispatchEvent(u),_i=null}else return s=nr(o),s!==null&&gE(s),r.blockedOn=o,!1;s.shift()}return!0}function EE(r,s,o){Fh(r)&&o.delete(s)}function Wx(){xp=!1,Es!==null&&Fh(Es)&&(Es=null),bs!==null&&Fh(bs)&&(bs=null),Ts!==null&&Fh(Ts)&&(Ts=null),Su.forEach(EE),Au.forEach(EE)}function qh(r,s){r.blockedOn===s&&(r.blockedOn=null,xp||(xp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Wx)))}var Bh=null;function bE(r){Bh!==r&&(Bh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bh===r&&(Bh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(Ap(u||o)===null)continue;break}var g=nr(o);g!==null&&(r.splice(s,3),s-=3,Am(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ru(r){function s(k){return qh(k,r)}Es!==null&&qh(Es,r),bs!==null&&qh(bs,r),Ts!==null&&qh(Ts,r),Su.forEach(s),Au.forEach(s);for(var o=0;o<ws.length;o++){var u=ws[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ws.length&&(o=ws[0],o.blockedOn===null);)_E(o),o.blockedOn===null&&ws.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[gt]||null;if(typeof g=="function")b||bE(o);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[gt]||null)S=b.formAction;else if(Ap(f)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),bE(o)}}}function Rp(r){this._internalRoot=r}Hh.prototype.render=Rp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=$n();mE(o,u,r,s,null,null)},Hh.prototype.unmount=Rp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;mE(r.current,2,null,r,null,null),Ah(),s[sn]=null}};function Hh(r){this._internalRoot=r}Hh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ur();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ws.length&&s!==0&&s<ws[o].priority;o++);ws.splice(o,0,r),o===0&&_E(r)}};var TE=e.version;if(TE!=="19.1.1")throw Error(i(527,TE,"19.1.1"));W.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var Zx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{pt=$h.inject(Zx),We=$h}catch{}}return Iu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=L_,g=U_,b=z_,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=fE(r,1,!1,null,null,o,u,f,g,b,S,null),r[sn]=s.current,up(r),new Rp(s)},Iu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",g=L_,b=U_,S=z_,k=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=fE(r,1,!0,s,o??null,u,f,g,b,S,k,Y),s.context=dE(null),o=s.current,u=$n(),u=Ke(u),f=as(u),f.callback=null,os(o,f,u),o=u,s.current.lanes=o,er(s,o),Zr(s),r[sn]=s.current,up(r),new Hh(s)},Iu.version="19.1.1",Iu}var OE;function lR(){if(OE)return Dp.exports;OE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dp.exports=oR(),Dp.exports}var uR=lR();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ME="popstate";function cR(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return eg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Hu(a)}return fR(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hR(){return Math.random().toString(36).substring(2,10)}function kE(n,e){return{usr:n.state,key:n.key,idx:e}}function eg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?dl(e):e,state:t,key:e&&e.key||i||hR()}}function Hu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function dl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function fR(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let L=v(),N=L==null?null:L-m;m=L,p&&p({action:d,location:M.location,delta:N})}function w(L,N){d="PUSH";let G=eg(M.location,L,N);m=v()+1;let Q=kE(G,m),ne=M.createHref(G);try{c.pushState(Q,"",ne)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(ne)}l&&p&&p({action:d,location:M.location,delta:1})}function x(L,N){d="REPLACE";let G=eg(M.location,L,N);m=v();let Q=kE(G,m),ne=M.createHref(G);c.replaceState(Q,"",ne),l&&p&&p({action:d,location:M.location,delta:0})}function V(L){return dR(L)}let M={get action(){return d},get location(){return n(a,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(ME,T),p=L,()=>{a.removeEventListener(ME,T),p=null}},createHref(L){return e(a,L)},createURL:V,encodeLocation(L){let N=V(L);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:x,go(L){return c.go(L)}};return M}function dR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_t(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Hu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function BT(n,e,t="/"){return mR(n,e,t,!1)}function mR(n,e,t,i){let a=typeof e=="string"?dl(e):e,l=Hi(a.pathname||"/",t);if(l==null)return null;let c=HT(n);pR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=xR(l);d=SR(c[p],m,i)}return d}function HT(n,e=[],t=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(_t(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Fi([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(_t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),HT(l.children,e,v,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:TR(m,l.index),routesMeta:v})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of $T(l.path))a(l,c,d)}),e}function $T(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=$T(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function pR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var gR=/^:[\w-]+$/,yR=3,vR=2,_R=1,ER=10,bR=-2,VE=n=>n==="*";function TR(n,e){let t=n.split("/"),i=t.length;return t.some(VE)&&(i+=bR),e&&(i+=vR),t.filter(a=>!VE(a)).reduce((a,l)=>a+(gR.test(l)?yR:l===""?_R:ER),i)}function wR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function SR(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=Sf({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),w=p.route;if(!T&&m&&t&&!i[i.length-1].route.index&&(T=Sf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:Fi([l,T.pathname]),pathnameBase:DR(Fi([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=Fi([l,T.pathnameBase]))}return c}function Sf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=AR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:T},w)=>{if(v==="*"){let V=d[w]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const x=d[w];return T&&!x?m[v]=void 0:m[v]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function AR(n,e=!1,t=!0){Nr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function xR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function RR(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?dl(n):n;return{pathname:t?t.startsWith("/")?t:CR(t,e):e,search:NR(i),hash:OR(a)}}function CR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function kp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Kg(n){let e=IR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Xg(n,e,t,i=!1){let a;typeof n=="string"?a=dl(n):(a={...n},_t(!a.pathname||!a.pathname.includes("?"),kp("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),kp("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),kp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;a.pathname=w.join("/")}d=T>=0?e[T]:"/"}let p=RR(a,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Fi=n=>n.join("/").replace(/\/\/+/g,"/"),DR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,OR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function MR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var GT=["POST","PUT","PATCH","DELETE"];new Set(GT);var kR=["GET",...GT];new Set(kR);var ml=z.createContext(null);ml.displayName="DataRouter";var Jf=z.createContext(null);Jf.displayName="DataRouterState";z.createContext(!1);var YT=z.createContext({isTransitioning:!1});YT.displayName="ViewTransition";var VR=z.createContext(new Map);VR.displayName="Fetchers";var PR=z.createContext(null);PR.displayName="Await";var Vr=z.createContext(null);Vr.displayName="Navigation";var ic=z.createContext(null);ic.displayName="Location";var ci=z.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var Wg=z.createContext(null);Wg.displayName="RouteError";function jR(n,{relative:e}={}){_t(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(Vr),{hash:a,pathname:l,search:c}=sc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Fi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function pl(){return z.useContext(ic)!=null}function $s(){return _t(pl(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(ic).location}var QT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KT(n){z.useContext(Vr).static||z.useLayoutEffect(n)}function ed(){let{isDataRoute:n}=z.useContext(ci);return n?XR():LR()}function LR(){_t(pl(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(ml),{basename:e,navigator:t}=z.useContext(Vr),{matches:i}=z.useContext(ci),{pathname:a}=$s(),l=JSON.stringify(Kg(i)),c=z.useRef(!1);return KT(()=>{c.current=!0}),z.useCallback((p,m={})=>{if(Nr(c.current,QT),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Xg(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Fi([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,l,a,n])}z.createContext(null);function sc(n,{relative:e}={}){let{matches:t}=z.useContext(ci),{pathname:i}=$s(),a=JSON.stringify(Kg(t));return z.useMemo(()=>Xg(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function UR(n,e){return XT(n,e)}function XT(n,e,t,i){_t(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=z.useContext(Vr),{matches:l}=z.useContext(ci),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let N=v&&v.path||"";WT(p,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let T=$s(),w;if(e){let N=typeof e=="string"?dl(e):e;_t(m==="/"||N.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),w=N}else w=T;let x=w.pathname||"/",V=x;if(m!=="/"){let N=m.replace(/^\//,"").split("/");V="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let M=BT(n,{pathname:V});Nr(v||M!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Nr(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=HR(M&&M.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Fi([m,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:Fi([m,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,t,i);return e&&L?z.createElement(ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},L):L}function zR(){let n=KR(),e=MR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:a},t):null,c)}var FR=z.createElement(zR,null),qR=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(ci.Provider,{value:this.props.routeContext},z.createElement(Wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BR({routeContext:n,match:e,children:t}){let i=z.useContext(ml);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ci.Provider,{value:n},t)}function HR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);_t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:v,errors:T}=t,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,v)=>{let T,w=!1,x=null,V=null;t&&(T=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||FR,c&&(d<0&&v===0?(WT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,V=null):d===v&&(w=!0,V=m.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,v+1)),L=()=>{let N;return T?N=x:w?N=V:m.route.Component?N=z.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=p,z.createElement(BR,{match:m,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:N})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?z.createElement(qR,{location:t.location,revalidation:t.revalidation,component:x,error:T,children:L(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):L()},null)}function Zg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $R(n){let e=z.useContext(ml);return _t(e,Zg(n)),e}function GR(n){let e=z.useContext(Jf);return _t(e,Zg(n)),e}function YR(n){let e=z.useContext(ci);return _t(e,Zg(n)),e}function Jg(n){let e=YR(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QR(){return Jg("useRouteId")}function KR(){let n=z.useContext(Wg),e=GR("useRouteError"),t=Jg("useRouteError");return n!==void 0?n:e.errors?.[t]}function XR(){let{router:n}=$R("useNavigate"),e=Jg("useNavigate"),t=z.useRef(!1);return KT(()=>{t.current=!0}),z.useCallback(async(a,l={})=>{Nr(t.current,QT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var PE={};function WT(n,e,t){!e&&!PE[n]&&(PE[n]=!0,Nr(!1,t))}z.memo(WR);function WR({routes:n,future:e,state:t}){return XT(n,void 0,t,e)}function ZR({to:n,replace:e,state:t,relative:i}){_t(pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=z.useContext(Vr);Nr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=z.useContext(ci),{pathname:c}=$s(),d=ed(),p=Xg(n,Kg(l),c,i==="path"),m=JSON.stringify(p);return z.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:i})},[d,m,i,e,t]),null}function xr(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){_t(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=dl(t));let{pathname:p="/",search:m="",hash:v="",state:T=null,key:w="default"}=t,x=z.useMemo(()=>{let V=Hi(p,c);return V==null?null:{location:{pathname:V,search:m,hash:v,state:T,key:w},navigationType:i}},[c,p,m,v,T,w,i]);return Nr(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:z.createElement(Vr.Provider,{value:d},z.createElement(ic.Provider,{children:e,value:x}))}function eC({children:n,location:e}){return UR(tg(n),e)}function tg(n,e=[]){let t=[];return z.Children.forEach(n,(i,a)=>{if(!z.isValidElement(i))return;let l=[...e,a];if(i.type===z.Fragment){t.push.apply(t,tg(i.props.children,l));return}_t(i.type===xr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=tg(i.props.children,l)),t.push(c)}),t}var af="get",of="application/x-www-form-urlencoded";function td(n){return n!=null&&typeof n.tagName=="string"}function tC(n){return td(n)&&n.tagName.toLowerCase()==="button"}function nC(n){return td(n)&&n.tagName.toLowerCase()==="form"}function rC(n){return td(n)&&n.tagName.toLowerCase()==="input"}function iC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sC(n,e){return n.button===0&&(!e||e==="_self")&&!iC(n)}var Yh=null;function aC(){if(Yh===null)try{new FormData(document.createElement("form"),0),Yh=!1}catch{Yh=!0}return Yh}var oC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vp(n){return n!=null&&!oC.has(n)?(Nr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${of}"`),null):n}function lC(n,e){let t,i,a,l,c;if(nC(n)){let d=n.getAttribute("action");i=d?Hi(d,e):null,t=n.getAttribute("method")||af,a=Vp(n.getAttribute("enctype"))||of,l=new FormData(n)}else if(tC(n)||rC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Hi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||af,a=Vp(n.getAttribute("formenctype"))||Vp(d.getAttribute("enctype"))||of,l=new FormData(d,n),!aC()){let{name:m,type:v,value:T}=n;if(v==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,T)}}else{if(td(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=af,i=null,a=of,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ey(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function uC(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Hi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function cC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fC(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await cC(l,t);return c.links?c.links():[]}return[]}));return gC(i.flat(1).filter(hC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function jE(n,e,t,i,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>t[m].pathname!==p.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function dC(n,e,{includeHydrateFallback:t}={}){return mC(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function mC(n){return[...new Set(n)]}function pC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function gC(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(pC(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function ZT(){let n=z.useContext(ml);return ey(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yC(){let n=z.useContext(Jf);return ey(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ty=z.createContext(void 0);ty.displayName="FrameworkContext";function JT(){let n=z.useContext(ty);return ey(n,"You must render this element inside a <HydratedRouter> element"),n}function vC(n,e){let t=z.useContext(ty),[i,a]=z.useState(!1),[l,c]=z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:T}=e,w=z.useRef(null);z.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=N=>{N.forEach(G=>{c(G.isIntersecting)})},L=new IntersectionObserver(M,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[n]),z.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let x=()=>{a(!0)},V=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:Du(d,x),onBlur:Du(p,V),onMouseEnter:Du(m,x),onMouseLeave:Du(v,V),onTouchStart:Du(T,x)}]:[!1,w,{}]}function Du(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _C({page:n,...e}){let{router:t}=ZT(),i=z.useMemo(()=>BT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(bC,{page:n,matches:i,...e}):null}function EC(n){let{manifest:e,routeModules:t}=JT(),[i,a]=z.useState([]);return z.useEffect(()=>{let l=!1;return fC(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function bC({page:n,matches:e,...t}){let i=$s(),{manifest:a,routeModules:l}=JT(),{basename:c}=ZT(),{loaderData:d,matches:p}=yC(),m=z.useMemo(()=>jE(n,e,p,a,i,"data"),[n,e,p,a,i]),v=z.useMemo(()=>jE(n,e,p,a,i,"assets"),[n,e,p,a,i]),T=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let V=new Set,M=!1;if(e.forEach(N=>{let G=a.routes[N.route.id];!G||!G.hasLoader||(!m.some(Q=>Q.route.id===N.route.id)&&N.route.id in d&&l[N.route.id]?.shouldRevalidate||G.hasClientLoader?M=!0:V.add(N.route.id))}),V.size===0)return[];let L=uC(n,c,"data");return M&&V.size>0&&L.searchParams.set("_routes",e.filter(N=>V.has(N.route.id)).map(N=>N.route.id).join(",")),[L.pathname+L.search]},[c,d,i,a,m,e,n,l]),w=z.useMemo(()=>dC(v,a),[v,a]),x=EC(v);return z.createElement(z.Fragment,null,T.map(V=>z.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),w.map(V=>z.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),x.map(({key:V,link:M})=>z.createElement("link",{key:V,...M})))}function TC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ew=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ew&&(window.__reactRouterVersion="7.7.1")}catch{}function wC({basename:n,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=cR({window:t,v5Compat:!0}));let a=i.current,[l,c]=z.useState({action:a.action,location:a.location}),d=z.useCallback(p=>{z.startTransition(()=>c(p))},[c]);return z.useLayoutEffect(()=>a.listen(d),[a,d]),z.createElement(JR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:v,viewTransition:T,...w},x){let{basename:V}=z.useContext(Vr),M=typeof m=="string"&&tw.test(m),L,N=!1;if(typeof m=="string"&&M&&(L=m,ew))try{let D=new URL(window.location.href),P=m.startsWith("//")?new URL(D.protocol+m):new URL(m),O=Hi(P.pathname,V);P.origin===D.origin&&O!=null?m=O+P.search+P.hash:N=!0}catch{Nr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=jR(m,{relative:a}),[Q,ne,J]=vC(i,w),fe=RC(m,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:T});function U(D){e&&e(D),D.defaultPrevented||fe(D)}let R=z.createElement("a",{...w,...J,href:L||G,onClick:N||l?e:U,ref:TC(x,ne),target:p,"data-discover":!M&&t==="render"?"true":void 0});return Q&&!M?z.createElement(z.Fragment,null,R,z.createElement(_C,{page:G})):R});vt.displayName="Link";var SC=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...m},v){let T=sc(c,{relative:m.relative}),w=$s(),x=z.useContext(Jf),{navigator:V,basename:M}=z.useContext(Vr),L=x!=null&&OC(T)&&d===!0,N=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,G=w.pathname,Q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(G=G.toLowerCase(),Q=Q?Q.toLowerCase():null,N=N.toLowerCase()),Q&&M&&(Q=Hi(Q,M)||Q);const ne=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let J=G===N||!a&&G.startsWith(N)&&G.charAt(ne)==="/",fe=Q!=null&&(Q===N||!a&&Q.startsWith(N)&&Q.charAt(N.length)==="/"),U={isActive:J,isPending:fe,isTransitioning:L},R=J?e:void 0,D;typeof i=="function"?D=i(U):D=[i,J?"active":null,fe?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(U):l;return z.createElement(vt,{...m,"aria-current":R,className:D,ref:v,style:P,to:c,viewTransition:d},typeof p=="function"?p(U):p)});SC.displayName="NavLink";var AC=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=af,action:d,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:T,...w},x)=>{let V=DC(),M=NC(d,{relative:m}),L=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&tw.test(d),G=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let ne=Q.nativeEvent.submitter,J=ne?.getAttribute("formmethod")||c;V(ne||Q.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:a,state:l,relative:m,preventScrollReset:v,viewTransition:T})};return z.createElement("form",{ref:x,method:L,action:M,onSubmit:i?p:G,...w,"data-discover":!N&&n==="render"?"true":void 0})});AC.displayName="Form";function xC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(n){let e=z.useContext(ml);return _t(e,xC(n)),e}function RC(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ed(),p=$s(),m=sc(n,{relative:l});return z.useCallback(v=>{if(sC(v,e)){v.preventDefault();let T=t!==void 0?t:Hu(p)===Hu(m);d(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,m,t,i,e,n,a,l,c])}var CC=0,IC=()=>`__${String(++CC)}__`;function DC(){let{router:n}=nw("useSubmit"),{basename:e}=z.useContext(Vr),t=QR();return z.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=lC(i,e);if(a.navigate===!1){let v=a.fetcherKey||IC();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function NC(n,{relative:e}={}){let{basename:t}=z.useContext(Vr),i=z.useContext(ci);_t(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...sc(n||".",{relative:e})},c=$s();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Fi([t,l.pathname])),Hu(l)}function OC(n,{relative:e}={}){let t=z.useContext(YT);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nw("useViewTransitionState"),a=sc(n,{relative:e});if(!t.isTransitioning)return!1;let l=Hi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Hi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Sf(a.pathname,c)!=null||Sf(a.pathname,l)!=null}const MC=()=>{};var LE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},kC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|m>>6,x=m&63;p||(x=64,c||(w=64)),i.push(t[v],t[T],t[w],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(rw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||m==null||T==null)throw new VC;const w=l<<2|d>>4;if(i.push(w),m!==64){const x=d<<4&240|m>>2;if(i.push(x),T!==64){const V=m<<6&192|T;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class VC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PC=function(n){const e=rw(n);return iw.encodeByteArray(e,!0)},Af=function(n){return PC(n).replace(/\./g,"")},sw=function(n){try{return iw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=()=>jC().__FIREBASE_DEFAULTS__,UC=()=>{if(typeof process>"u"||typeof LE>"u")return;const n=LE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&sw(n[1]);return e&&JSON.parse(e)},nd=()=>{try{return MC()||LC()||UC()||zC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aw=n=>nd()?.emulatorHosts?.[n],FC=n=>{const e=aw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},ow=()=>nd()?.config,lw=n=>nd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Af(JSON.stringify(t)),Af(JSON.stringify(c)),""].join(".")}const ju={};function HC(){const n={prod:[],emulator:[]};for(const e of Object.keys(ju))ju[e]?n.emulator.push(e):n.prod.push(e);return n}function $C(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let UE=!1;function cw(n,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||ju[n]===e||ju[n]||UE)return;ju[n]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=HC().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{UE=!0,c()},w}function v(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=$C(i),x=t("text"),V=document.getElementById(x)||document.createElement("span"),M=t("learnmore"),L=document.getElementById(M)||document.createElement("a"),N=t("preprendIcon"),G=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Q=w.element;d(Q),v(L,M);const ne=m();p(G,N),Q.append(G,V,L,ne),document.body.appendChild(Q)}l?(V.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function YC(){const n=nd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WC(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZC(){return!YC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JC(){try{return typeof indexedDB=="object"}catch{return!1}}function eI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="FirebaseError";class Ki extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=tI,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?nI(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ki(a,d,i)}}function nI(n,e){return n.replace(rI,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const rI=/\{\$([^}]+)}/g;function iI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(zE(l)&&zE(c)){if(!Pa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function zE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Nu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ou(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function sI(n,e){const t=new aI(n,e);return t.subscribe.bind(t)}class aI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");oI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Pp),a.error===void 0&&(a.error=Pp),a.complete===void 0&&(a.complete=Pp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n){return n&&n._delegate?n._delegate:n}class ja{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new qC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cI(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(n){return n===Na?void 0:n}function cI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const fI={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},dI=Ue.INFO,mI={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},pI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=mI[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ny{constructor(e){this.name=e,this._logLevel=dI,this._logHandler=pI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const gI=(n,e)=>e.some(t=>n instanceof t);let FE,qE;function yI(){return FE||(FE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vI(){return qE||(qE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hw=new WeakMap,ng=new WeakMap,fw=new WeakMap,jp=new WeakMap,ry=new WeakMap;function _I(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ms(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&hw.set(t,n)}).catch(()=>{}),ry.set(e,n),e}function EI(n){if(ng.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ng.set(n,e)}let rg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ng.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ms(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bI(n){rg=n(rg)}function TI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Lp(this),e,...t);return fw.set(i,e.sort?e.sort():[e]),Ms(i)}:vI().includes(n)?function(...e){return n.apply(Lp(this),e),Ms(hw.get(this))}:function(...e){return Ms(n.apply(Lp(this),e))}}function wI(n){return typeof n=="function"?TI(n):(n instanceof IDBTransaction&&EI(n),gI(n,yI())?new Proxy(n,rg):n)}function Ms(n){if(n instanceof IDBRequest)return _I(n);if(jp.has(n))return jp.get(n);const e=wI(n);return e!==n&&(jp.set(n,e),ry.set(e,n)),e}const Lp=n=>ry.get(n);function SI(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=Ms(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ms(c.result),p.oldVersion,p.newVersion,Ms(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const AI=["get","getKey","getAll","getAllKeys","count"],xI=["put","add","delete","clear"],Up=new Map;function BE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Up.get(e))return Up.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=xI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||AI.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&p.done]))[0]};return Up.set(e,l),l}bI(n=>({...n,get:(e,t,i)=>BE(e,t)||n.get(e,t,i),has:(e,t)=>!!BE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function CI(n){return n.getComponent()?.type==="VERSION"}const ig="@firebase/app",HE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new ny("@firebase/app"),II="@firebase/app-compat",DI="@firebase/analytics-compat",NI="@firebase/analytics",OI="@firebase/app-check-compat",MI="@firebase/app-check",kI="@firebase/auth",VI="@firebase/auth-compat",PI="@firebase/database",jI="@firebase/data-connect",LI="@firebase/database-compat",UI="@firebase/functions",zI="@firebase/functions-compat",FI="@firebase/installations",qI="@firebase/installations-compat",BI="@firebase/messaging",HI="@firebase/messaging-compat",$I="@firebase/performance",GI="@firebase/performance-compat",YI="@firebase/remote-config",QI="@firebase/remote-config-compat",KI="@firebase/storage",XI="@firebase/storage-compat",WI="@firebase/firestore",ZI="@firebase/ai",JI="@firebase/firestore-compat",eD="firebase",tD="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="[DEFAULT]",nD={[ig]:"fire-core",[II]:"fire-core-compat",[NI]:"fire-analytics",[DI]:"fire-analytics-compat",[MI]:"fire-app-check",[OI]:"fire-app-check-compat",[kI]:"fire-auth",[VI]:"fire-auth-compat",[PI]:"fire-rtdb",[jI]:"fire-data-connect",[LI]:"fire-rtdb-compat",[UI]:"fire-fn",[zI]:"fire-fn-compat",[FI]:"fire-iid",[qI]:"fire-iid-compat",[BI]:"fire-fcm",[HI]:"fire-fcm-compat",[$I]:"fire-perf",[GI]:"fire-perf-compat",[YI]:"fire-rc",[QI]:"fire-rc-compat",[KI]:"fire-gcs",[XI]:"fire-gcs-compat",[WI]:"fire-fst",[JI]:"fire-fst-compat",[ZI]:"fire-vertex","fire-js":"fire-js",[eD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new Map,rD=new Map,ag=new Map;function $E(n,e){try{n.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function al(n){const e=n.name;if(ag.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,n);for(const t of xf.values())$E(t,n);for(const t of rD.values())$E(t,n);return!0}function iy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new ac("app","Firebase",iD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=tD;function dw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:sg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw ks.create("bad-app-name",{appName:String(a)});if(t||(t=ow()),!t)throw ks.create("no-options");const l=xf.get(a);if(l){if(Pa(t,l.options)&&Pa(i,l.config))return l;throw ks.create("duplicate-app",{appName:a})}const c=new hI(a);for(const p of ag.values())c.addComponent(p);const d=new sD(t,i,c);return xf.set(a,d),d}function mw(n=sg){const e=xf.get(n);if(!e&&n===sg&&ow())return dw();if(!e)throw ks.create("no-app",{appName:n});return e}function Vs(n,e,t){let i=nD[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(c.join(" "));return}al(new ja(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="firebase-heartbeat-database",oD=1,$u="firebase-heartbeat-store";let zp=null;function pw(){return zp||(zp=SI(aD,oD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($u)}catch(t){console.warn(t)}}}}).catch(n=>{throw ks.create("idb-open",{originalErrorMessage:n.message})})),zp}async function lD(n){try{const t=(await pw()).transaction($u),i=await t.objectStore($u).get(gw(n));return await t.done,i}catch(e){if(e instanceof Ki)$i.warn(e.message);else{const t=ks.create("idb-get",{originalErrorMessage:e?.message});$i.warn(t.message)}}}async function GE(n,e){try{const i=(await pw()).transaction($u,"readwrite");await i.objectStore($u).put(e,gw(n)),await i.done}catch(t){if(t instanceof Ki)$i.warn(t.message);else{const i=ks.create("idb-set",{originalErrorMessage:t?.message});$i.warn(i.message)}}}function gw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=1024,cD=30;class hD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=YE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>cD){const a=mD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=YE(),{heartbeatsToSend:t,unsentEntries:i}=fD(this._heartbeatsCache.heartbeats),a=Af(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return $i.warn(e),""}}}function YE(){return new Date().toISOString().substring(0,10)}function fD(n,e=uD){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),QE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),QE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class dD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JC()?eI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lD(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return GE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return GE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function QE(n){return Af(JSON.stringify({version:2,heartbeats:n})).length}function mD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(n){al(new ja("platform-logger",e=>new RI(e),"PRIVATE")),al(new ja("heartbeat",e=>new hD(e),"PRIVATE")),Vs(ig,HE,n),Vs(ig,HE,"esm2020"),Vs("fire-js","")}pD("");function yw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gD=yw,vw=new ac("auth","Firebase",yw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new ny("@firebase/auth");function yD(n,...e){Rf.logLevel<=Ue.WARN&&Rf.warn(`Auth (${yl}): ${n}`,...e)}function lf(n,...e){Rf.logLevel<=Ue.ERROR&&Rf.error(`Auth (${yl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(n,...e){throw sy(n,...e)}function ri(n,...e){return sy(n,...e)}function _w(n,e,t){const i={...gD(),[e]:t};return new ac("auth","Firebase",i).create(e,{appName:n.name})}function qi(n){return _w(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return vw.create(n,...e)}function Re(n,e,...t){if(!n)throw sy(e,...t)}function Ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lf(e),new Error(e)}function Gi(n,e){n||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(){return typeof self<"u"&&self.location?.href||""}function vD(){return KE()==="http:"||KE()==="https:"}function KE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vD()||KC()||"connection"in navigator)?navigator.onLine:!0}function ED(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gi(t>e,"Short delay should be less than long delay!"),this.isMobile=GC()||XC()}get(){return _D()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(n,e){Gi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wD=new lc(3e4,6e4);function Gs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ys(n,e,t,i,a={}){return bw(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=oc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...l};return QC()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&gl(n.emulatorConfig.host)&&(m.credentials="include"),Ew.fetch()(await Tw(n,n.config.apiHost,t,d),m)})}async function bw(n,e,t){n._canInitEmulator=!1;const i={...bD,...e};try{const a=new AD(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Qh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Qh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Qh(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw _w(n,v,m);Or(n,v)}}catch(a){if(a instanceof Ki)throw a;Or(n,"network-request-failed",{message:String(a)})}}async function uc(n,e,t,i,a={}){const l=await Ys(n,e,t,i,a);return"mfaPendingCredential"in l&&Or(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Tw(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?ay(n.config,a):`${n.config.apiScheme}://${a}`;return TD.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function SD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ri(this.auth,"network-request-failed")),wD.get())})}}function Qh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ri(n,e,i);return a.customData._tokenResponse=t,a}function XE(n){return n!==void 0&&n.enterprise!==void 0}class xD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return SD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RD(n,e){return Ys(n,"GET","/v2/recaptchaConfig",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(n,e){return Ys(n,"POST","/v1/accounts:delete",e)}async function Cf(n,e){return Ys(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ID(n,e=!1){const t=Ct(n),i=await t.getIdToken(e),a=oy(i);Re(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Lu(Fp(a.auth_time)),issuedAtTime:Lu(Fp(a.iat)),expirationTime:Lu(Fp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Fp(n){return Number(n)*1e3}function oy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const a=sw(t);return a?JSON.parse(a):(lf("Failed to decode base64 JWT payload"),null)}catch(a){return lf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function WE(n){const e=oy(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ki&&DD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function DD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(n){const e=n.auth,t=await n.getIdToken(),i=await Gu(n,Cf(e,{idToken:t}));Re(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?ww(a.providerUserInfo):[],c=MD(n.providerData,l),d=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!c?.length,m=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new lg(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function OD(n){const e=Ct(n);await If(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MD(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function ww(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(n,e){const t=await bw(n,{},async()=>{const i=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Tw(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&gl(n.emulatorConfig.host)&&(p.credentials="include"),Ew.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function VD(n,e){return Ys(n,"POST","/v2/accounts:revokeToken",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=WE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await kD(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new nl;return i&&(Re(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Rr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new ND(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new lg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ID(this,e)}reload(){return OD(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await If(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await Gu(this,CD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:x,providerData:V,stsTokenManager:M}=t;Re(T&&M,e,"internal-error");const L=nl.fromJSON(this.name,M);Re(typeof T=="string",e,"internal-error"),As(i,e.name),As(a,e.name),Re(typeof w=="boolean",e,"internal-error"),Re(typeof x=="boolean",e,"internal-error"),As(l,e.name),As(c,e.name),As(d,e.name),As(p,e.name),As(m,e.name),As(v,e.name);const N=new Rr({uid:T,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:m,lastLoginAt:v});return V&&Array.isArray(V)&&(N.providerData=V.map(G=>({...G}))),p&&(N._redirectEventId=p),N}static async _fromIdTokenResponse(e,t,i=!1){const a=new nl;a.updateFromServerResponse(t);const l=new Rr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await If(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ww(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new nl;d.updateFromIdToken(i);const p=new Rr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new lg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;function zi(n){Gi(n instanceof Function,"Expected a class definition");let e=ZE.get(n);return e?(Gi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ZE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Sw.type="NONE";const JE=Sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(n,e,t){return`firebase:${n}:${e}:${t}`}class rl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=uf(this.userKey,a.apiKey,l),this.fullPersistenceKey=uf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Cf(this.auth,{idToken:e}).catch(()=>{});return t?Rr._fromGetAccountInfoResponse(this.auth,t,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new rl(zi(JE),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||zi(JE);const c=uf(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(c);if(v){let T;if(typeof v=="string"){const w=await Cf(e,{idToken:v}).catch(()=>{});if(!w)break;T=await Rr._fromGetAccountInfoResponse(e,w,v)}else T=Rr._fromJSON(e,v);m!==l&&(d=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new rl(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new rl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Aw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Dw(e))return"Blackberry";if(Nw(e))return"Webos";if(xw(e))return"Safari";if((e.includes("chrome/")||Rw(e))&&!e.includes("edge/"))return"Chrome";if(Iw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Aw(n=wn()){return/firefox\//i.test(n)}function xw(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rw(n=wn()){return/crios\//i.test(n)}function Cw(n=wn()){return/iemobile/i.test(n)}function Iw(n=wn()){return/android/i.test(n)}function Dw(n=wn()){return/blackberry/i.test(n)}function Nw(n=wn()){return/webos/i.test(n)}function ly(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PD(n=wn()){return ly(n)&&!!window.navigator?.standalone}function jD(){return WC()&&document.documentMode===10}function Ow(n=wn()){return ly(n)||Iw(n)||Nw(n)||Dw(n)||/windows phone/i.test(n)||Cw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(n,e=[]){let t;switch(n){case"Browser":t=eb(wn());break;case"Worker":t=`${eb(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(n,e={}){return Ys(n,"GET","/v2/passwordPolicy",Gs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=6;class FD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??zD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tb(this),this.idTokenSubscription=new tb(this),this.beforeStateQueue=new LD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Cf(this,{idToken:e}),i=await Rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await If(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ED()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(qi(this));const t=e?Ct(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UD(this),t=new FD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await VD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zi(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ha(n){return Ct(n)}class tb{constructor(e){this.auth=e,this.observer=null,this.addObserver=sI(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BD(n){rd=n}function kw(n){return rd.loadJS(n)}function HD(){return rd.recaptchaEnterpriseScript}function $D(){return rd.gapiScript}function GD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class YD{constructor(){this.enterprise=new QD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class QD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const KD="recaptcha-enterprise",Vw="NO_RECAPTCHA";class XD{constructor(e){this.type=KD,this.auth=Ha(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{RD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new xD(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;XE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(Vw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&XE(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HD();p.length!==0&&(p+=d),kw(p).then(()=>{a(d,l,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function nb(n,e,t,i=!1,a=!1){const l=new XD(n);let c;if(a)c=Vw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ug(n,e,t,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await nb(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await nb(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n,e){const t=iy(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Pa(l,e??{}))return a;Or(a,"already-initialized")}return t.initialize({options:e})}function ZD(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(zi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function JD(n,e,t){const i=Ha(n);Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Pw(e),{host:c,port:d}=eN(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Re(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Re(Pa(m,i.config.emulator)&&Pa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,gl(c)?(uw(`${l}//${c}${p}`),cw("Auth",!0)):tN()}function Pw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function eN(n){const e=Pw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:rb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:rb(c)}}}function rb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function tN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function nN(n,e){return Ys(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(n,e){return uc(n,"POST","/v1/accounts:signInWithPassword",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e){return uc(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}async function sN(n,e){return uc(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends uy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Yu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Yu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,t,"signInWithPassword",rN);case"emailLink":return iN(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,i,"signUpPassword",nN);case"emailLink":return sN(e,{idToken:t,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n,e){return uc(n,"POST","/v1/accounts:signInWithIdp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="http://localhost";class La extends uy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new La(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new La(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return il(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,il(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,il(e,t)}buildRequest(){const e={requestUri:aN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lN(n){const e=Nu(Ou(n)).link,t=e?Nu(Ou(e)).deep_link_id:null,i=Nu(Ou(n)).deep_link_id;return(i?Nu(Ou(i)).link:null)||i||t||e||n}class cy{constructor(e){const t=Nu(Ou(e)),i=t.apiKey??null,a=t.oobCode??null,l=oN(t.mode??null);Re(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=lN(e);try{return new cy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,t){return Yu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=cy.parseLink(t);return Re(i,"argument-error"),Yu._fromEmailAndCode(e,i.code,i.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends jw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends cc{constructor(){super("facebook.com")}static credential(e){return La._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return La._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Cs.credential(t,i)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends cc{constructor(){super("github.com")}static credential(e){return La._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends cc{constructor(){super("twitter.com")}static credential(e,t){return La._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ds.credential(t,i)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(n,e){return uc(n,"POST","/v1/accounts:signUp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Rr._fromIdTokenResponse(e,i,a),c=ib(i);return new Ua({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=ib(i);return new Ua({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function ib(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Ki{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Df(e,t,i,a)}}function Lw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Df._fromErrorAndOperation(n,l,e,i):l})}async function cN(n,e,t=!1){const i=await Gu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ua._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(n,e,t=!1){const{auth:i}=n;if(mr(i.app))return Promise.reject(qi(i));const a="reauthenticate";try{const l=await Gu(n,Lw(i,a,e,n),t);Re(l.idToken,i,"internal-error");const c=oy(l.idToken);Re(c,i,"internal-error");const{sub:d}=c;return Re(n.uid===d,i,"user-mismatch"),Ua._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Or(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(n,e,t=!1){if(mr(n.app))return Promise.reject(qi(n));const i="signIn",a=await Lw(n,i,e),l=await Ua._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function fN(n,e){return Uw(Ha(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(n){const e=Ha(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dN(n,e,t){if(mr(n.app))return Promise.reject(qi(n));const i=Ha(n),c=await ug(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&zw(n),p}),d=await Ua._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function mN(n,e,t){return mr(n.app)?Promise.reject(qi(n)):fN(Ct(n),vl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&zw(n),i})}function pN(n,e,t,i){return Ct(n).onIdTokenChanged(e,t,i)}function gN(n,e,t){return Ct(n).beforeAuthStateChanged(e,t)}function Fw(n,e,t,i){return Ct(n).onAuthStateChanged(e,t,i)}function yN(n){return Ct(n).signOut()}const Nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=1e3,_N=10;class Bw extends qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ow(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);jD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,_N):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bw.type="LOCAL";const EN=Bw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Hw.type="SESSION";const $w=Hw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new id(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async m=>m(t.origin,l)),p=await bN(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=hy("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const w=T;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function wN(n){ii().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function SN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AN(){return navigator?.serviceWorker?.controller||null}function xN(){return Gw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="firebaseLocalStorageDb",RN=1,Of="firebaseLocalStorage",Qw="fbase_key";class hc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sd(n,e){return n.transaction([Of],e?"readwrite":"readonly").objectStore(Of)}function CN(){const n=indexedDB.deleteDatabase(Yw);return new hc(n).toPromise()}function cg(){const n=indexedDB.open(Yw,RN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Of,{keyPath:Qw})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Of)?e(i):(i.close(),await CN(),e(await cg()))})})}async function sb(n,e,t){const i=sd(n,!0).put({[Qw]:e,value:t});return new hc(i).toPromise()}async function IN(n,e){const t=sd(n,!1).get(e),i=await new hc(t).toPromise();return i===void 0?null:i.value}function ab(n,e){const t=sd(n,!0).delete(e);return new hc(t).toPromise()}const DN=800,NN=3;class Kw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>NN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(xN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SN(),!this.activeServiceWorker)return;this.sender=new TN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await sb(e,Nf,"1"),await ab(e,Nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>sb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>IN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ab(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=sd(a,!1).getAll();return new hc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kw.type="LOCAL";const ON=Kw;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n,e){return e?zi(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy extends uy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,t){return il(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kN(n){return Uw(n.auth,new fy(n),n.bypassAuthState)}function VN(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),hN(t,new fy(n),n.bypassAuthState)}async function PN(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),cN(t,new fy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kN;case"linkViaPopup":case"linkViaRedirect":return PN;case"reauthViaPopup":case"reauthViaRedirect":return VN;default:Or(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new lc(2e3,1e4);class Wo extends Xw{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jN.get())};e()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="pendingRedirect",cf=new Map;class UN extends Xw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const i=await zN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zN(n,e){const t=BN(e),i=qN(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function FN(n,e){cf.set(n._key(),e)}function qN(n){return zi(n._redirectPersistence)}function BN(n){return uf(LN,n.config.apiKey,n.name)}async function HN(n,e,t=!1){if(mr(n.app))return Promise.reject(qi(n));const i=Ha(n),a=MN(i,e),c=await new UN(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=600*1e3;class GN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Ww(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ri(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$N&&this.cachedEventUids.clear(),this.cachedEventUids.has(ob(e))}saveEventToCache(e){this.cachedEventUids.add(ob(e)),this.lastProcessedEventTime=Date.now()}}function ob(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ww({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function YN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ww(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(n,e={}){return Ys(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XN=/^https?/;async function WN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await QN(n);for(const t of e)try{if(ZN(t))return}catch{}Or(n,"unauthorized-domain")}function ZN(n){const e=og(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!XN.test(t))return!1;if(KN.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new lc(3e4,6e4);function lb(){const n=ii().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function e2(n){return new Promise((e,t)=>{function i(){lb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lb(),t(ri(n,"network-request-failed"))},timeout:JN.get()})}if(ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ii().gapi?.load)i();else{const a=GD("iframefcb");return ii()[a]=()=>{gapi.load?i():t(ri(n,"network-request-failed"))},kw(`${$D()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw hf=null,e})}let hf=null;function t2(n){return hf=hf||e2(n),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new lc(5e3,15e3),r2="__/auth/iframe",i2="emulator/auth/iframe",s2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o2(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ay(e,i2):`https://${n.config.authDomain}/${r2}`,i={apiKey:e.apiKey,appName:n.name,v:yl},a=a2.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${oc(i).slice(1)}`}async function l2(n){const e=await t2(n),t=ii().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:o2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s2,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=ri(n,"network-request-failed"),d=ii().setTimeout(()=>{l(c)},n2.get());function p(){ii().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c2=500,h2=600,f2="_blank",d2="http://localhost";class ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m2(n,e,t,i=c2,a=h2){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...u2,width:i.toString(),height:a.toString(),top:l,left:c},m=wn().toLowerCase();t&&(d=Rw(m)?f2:t),Aw(m)&&(e=e||d2,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[x,V])=>`${w}${x}=${V},`,"");if(PD(m)&&d!=="_self")return p2(e||"",d),new ub(null);const T=window.open(e||"",d,v);Re(T,n,"popup-blocked");try{T.focus()}catch{}return new ub(T)}function p2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="__/auth/handler",y2="emulator/auth/handler",v2=encodeURIComponent("fac");async function cb(n,e,t,i,a,l){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:yl,eventId:a};if(e instanceof jw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",iI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof cc){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),m=p?`#${v2}=${encodeURIComponent(p)}`:"";return`${_2(n)}?${oc(d).slice(1)}${m}`}function _2({config:n}){return n.emulator?ay(n,y2):`https://${n.authDomain}/${g2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="webStorageSupport";class E2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$w,this._completeRedirectFn=HN,this._overrideRedirectResult=FN}async _openPopup(e,t,i,a){Gi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await cb(e,t,i,og(),a);return m2(e,l,hy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await cb(e,t,i,og(),a);return wN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Gi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await l2(e),i=new GN(e);return t.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qp,{type:qp},a=>{const l=a?.[0]?.[qp];l!==void 0&&t(!!l),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ow()||xw()||ly()}}const b2=E2;var hb="@firebase/auth",fb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S2(n){al(new ja("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mw(n)},m=new qD(i,a,l,p);return ZD(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),al(new ja("auth-internal",e=>{const t=Ha(e.getProvider("auth").getImmediate());return(i=>new T2(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vs(hb,fb,w2(n)),Vs(hb,fb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=300,x2=lw("authIdTokenMaxAge")||A2;let db=null;const R2=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>x2)return;const a=t?.token;db!==a&&(db=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function C2(n=mw()){const e=iy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=WD(n,{popupRedirectResolver:b2,persistence:[ON,EN,$w]}),i=lw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=R2(l.toString());gN(t,c,()=>c(t.currentUser)),pN(t,d=>c(d))}}const a=aw("auth");return a&&JD(t,`http://${a}`),t}function I2(){return document.getElementsByTagName("head")?.[0]??document}BD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=ri("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",I2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S2("Browser");var D2="firebase",N2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(D2,N2,"app");var mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,Zw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,R){function D(){}D.prototype=R.prototype,U.D=R.prototype,U.prototype=new D,U.prototype.constructor=U,U.C=function(P,O,q){for(var C=Array(arguments.length-2),de=2;de<arguments.length;de++)C[de-2]=arguments[de];return R.prototype[O].apply(P,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(U,R,D){D||(D=0);var P=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)P[O]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(O=0;16>O;++O)P[O]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=U.g[0],D=U.g[1],O=U.g[2];var q=U.g[3],C=R+(q^D&(O^q))+P[0]+3614090360&4294967295;R=D+(C<<7&4294967295|C>>>25),C=q+(O^R&(D^O))+P[1]+3905402710&4294967295,q=R+(C<<12&4294967295|C>>>20),C=O+(D^q&(R^D))+P[2]+606105819&4294967295,O=q+(C<<17&4294967295|C>>>15),C=D+(R^O&(q^R))+P[3]+3250441966&4294967295,D=O+(C<<22&4294967295|C>>>10),C=R+(q^D&(O^q))+P[4]+4118548399&4294967295,R=D+(C<<7&4294967295|C>>>25),C=q+(O^R&(D^O))+P[5]+1200080426&4294967295,q=R+(C<<12&4294967295|C>>>20),C=O+(D^q&(R^D))+P[6]+2821735955&4294967295,O=q+(C<<17&4294967295|C>>>15),C=D+(R^O&(q^R))+P[7]+4249261313&4294967295,D=O+(C<<22&4294967295|C>>>10),C=R+(q^D&(O^q))+P[8]+1770035416&4294967295,R=D+(C<<7&4294967295|C>>>25),C=q+(O^R&(D^O))+P[9]+2336552879&4294967295,q=R+(C<<12&4294967295|C>>>20),C=O+(D^q&(R^D))+P[10]+4294925233&4294967295,O=q+(C<<17&4294967295|C>>>15),C=D+(R^O&(q^R))+P[11]+2304563134&4294967295,D=O+(C<<22&4294967295|C>>>10),C=R+(q^D&(O^q))+P[12]+1804603682&4294967295,R=D+(C<<7&4294967295|C>>>25),C=q+(O^R&(D^O))+P[13]+4254626195&4294967295,q=R+(C<<12&4294967295|C>>>20),C=O+(D^q&(R^D))+P[14]+2792965006&4294967295,O=q+(C<<17&4294967295|C>>>15),C=D+(R^O&(q^R))+P[15]+1236535329&4294967295,D=O+(C<<22&4294967295|C>>>10),C=R+(O^q&(D^O))+P[1]+4129170786&4294967295,R=D+(C<<5&4294967295|C>>>27),C=q+(D^O&(R^D))+P[6]+3225465664&4294967295,q=R+(C<<9&4294967295|C>>>23),C=O+(R^D&(q^R))+P[11]+643717713&4294967295,O=q+(C<<14&4294967295|C>>>18),C=D+(q^R&(O^q))+P[0]+3921069994&4294967295,D=O+(C<<20&4294967295|C>>>12),C=R+(O^q&(D^O))+P[5]+3593408605&4294967295,R=D+(C<<5&4294967295|C>>>27),C=q+(D^O&(R^D))+P[10]+38016083&4294967295,q=R+(C<<9&4294967295|C>>>23),C=O+(R^D&(q^R))+P[15]+3634488961&4294967295,O=q+(C<<14&4294967295|C>>>18),C=D+(q^R&(O^q))+P[4]+3889429448&4294967295,D=O+(C<<20&4294967295|C>>>12),C=R+(O^q&(D^O))+P[9]+568446438&4294967295,R=D+(C<<5&4294967295|C>>>27),C=q+(D^O&(R^D))+P[14]+3275163606&4294967295,q=R+(C<<9&4294967295|C>>>23),C=O+(R^D&(q^R))+P[3]+4107603335&4294967295,O=q+(C<<14&4294967295|C>>>18),C=D+(q^R&(O^q))+P[8]+1163531501&4294967295,D=O+(C<<20&4294967295|C>>>12),C=R+(O^q&(D^O))+P[13]+2850285829&4294967295,R=D+(C<<5&4294967295|C>>>27),C=q+(D^O&(R^D))+P[2]+4243563512&4294967295,q=R+(C<<9&4294967295|C>>>23),C=O+(R^D&(q^R))+P[7]+1735328473&4294967295,O=q+(C<<14&4294967295|C>>>18),C=D+(q^R&(O^q))+P[12]+2368359562&4294967295,D=O+(C<<20&4294967295|C>>>12),C=R+(D^O^q)+P[5]+4294588738&4294967295,R=D+(C<<4&4294967295|C>>>28),C=q+(R^D^O)+P[8]+2272392833&4294967295,q=R+(C<<11&4294967295|C>>>21),C=O+(q^R^D)+P[11]+1839030562&4294967295,O=q+(C<<16&4294967295|C>>>16),C=D+(O^q^R)+P[14]+4259657740&4294967295,D=O+(C<<23&4294967295|C>>>9),C=R+(D^O^q)+P[1]+2763975236&4294967295,R=D+(C<<4&4294967295|C>>>28),C=q+(R^D^O)+P[4]+1272893353&4294967295,q=R+(C<<11&4294967295|C>>>21),C=O+(q^R^D)+P[7]+4139469664&4294967295,O=q+(C<<16&4294967295|C>>>16),C=D+(O^q^R)+P[10]+3200236656&4294967295,D=O+(C<<23&4294967295|C>>>9),C=R+(D^O^q)+P[13]+681279174&4294967295,R=D+(C<<4&4294967295|C>>>28),C=q+(R^D^O)+P[0]+3936430074&4294967295,q=R+(C<<11&4294967295|C>>>21),C=O+(q^R^D)+P[3]+3572445317&4294967295,O=q+(C<<16&4294967295|C>>>16),C=D+(O^q^R)+P[6]+76029189&4294967295,D=O+(C<<23&4294967295|C>>>9),C=R+(D^O^q)+P[9]+3654602809&4294967295,R=D+(C<<4&4294967295|C>>>28),C=q+(R^D^O)+P[12]+3873151461&4294967295,q=R+(C<<11&4294967295|C>>>21),C=O+(q^R^D)+P[15]+530742520&4294967295,O=q+(C<<16&4294967295|C>>>16),C=D+(O^q^R)+P[2]+3299628645&4294967295,D=O+(C<<23&4294967295|C>>>9),C=R+(O^(D|~q))+P[0]+4096336452&4294967295,R=D+(C<<6&4294967295|C>>>26),C=q+(D^(R|~O))+P[7]+1126891415&4294967295,q=R+(C<<10&4294967295|C>>>22),C=O+(R^(q|~D))+P[14]+2878612391&4294967295,O=q+(C<<15&4294967295|C>>>17),C=D+(q^(O|~R))+P[5]+4237533241&4294967295,D=O+(C<<21&4294967295|C>>>11),C=R+(O^(D|~q))+P[12]+1700485571&4294967295,R=D+(C<<6&4294967295|C>>>26),C=q+(D^(R|~O))+P[3]+2399980690&4294967295,q=R+(C<<10&4294967295|C>>>22),C=O+(R^(q|~D))+P[10]+4293915773&4294967295,O=q+(C<<15&4294967295|C>>>17),C=D+(q^(O|~R))+P[1]+2240044497&4294967295,D=O+(C<<21&4294967295|C>>>11),C=R+(O^(D|~q))+P[8]+1873313359&4294967295,R=D+(C<<6&4294967295|C>>>26),C=q+(D^(R|~O))+P[15]+4264355552&4294967295,q=R+(C<<10&4294967295|C>>>22),C=O+(R^(q|~D))+P[6]+2734768916&4294967295,O=q+(C<<15&4294967295|C>>>17),C=D+(q^(O|~R))+P[13]+1309151649&4294967295,D=O+(C<<21&4294967295|C>>>11),C=R+(O^(D|~q))+P[4]+4149444226&4294967295,R=D+(C<<6&4294967295|C>>>26),C=q+(D^(R|~O))+P[11]+3174756917&4294967295,q=R+(C<<10&4294967295|C>>>22),C=O+(R^(q|~D))+P[2]+718787259&4294967295,O=q+(C<<15&4294967295|C>>>17),C=D+(q^(O|~R))+P[9]+3951481745&4294967295,U.g[0]=U.g[0]+R&4294967295,U.g[1]=U.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,U.g[2]=U.g[2]+O&4294967295,U.g[3]=U.g[3]+q&4294967295}i.prototype.u=function(U,R){R===void 0&&(R=U.length);for(var D=R-this.blockSize,P=this.B,O=this.h,q=0;q<R;){if(O==0)for(;q<=D;)a(this,U,q),q+=this.blockSize;if(typeof U=="string"){for(;q<R;)if(P[O++]=U.charCodeAt(q++),O==this.blockSize){a(this,P),O=0;break}}else for(;q<R;)if(P[O++]=U[q++],O==this.blockSize){a(this,P),O=0;break}}this.h=O,this.o+=R},i.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var R=1;R<U.length-8;++R)U[R]=0;var D=8*this.o;for(R=U.length-8;R<U.length;++R)U[R]=D&255,D/=256;for(this.u(U),U=Array(16),R=D=0;4>R;++R)for(var P=0;32>P;P+=8)U[D++]=this.g[R]>>>P&255;return U};function l(U,R){var D=d;return Object.prototype.hasOwnProperty.call(D,U)?D[U]:D[U]=R(U)}function c(U,R){this.h=R;for(var D=[],P=!0,O=U.length-1;0<=O;O--){var q=U[O]|0;P&&q==R||(D[O]=q,P=!1)}this.g=D}var d={};function p(U){return-128<=U&&128>U?l(U,function(R){return new c([R|0],0>R?-1:0)}):new c([U|0],0>U?-1:0)}function m(U){if(isNaN(U)||!isFinite(U))return T;if(0>U)return L(m(-U));for(var R=[],D=1,P=0;U>=D;P++)R[P]=U/D|0,D*=4294967296;return new c(R,0)}function v(U,R){if(U.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(U.charAt(0)=="-")return L(v(U.substring(1),R));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=m(Math.pow(R,8)),P=T,O=0;O<U.length;O+=8){var q=Math.min(8,U.length-O),C=parseInt(U.substring(O,O+q),R);8>q?(q=m(Math.pow(R,q)),P=P.j(q).add(m(C))):(P=P.j(D),P=P.add(m(C)))}return P}var T=p(0),w=p(1),x=p(16777216);n=c.prototype,n.m=function(){if(M(this))return-L(this).m();for(var U=0,R=1,D=0;D<this.g.length;D++){var P=this.i(D);U+=(0<=P?P:4294967296+P)*R,R*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(V(this))return"0";if(M(this))return"-"+L(this).toString(U);for(var R=m(Math.pow(U,6)),D=this,P="";;){var O=ne(D,R).g;D=N(D,O.j(R));var q=((0<D.g.length?D.g[0]:D.h)>>>0).toString(U);if(D=O,V(D))return q+P;for(;6>q.length;)q="0"+q;P=q+P}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function V(U){if(U.h!=0)return!1;for(var R=0;R<U.g.length;R++)if(U.g[R]!=0)return!1;return!0}function M(U){return U.h==-1}n.l=function(U){return U=N(this,U),M(U)?-1:V(U)?0:1};function L(U){for(var R=U.g.length,D=[],P=0;P<R;P++)D[P]=~U.g[P];return new c(D,~U.h).add(w)}n.abs=function(){return M(this)?L(this):this},n.add=function(U){for(var R=Math.max(this.g.length,U.g.length),D=[],P=0,O=0;O<=R;O++){var q=P+(this.i(O)&65535)+(U.i(O)&65535),C=(q>>>16)+(this.i(O)>>>16)+(U.i(O)>>>16);P=C>>>16,q&=65535,C&=65535,D[O]=C<<16|q}return new c(D,D[D.length-1]&-2147483648?-1:0)};function N(U,R){return U.add(L(R))}n.j=function(U){if(V(this)||V(U))return T;if(M(this))return M(U)?L(this).j(L(U)):L(L(this).j(U));if(M(U))return L(this.j(L(U)));if(0>this.l(x)&&0>U.l(x))return m(this.m()*U.m());for(var R=this.g.length+U.g.length,D=[],P=0;P<2*R;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<U.g.length;O++){var q=this.i(P)>>>16,C=this.i(P)&65535,de=U.i(O)>>>16,re=U.i(O)&65535;D[2*P+2*O]+=C*re,G(D,2*P+2*O),D[2*P+2*O+1]+=q*re,G(D,2*P+2*O+1),D[2*P+2*O+1]+=C*de,G(D,2*P+2*O+1),D[2*P+2*O+2]+=q*de,G(D,2*P+2*O+2)}for(P=0;P<R;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=R;P<2*R;P++)D[P]=0;return new c(D,0)};function G(U,R){for(;(U[R]&65535)!=U[R];)U[R+1]+=U[R]>>>16,U[R]&=65535,R++}function Q(U,R){this.g=U,this.h=R}function ne(U,R){if(V(R))throw Error("division by zero");if(V(U))return new Q(T,T);if(M(U))return R=ne(L(U),R),new Q(L(R.g),L(R.h));if(M(R))return R=ne(U,L(R)),new Q(L(R.g),R.h);if(30<U.g.length){if(M(U)||M(R))throw Error("slowDivide_ only works with positive integers.");for(var D=w,P=R;0>=P.l(U);)D=J(D),P=J(P);var O=fe(D,1),q=fe(P,1);for(P=fe(P,2),D=fe(D,2);!V(P);){var C=q.add(P);0>=C.l(U)&&(O=O.add(D),q=C),P=fe(P,1),D=fe(D,1)}return R=N(U,O.j(R)),new Q(O,R)}for(O=T;0<=U.l(R);){for(D=Math.max(1,Math.floor(U.m()/R.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),q=m(D),C=q.j(R);M(C)||0<C.l(U);)D-=P,q=m(D),C=q.j(R);V(q)&&(q=w),O=O.add(q),U=N(U,C)}return new Q(O,U)}n.A=function(U){return ne(this,U).h},n.and=function(U){for(var R=Math.max(this.g.length,U.g.length),D=[],P=0;P<R;P++)D[P]=this.i(P)&U.i(P);return new c(D,this.h&U.h)},n.or=function(U){for(var R=Math.max(this.g.length,U.g.length),D=[],P=0;P<R;P++)D[P]=this.i(P)|U.i(P);return new c(D,this.h|U.h)},n.xor=function(U){for(var R=Math.max(this.g.length,U.g.length),D=[],P=0;P<R;P++)D[P]=this.i(P)^U.i(P);return new c(D,this.h^U.h)};function J(U){for(var R=U.g.length+1,D=[],P=0;P<R;P++)D[P]=U.i(P)<<1|U.i(P-1)>>>31;return new c(D,U.h)}function fe(U,R){var D=R>>5;R%=32;for(var P=U.g.length-D,O=[],q=0;q<P;q++)O[q]=0<R?U.i(q+D)>>>R|U.i(q+D+1)<<32-R:U.i(q+D);return new c(O,U.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Zw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Ps=c}).apply(typeof mb<"u"?mb:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jw,Mu,eS,ff,hg,tS,nS,rS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var E=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in E))break e;E=E[H]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var E=0,A=!1,H={next:function(){if(!A&&E<h.length){var ee=E++;return{value:y(ee,h[ee]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,E){return h.call.apply(h.bind,arguments)}function T(h,y,E){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),h.apply(y,H)}}return function(){return h.apply(y,arguments)}}function w(h,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,w.apply(null,arguments)}function x(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function V(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(A,H,ee){for(var me=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)me[qe-2]=arguments[qe];return y.prototype[H].apply(A,me)}}function M(h){const y=h.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function L(h,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(p(A)){const H=h.length||0,ee=A.length||0;h.length=H+ee;for(let me=0;me<ee;me++)h[H+me]=A[me]}else h.push(A)}}class N{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ne(h){return ne[" "](h),h}ne[" "]=function(){};var J=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function fe(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function U(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function R(h){const y={};for(const E in h)y[E]=h[E];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,y){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)h[E]=A[E];for(let ee=0;ee<D.length;ee++)E=D[ee],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function O(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function q(h){d.setTimeout(()=>{throw h},0)}function C(){var h=he;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class de{constructor(){this.h=this.g=null}add(y,E){const A=re.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new N(()=>new j,h=>h.reset());class j{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let W,te=!1,he=new de,I=()=>{const h=d.Promise.resolve(void 0);W=()=>{h.then(Z)}};var Z=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(E){q(E)}var y=re;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}te=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return h}();function Te(h,y){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(J){e:{try{ne(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:_e[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Te.aa.h.call(this)}}V(Te,oe);var _e={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),ke=0;function lt(h,y,E,A,H){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=H,this.key=++ke,this.da=this.fa=!1}function ut(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function St(h){this.src=h,this.g={},this.h=0}St.prototype.add=function(h,y,E,A,H){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var me=yn(h,y,A,H);return-1<me?(y=h[me],E||(y.fa=!1)):(y=new lt(y,this.src,ee,!!A,H),y.fa=E,h.push(y)),y};function Gt(h,y){var E=y.type;if(E in h.g){var A=h.g[E],H=Array.prototype.indexOf.call(A,y,void 0),ee;(ee=0<=H)&&Array.prototype.splice.call(A,H,1),ee&&(ut(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function yn(h,y,E,A){for(var H=0;H<h.length;++H){var ee=h[H];if(!ee.da&&ee.listener==y&&ee.capture==!!E&&ee.ha==A)return H}return-1}var ct="closure_lm_"+(1e6*Math.random()|0),gr={};function tn(h,y,E,A,H){if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)tn(h,y[ee],E,A,H);return null}return E=Ja(E),h&&h[Qe]?h.K(y,E,m(A)?!!A.capture:!1,H):nn(h,y,E,!1,A,H)}function nn(h,y,E,A,H,ee){if(!y)throw Error("Invalid event type");var me=m(H)?!!H.capture:!!H,qe=fi(h);if(qe||(h[ct]=qe=new St(h)),E=qe.add(y,E,A,me,ee),E.proxy)return E;if(A=Za(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)ge||(H=me),H===void 0&&(H=!1),h.addEventListener(y.toString(),A,H);else if(h.attachEvent)h.attachEvent(hi(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Za(){function h(E){return y.call(h.src,h.listener,E)}const y=Il;return h}function Wi(h,y,E,A,H){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)Wi(h,y[ee],E,A,H);else A=m(A)?!!A.capture:!!A,E=Ja(E),h&&h[Qe]?(h=h.i,y=String(y).toString(),y in h.g&&(ee=h.g[y],E=yn(ee,E,A,H),-1<E&&(ut(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete h.g[y],h.h--)))):h&&(h=fi(h))&&(y=h.g[y.toString()],h=-1,y&&(h=yn(y,E,A,H)),(E=-1<h?y[h]:null)&&Zi(E))}function Zi(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Qe])Gt(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(hi(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=fi(y))?(Gt(E,h),E.h==0&&(E.src=null,y[ct]=null)):ut(h)}}}function hi(h){return h in gr?gr[h]:gr[h]="on"+h}function Il(h,y){if(h.da)h=!0;else{y=new Te(y,this);var E=h.listener,A=h.ha||h.src;h.fa&&Zi(h),h=E.call(A,y)}return h}function fi(h){return h=h[ct],h instanceof St?h:null}var Js="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ja(h){return typeof h=="function"?h:(h[Js]||(h[Js]=function(y){return h.handleEvent(y)}),h[Js])}function pt(){ce.call(this),this.i=new St(this),this.M=this,this.F=null}V(pt,ce),pt.prototype[Qe]=!0,pt.prototype.removeEventListener=function(h,y,E,A){Wi(this,h,y,E,A)};function We(h,y){var E,A=h.F;if(A)for(E=[];A;A=A.F)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new oe(y,h);else if(y instanceof oe)y.target=y.target||h;else{var H=y;y=new oe(A,h),P(y,H)}if(H=!0,E)for(var ee=E.length-1;0<=ee;ee--){var me=y.g=E[ee];H=Sn(me,A,!0,y)&&H}if(me=y.g=h,H=Sn(me,A,!0,y)&&H,H=Sn(me,A,!1,y)&&H,E)for(ee=0;ee<E.length;ee++)me=y.g=E[ee],H=Sn(me,A,!1,y)&&H}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],A=0;A<E.length;A++)ut(E[A]);delete h.g[y],h.h--}}this.F=null},pt.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},pt.prototype.L=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function Sn(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,ee=0;ee<y.length;++ee){var me=y[ee];if(me&&!me.da&&me.capture==E){var qe=me.listener,Ft=me.ha||me.src;me.fa&&Gt(h.i,me),H=qe.call(Ft,A)!==!1&&H}}return H&&!A.defaultPrevented}function Ot(h,y,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function ea(h){h.g=Ot(()=>{h.g=null,h.i&&(h.i=!1,ea(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class eo extends ce{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ea(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function di(h){ce.call(this),this.h=h,this.g={}}V(di,ce);var Jn=[];function Pr(h){fe(h.g,function(y,E){this.g.hasOwnProperty(E)&&Zi(y)},h),h.g={}}di.prototype.N=function(){di.aa.N.call(this),Pr(this)},di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=d.JSON.stringify,mi=d.JSON.parse,jr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function pi(){}pi.prototype.h=null;function ta(h){return h.h||(h.h=h.i())}function Ji(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){oe.call(this,"d")}V(er,oe);function Mt(){oe.call(this,"c")}V(Mt,oe);var mt={},Lr=null;function Ke(){return Lr=Lr||new pt}mt.La="serverreachability";function rn(h){oe.call(this,mt.La,h)}V(rn,oe);function Ur(h){const y=Ke();We(y,new rn(y))}mt.STAT_EVENT="statevent";function es(h,y){oe.call(this,mt.STAT_EVENT,h),this.stat=y}V(es,oe);function ht(h){const y=Ke();We(y,new es(y,h))}mt.Ma="timingevent";function At(h,y){oe.call(this,mt.Ma,h),this.size=y}V(At,oe);function gt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function sn(){this.g=!0}sn.prototype.xa=function(){this.g=!1};function gi(h,y,E,A,H,ee){h.info(function(){if(h.g)if(ee)for(var me="",qe=ee.split("&"),Ft=0;Ft<qe.length;Ft++){var Be=qe[Ft].split("=");if(1<Be.length){var Kt=Be[0];Be=Be[1];var qt=Kt.split("_");me=2<=qt.length&&qt[1]=="type"?me+(Kt+"="+Be+"&"):me+(Kt+"=redacted&")}}else me=null;else me=ee;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+E+`
`+me})}function na(h,y,E,A,H,ee,me){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+E+`
`+ee+" "+me})}function tr(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+vr(h,E)+(A?" "+A:"")})}function to(h,y){h.info(function(){return"TIMEOUT: "+y})}sn.prototype.info=function(){};function vr(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var A=E[h];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var ee=H[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var me=1;me<H.length;me++)H[me]=""}}}}return Ln(E)}catch{return y}}var _r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Er={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nr;function Ie(){}V(Ie,pi),Ie.prototype.g=function(){return new XMLHttpRequest},Ie.prototype.i=function(){return{}},nr=new Ie;function Ve(h,y,E,A){this.j=h,this.i=y,this.l=E,this.R=A||1,this.U=new di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var an={},Yt={};function An(h,y,E){h.L=1,h.v=oa(Un(y)),h.m=E,h.P=!0,br(h,null)}function br(h,y){h.F=Date.now(),ra(h),h.A=Un(h.v);var E=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Vl(E.i,"t",A),h.C=0,E=h.j.J,h.h=new Ne,h.g=qc(h.j,E?y:null,!h.m),0<h.O&&(h.M=new eo(w(h.Y,h,h.g),h.O)),y=h.U,E=h.g,A=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(Jn[0]=H.toString()),H=Jn);for(var ee=0;ee<H.length;ee++){var me=tn(E,H[ee],A||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ur(),gi(h.i,h.u,h.A,h.l,h.R,h.m)}Ve.prototype.ca=function(h){h=h.target;const y=this.M;y&&ar(h)==3?y.j():this.Y(h)},Ve.prototype.Y=function(h){try{if(h==this.g)e:{const qt=ar(this.g);var y=this.g.Ba();const Si=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||kc(this.g)))){this.J||qt!=4||y==7||(y==8||0>=Si?Ur(3):Ur(2)),ts(this);var E=this.g.Z();this.X=E;t:if(no(this)){var A=kc(this.g);h="";var H=A.length,ee=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),zr(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(ee&&y==H-1)});A.length=0,this.h.g+=h,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=E==200,na(this.i,this.u,this.A,this.l,this.R,qt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Ft=this.g;if((qe=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(qe)){var Be=qe;break t}}Be=null}if(E=Be)tr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ia(this,E);else{this.o=!1,this.s=3,ht(12),on(this),zr(this);break e}}if(this.P){E=!0;let ln;for(;!this.J&&this.C<me.length;)if(ln=Cc(this,me),ln==Yt){qt==4&&(this.s=4,ht(14),E=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==an){this.s=4,ht(15),tr(this.i,this.l,me,"[Invalid Chunk]"),E=!1;break}else tr(this.i,this.l,ln,null),ia(this,ln);if(no(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||me.length!=0||this.h.h||(this.s=1,ht(16),E=!1),this.o=this.o&&E,!E)tr(this.i,this.l,me,"[Invalid Chunked Response]"),on(this),zr(this);else if(0<me.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),pa(Kt),Kt.M=!0,ht(11))}}else tr(this.i,this.l,me,null),ia(this,me);qt==4&&on(this),this.o&&!this.J&&(qt==4?Uc(this.j,this):(this.o=!1,ra(this)))}else Pd(this.g),E==400&&0<me.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),on(this),zr(this)}}}catch{}finally{}};function no(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Cc(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?Yt:(E=Number(y.substring(E,A)),isNaN(E)?an:(A+=1,A+E>y.length?Yt:(y=y.slice(A,A+E),h.C=A+E,y)))}Ve.prototype.cancel=function(){this.J=!0,on(this)};function ra(h){h.S=Date.now()+h.I,Ic(h,h.I)}function Ic(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=gt(w(h.ba,h),y)}function ts(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Ve.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(to(this.i,this.A),this.L!=2&&(Ur(),ht(17)),on(this),this.s=2,zr(this)):Ic(this,this.S-h)};function zr(h){h.j.G==0||h.J||Uc(h.j,h)}function on(h){ts(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Pr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function ia(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||Dl(E.h,h))){if(!h.K&&Dl(E.h,h)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)po(E),fo(E);else break e;zl(E),ht(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=gt(w(E.Za,E),6e3));if(1>=io(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else wi(E,11)}else if((h.K||E.g==h)&&po(E),!G(y))for(H=E.Da.g.parse(y),y=0;y<H.length;y++){let Be=H[y];if(E.T=Be[0],Be=Be[1],E.G==2)if(Be[0]=="c"){E.K=Be[1],E.ia=Be[2];const Kt=Be[3];Kt!=null&&(E.la=Kt,E.j.info("VER="+E.la));const qt=Be[4];qt!=null&&(E.Aa=qt,E.j.info("SVER="+E.Aa));const Si=Be[5];Si!=null&&typeof Si=="number"&&0<Si&&(A=1.5*Si,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ln=h.g;if(ln){const Yr=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var ee=A.h;ee.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(so(ee,ee.h),ee.h=null))}if(A.D){const ql=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(A.ya=ql,rt(A.I,A.D,ql))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var me=h;if(A.qa=Fc(A,A.J?A.ia:null,A.W),me.K){xn(A.h,me);var qe=me,Ft=A.L;Ft&&(qe.I=Ft),qe.B&&(ts(qe),ra(qe)),A.g=me}else jc(A);0<E.i.length&&mo(E)}else Be[0]!="stop"&&Be[0]!="close"||wi(E,7);else E.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?wi(E,7):Ll(E):Be[0]!="noop"&&E.l&&E.l.ta(Be),E.v=0)}}Ur(4)}catch{}}var Dc=class{constructor(h,y){this.g=h,this.map=y}};function yi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ro(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function io(h){return h.h?1:h.g?h.g.size:0}function Dl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function so(h,y){h.g?h.g.add(y):h.h=y}function xn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}yi.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Nl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return M(h.i)}function Od(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],E=h.length,A=0;A<E;A++)y.push(h[A]);return y}y=[],E=0;for(A in h)y[E++]=h[A];return y}function ao(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const A in h)y[E++]=A;return y}}}function Ol(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=ao(h),A=Od(h),H=A.length,ee=0;ee<H;ee++)y.call(void 0,A[ee],E&&E[ee],h)}var sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Md(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var A=h[E].indexOf("="),H=null;if(0<=A){var ee=h[E].substring(0,A);H=h[E].substring(A+1)}else ee=h[E];y(ee,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function kt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof kt){this.h=h.h,aa(this,h.j),this.o=h.o,this.g=h.g,ns(this,h.s),this.l=h.l;var y=h.i,E=new _i;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),vi(this,E),this.m=h.m}else h&&(y=String(h).match(sa))?(this.h=!1,aa(this,y[1]||"",!0),this.o=rr(y[2]||""),this.g=rr(y[3]||"",!0),ns(this,y[4]),this.l=rr(y[5]||"",!0),vi(this,y[6]||"",!0),this.m=rr(y[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}kt.prototype.toString=function(){var h=[],y=this.j;y&&h.push(la(y,Ml,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(la(y,Ml,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(la(E,E.charAt(0)=="/"?kd:kl,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",la(E,oo)),h.join("")};function Un(h){return new kt(h)}function aa(h,y,E){h.j=E?rr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ns(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function vi(h,y,E){y instanceof _i?(h.i=y,Oc(h.i,h.h)):(E||(y=la(y,Vd)),h.i=new _i(y,h.h))}function rt(h,y,E){h.i.set(y,E)}function oa(h){return rt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function rr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function la(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Nc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Nc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ml=/[#\/\?@]/g,kl=/[#\?:]/g,kd=/[#\?]/g,Vd=/[#\?@]/g,oo=/#/g;function _i(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function ir(h){h.g||(h.g=new Map,h.h=0,h.i&&Md(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=_i.prototype,n.add=function(h,y){ir(this),this.i=null,h=Fr(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Ei(h,y){ir(h),y=Fr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function bi(h,y){return ir(h),y=Fr(h,y),h.g.has(y)}n.forEach=function(h,y){ir(this),this.g.forEach(function(E,A){E.forEach(function(H){h.call(y,H,A,this)},this)},this)},n.na=function(){ir(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const H=h[A];for(let ee=0;ee<H.length;ee++)E.push(y[A])}return E},n.V=function(h){ir(this);let y=[];if(typeof h=="string")bi(this,h)&&(y=y.concat(this.g.get(Fr(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},n.set=function(h,y){return ir(this),this.i=null,h=Fr(this,h),bi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Vl(h,y,E){Ei(h,y),0<E.length&&(h.i=null,h.g.set(Fr(h,y),M(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const ee=encodeURIComponent(String(A)),me=this.V(A);for(A=0;A<me.length;A++){var H=ee;me[A]!==""&&(H+="="+encodeURIComponent(String(me[A]))),h.push(H)}}return this.i=h.join("&")};function Fr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Oc(h,y){y&&!h.j&&(ir(h),h.i=null,h.g.forEach(function(E,A){var H=A.toLowerCase();A!=H&&(Ei(this,A),Vl(this,H,E))},h)),h.j=y}function ua(h,y){const E=new sn;if(d.Image){const A=new Image;A.onload=x(sr,E,"TestLoadImage: loaded",!0,y,A),A.onerror=x(sr,E,"TestLoadImage: error",!1,y,A),A.onabort=x(sr,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(sr,E,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function Tr(h,y){const E=new sn,A=new AbortController,H=setTimeout(()=>{A.abort(),sr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(ee=>{clearTimeout(H),ee.ok?sr(E,"TestPingServer: ok",!0,y):sr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),sr(E,"TestPingServer: error",!1,y)})}function sr(h,y,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function ca(){this.g=new jr}function qr(h,y,E){const A=E||"";try{Ol(h,function(H,ee){let me=H;m(H)&&(me=Ln(H)),y.push(A+ee+"="+encodeURIComponent(me))})}catch(H){throw y.push(A+"type="+encodeURIComponent("_badmap")),H}}function rs(h){this.l=h.Ub||null,this.j=h.eb||!1}V(rs,pi),rs.prototype.g=function(){return new Ti(this.l,this.j)},rs.prototype.i=function(h){return function(){return h}}({});function Ti(h,y){pt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ti,pt),n=Ti.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Hr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Br(this):Hr(this),this.readyState==3&&Pl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Br(this))},n.Qa=function(h){this.g&&(this.response=h,Br(this))},n.ga=function(){this.g&&Br(this)};function Br(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Hr(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Hr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jl(h){let y="";return fe(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Qt(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=jl(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):rt(h,y,E))}function Je(h){pt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Je,pt);var lo=/^https?$/i,ha=["POST","PUT"];n=Je.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nr.g(),this.v=this.o?ta(this.o):ta(nr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ee){Mc(this,ee);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())E.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),H=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ha,y,void 0))||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of E)this.g.setRequestHeader(ee,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fa(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){Mc(this,ee)}};function Mc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,uo(h),$r(h)}function uo(h){h.A||(h.A=!0,We(h,"complete"),We(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,We(this,"complete"),We(this,"abort"),$r(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$r(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},n.bb=function(){co(this)};function co(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ar(h)!=4||h.Z()!=2)){if(h.u&&ar(h)==4)Ot(h.Ea,0,h);else if(We(h,"readystatechange"),ar(h)==4){h.h=!1;try{const me=h.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=me===0){var H=String(h.D).match(sa)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),A=!lo.test(H?H.toLowerCase():"")}E=A}if(E)We(h,"complete"),We(h,"success");else{h.m=6;try{var ee=2<ar(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",uo(h)}}finally{$r(h)}}}}function $r(h,y){if(h.g){fa(h);const E=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||We(h,"ready");try{E.onreadystatechange=A}catch{}}}function fa(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),mi(y)}};function kc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Pd(h){const y={};h=(h.g&&2<=ar(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(G(h[A]))continue;var E=O(h[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=y[H]||[];y[H]=ee,ee.push(E)}U(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function ho(h){this.Aa=0,this.i=[],this.j=new sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=da("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=da("baseRetryDelayMs",5e3,h),this.cb=da("retryDelaySeedMs",1e4,h),this.Wa=da("forwardChannelMaxRetries",2,h),this.wa=da("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(h&&h.concurrentRequestLimit),this.Da=new ca,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ho.prototype,n.la=8,n.G=1,n.connect=function(h,y,E,A){ht(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Fc(this,null,this.W),mo(this)};function Ll(h){if(Vc(h),h.G==3){var y=h.U++,E=Un(h.I);if(rt(E,"SID",h.K),rt(E,"RID",y),rt(E,"TYPE","terminate"),ma(h,E),y=new Ve(h,h.j,y),y.L=2,y.v=oa(Un(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=qc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ra(y)}zc(h)}function fo(h){h.g&&(pa(h),h.g.cancel(),h.g=null)}function Vc(h){fo(h),h.u&&(d.clearTimeout(h.u),h.u=null),po(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function mo(h){if(!ro(h.h)&&!h.s){h.s=!0;var y=h.Ga;W||I(),te||(W(),te=!0),he.add(y,h),h.B=0}}function jd(h,y){return io(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=gt(w(h.Ga,h,y),Fl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new Ve(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=R(ee),P(ee,this.S)):ee=this.S),this.m!==null||this.O||(H.H=ee,ee=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Pc(this,H,y),E=Un(this.I),rt(E,"RID",h),rt(E,"CVER",22),this.D&&rt(E,"X-HTTP-Session-Id",this.D),ma(this,E),ee&&(this.O?y="headers="+encodeURIComponent(String(jl(ee)))+"&"+y:this.m&&Qt(E,this.m,ee)),so(this.h,H),this.Ua&&rt(E,"TYPE","init"),this.P?(rt(E,"$req",y),rt(E,"SID","null"),H.T=!0,An(H,E,null)):An(H,E,y),this.G=2}}else this.G==3&&(h?Ul(this,h):this.i.length==0||ro(this.h)||Ul(this))};function Ul(h,y){var E;y?E=y.l:E=h.U++;const A=Un(h.I);rt(A,"SID",h.K),rt(A,"RID",E),rt(A,"AID",h.T),ma(h,A),h.m&&h.o&&Qt(A,h.m,h.o),E=new Ve(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Pc(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),so(h.h,E),An(E,A,y)}function ma(h,y){h.H&&fe(h.H,function(E,A){rt(y,A,E)}),h.l&&Ol({},function(E,A){rt(y,A,E)})}function Pc(h,y,E){E=Math.min(h.i.length,E);var A=h.l?w(h.l.Na,h.l,h):null;e:{var H=h.i;let ee=-1;for(;;){const me=["count="+E];ee==-1?0<E?(ee=H[0].g,me.push("ofs="+ee)):ee=0:me.push("ofs="+ee);let qe=!0;for(let Ft=0;Ft<E;Ft++){let Be=H[Ft].g;const Kt=H[Ft].map;if(Be-=ee,0>Be)ee=Math.max(0,H[Ft].g-100),qe=!1;else try{qr(Kt,me,"req"+Be+"_")}catch{A&&A(Kt)}}if(qe){A=me.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,A}function jc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;W||I(),te||(W(),te=!0),he.add(y,h),h.v=0}}function zl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=gt(w(h.Fa,h),Fl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Lc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=gt(w(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),fo(this),Lc(this))};function pa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Lc(h){h.g=new Ve(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Un(h.qa);rt(y,"RID","rpc"),rt(y,"SID",h.K),rt(y,"AID",h.T),rt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&rt(y,"TO",h.ja),rt(y,"TYPE","xmlhttp"),ma(h,y),h.m&&h.o&&Qt(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=oa(Un(y)),E.m=null,E.P=!0,br(E,h)}n.Za=function(){this.C!=null&&(this.C=null,fo(this),zl(this),ht(19))};function po(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Uc(h,y){var E=null;if(h.g==y){po(h),pa(h),h.g=null;var A=2}else if(Dl(h.h,y))E=y.D,xn(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var H=h.B;A=Ke(),We(A,new At(A,E)),mo(h)}else jc(h);else if(H=y.s,H==3||H==0&&0<y.X||!(A==1&&jd(h,y)||A==2&&zl(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),H){case 1:wi(h,5);break;case 4:wi(h,10);break;case 3:wi(h,6);break;default:wi(h,2)}}}function Fl(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function wi(h,y){if(h.j.info("Error code "+y),y==2){var E=w(h.fb,h),A=h.Xa;const H=!A;A=new kt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||aa(A,"https"),oa(A),H?ua(A.toString(),E):Tr(A.toString(),E)}else ht(2);h.G=0,h.l&&h.l.sa(y),zc(h),Vc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function zc(h){if(h.G=0,h.ka=[],h.l){const y=Nl(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ka,y),L(h.ka,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.ra()}}function Fc(h,y,E){var A=E instanceof kt?Un(E):new kt(E);if(A.g!="")y&&(A.g=y+"."+A.g),ns(A,A.s);else{var H=d.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var ee=new kt(null);A&&aa(ee,A),y&&(ee.g=y),H&&ns(ee,H),E&&(ee.l=E),A=ee}return E=h.D,y=h.ya,E&&y&&rt(A,E,y),rt(A,"VER",h.la),ma(h,A),A}function qc(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Je(new rs({eb:E})):new Je(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bc(){}n=Bc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function go(){}go.prototype.g=function(h,y){return new Rn(h,y)};function Rn(h,y){pt.call(this),this.g=new ho(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!G(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Gr(this)}V(Rn,pt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Ll(this.g)},Rn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Ln(h),h=E);y.i.push(new Dc(y.Ya++,h)),y.G==3&&mo(y)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,Rn.aa.N.call(this)};function Hc(h){er.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}V(Hc,er);function $c(){Mt.call(this),this.status=1}V($c,Mt);function Gr(h){this.g=h}V(Gr,Bc),Gr.prototype.ua=function(){We(this.g,"a")},Gr.prototype.ta=function(h){We(this.g,new Hc(h))},Gr.prototype.sa=function(h){We(this.g,new $c)},Gr.prototype.ra=function(){We(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,rS=function(){return new go},nS=function(){return Ke()},tS=mt,hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,ff=_r,Er.COMPLETE="complete",eS=Er,Ji.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Mu=Ji,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,Jw=Je}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});const pb="@firebase/firestore",gb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new ny("@firebase/firestore");function Yo(){return za.logLevel}function ye(n,...e){if(za.logLevel<=Ue.DEBUG){const t=e.map(dy);za.debug(`Firestore (${_l}): ${n}`,...t)}}function Yi(n,...e){if(za.logLevel<=Ue.ERROR){const t=e.map(dy);za.error(`Firestore (${_l}): ${n}`,...t)}}function ol(n,...e){if(za.logLevel<=Ue.WARN){const t=e.map(dy);za.warn(`Firestore (${_l}): ${n}`,...t)}}function dy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,iS(n,i,t)}function iS(n,e,t){let i=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Yi(i),new Error(i)}function Ge(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||iS(e,a,i)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bn.UNAUTHENTICATED))}shutdown(){}}class M2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class k2{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new si;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new si,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new si)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string",31837,{l:i}),new sS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class V2{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P2{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new V2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new yb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=L2(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function fg(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),l=e.charAt(i);if(a!==l)return Bp(a)===Bp(l)?ze(a,l):Bp(a)?1:-1}return ze(n.length,e.length)}const U2=55296,z2=57343;function Bp(n){const e=n.charCodeAt(0);return e>=U2&&e<=z2}function ll(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="__name__";class ei{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ei.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const i=ei.isNumericId(e),a=ei.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ei.extractNumericId(e).compare(ei.extractNumericId(t)):fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ps.fromString(e.substring(4,e.length-2))}}class ot extends ei{construct(e,t,i){return new ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const F2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends ei{construct(e,t,i){return new dn(e,t,i)}static isValidIdentifier(e){return F2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dg}static keyField(){return new dn([dg])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ot.fromString(e))}static fromName(e){return new be(ot.fromString(e).popFirst(5))}static empty(){return new be(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n,e,t){if(!t)throw new pe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function q2(n,e,t,i){if(e===!0&&i===!0)throw new pe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vb(n){if(!be.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _b(n){if(be.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ad(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ad(n);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(n,e){const t={typeString:n};return e&&(t.value=e),t}function fc(n,e){if(!oS(n))throw new pe(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new pe(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=-62135596800,bb=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*bb);return new et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Eb)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bb}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fc(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Eb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:zt("string",et._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new et(0,0))}static max(){return new xe(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;function B2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(i===1e9?new et(t+1,0):new et(t,i));return new Us(a,be.empty(),e)}function H2(n){return new Us(n.readTime,n.key,Qu)}class Us{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Us(xe.min(),be.empty(),Qu)}static max(){return new Us(xe.max(),be.empty(),Qu)}}function $2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==G2)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>i(p))}),c=!0,l===a&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(a=>a?ue.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(v=>{c[m]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new ue((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function Q2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}od.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=-1;function dc(n){return n==null}function Mf(n){return n===0&&1/n==-1/0}function K2(n){return typeof n=="number"&&Number.isInteger(n)&&!Mf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="";function X2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Tb(e)),e=W2(n.get(t),e);return Tb(e)}function W2(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case lS:t+="";break;default:t+=l}}return t}function Tb(n){return n+lS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xh(this.root,e,this.comparator,!0)}}class Xh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new fn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(e){return new Sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class Sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new $t(dn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cS("Invalid base64 string: "+l):l}}(e);return new gn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const Z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=Z2.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fs(n){return typeof n=="string"?gn.fromBase64String(n):gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="server_timestamp",fS="__type__",dS="__previous_value__",mS="__local_write_time__";function gy(n){return(n?.mapValue?.fields||{})[fS]?.stringValue===hS}function ld(n){const e=n.mapValue.fields[dS];return gy(e)?ld(e):e}function Ku(n){const e=zs(n.mapValue.fields[mS].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,t,i,a,l,c,d,p,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const kf="(default)";class Xu{constructor(e,t){this.projectId=e,this.database=t||kf}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database===kf}isEqual(e){return e instanceof Xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="__type__",eO="__max__",Wh={mapValue:{}},gS="__vector__",Vf="value";function qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gy(n)?4:nO(n)?9007199254740991:tO(n)?10:11:we(28295,{value:n})}function ui(n,e){if(n===e)return!0;const t=qs(n);if(t!==qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ku(n).isEqual(Ku(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=zs(a.timestampValue),d=zs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Fs(a.bytesValue).isEqual(Fs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Nt(a.geoPointValue.latitude)===Nt(l.geoPointValue.latitude)&&Nt(a.geoPointValue.longitude)===Nt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Nt(a.integerValue)===Nt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nt(a.doubleValue),d=Nt(l.doubleValue);return c===d?Mf(c)===Mf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ll(n.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(wb(c)!==wb(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ui(c[p],d[p])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function Wu(n,e){return(n.values||[]).find(t=>ui(t,e))!==void 0}function ul(n,e){if(n===e)return 0;const t=qs(n),i=qs(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Nt(l.integerValue||l.doubleValue),p=Nt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Ab(n.timestampValue,e.timestampValue);case 4:return Ab(Ku(n),Ku(e));case 5:return fg(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Fs(l),p=Fs(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const v=ze(d[m],p[m]);if(v!==0)return v}return ze(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=ze(Nt(l.latitude),Nt(c.latitude));return d!==0?d:ze(Nt(l.longitude),Nt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xb(n.arrayValue,e.arrayValue);case 10:return function(l,c){const d=l.fields||{},p=c.fields||{},m=d[Vf]?.arrayValue,v=p[Vf]?.arrayValue,T=ze(m?.values?.length||0,v?.values?.length||0);return T!==0?T:xb(m,v)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Wh.mapValue&&c===Wh.mapValue)return 0;if(l===Wh.mapValue)return 1;if(c===Wh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const w=fg(p[T],v[T]);if(w!==0)return w;const x=ul(d[p[T]],m[v[T]]);if(x!==0)return x}return ze(p.length,v.length)}(n.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function Ab(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=zs(n),i=zs(e),a=ze(t.seconds,i.seconds);return a!==0?a:ze(t.nanos,i.nanos)}function xb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=ul(t[a],i[a]);if(l)return l}return ze(t.length,i.length)}function cl(n){return mg(n)}function mg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=zs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Fs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=mg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${mg(t.fields[c])}`;return a+"}"}(n.mapValue):we(61005,{value:n})}function df(n){switch(qs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ld(n);return e?16+df(e):16;case 5:return 2*n.stringValue.length;case 6:return Fs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+df(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Qs(i.fields,(l,c)=>{a+=l.length+df(c)}),a}(n.mapValue);default:throw we(13486,{value:n})}}function Rb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pg(n){return!!n&&"integerValue"in n}function yy(n){return!!n&&"arrayValue"in n}function Cb(n){return!!n&&"nullValue"in n}function Ib(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mf(n){return!!n&&"mapValue"in n}function tO(n){return(n?.mapValue?.fields||{})[pS]?.stringValue===gS}function Uu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Qs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Uu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(n.arrayValue.values[t]);return e}return{...n}}function nO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!mf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=dn.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Uu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());mf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];mf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Qs(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Dn(Uu(this.value))}}function yS(n){const e=[];return Qs(n.fields,(t,i)=>{const a=new dn([t]);if(mf(i)){const l=yS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new en(e,0,xe.min(),xe.min(),xe.min(),Dn.empty(),0)}static newFoundDocument(e,t,i,a){return new en(e,1,t,xe.min(),i,a,0)}static newNoDocument(e,t){return new en(e,2,t,xe.min(),xe.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,xe.min(),xe.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t){this.position=e,this.inclusive=t}}function Db(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=be.comparator(be.fromName(c.referenceValue),t.key):i=ul(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Nb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ui(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t="asc"){this.field=e,this.dir=t}}function rO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{}class Lt extends vS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new sO(e,t,i):t==="array-contains"?new lO(e,i):t==="in"?new uO(e,i):t==="not-in"?new cO(e,i):t==="array-contains-any"?new hO(e,i):new Lt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new aO(e,i):new oO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ul(t,this.value)):t!==null&&qs(this.value)===qs(t)&&this.matchesComparison(ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends vS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Mr(e,t)}matches(e){return _S(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _S(n){return n.op==="and"}function ES(n){return iO(n)&&_S(n)}function iO(n){for(const e of n.filters)if(e instanceof Mr)return!1;return!0}function gg(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+cl(n.value);if(ES(n))return n.filters.map(e=>gg(e)).join(",");{const e=n.filters.map(t=>gg(t)).join(",");return`${n.op}(${e})`}}function bS(n,e){return n instanceof Lt?function(i,a){return a instanceof Lt&&i.op===a.op&&i.field.isEqual(a.field)&&ui(i.value,a.value)}(n,e):n instanceof Mr?function(i,a){return a instanceof Mr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&bS(c,a.filters[d]),!0):!1}(n,e):void we(19439)}function TS(n){return n instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${cl(t.value)}`}(n):n instanceof Mr?function(t){return t.op.toString()+" {"+t.getFilters().map(TS).join(" ,")+"}"}(n):"Filter"}class sO extends Lt{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class aO extends Lt{constructor(e,t){super(e,"in",t),this.keys=wS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oO extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=wS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wS(n,e){return(e.arrayValue?.values||[]).map(t=>be.fromName(t.referenceValue))}class lO extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yy(t)&&Wu(t.arrayValue,this.value)}}class uO extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wu(this.value.arrayValue,t)}}class cO extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wu(this.value.arrayValue,t)}}class hO extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Wu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Ob(n,e=null,t=[],i=[],a=null,l=null,c=null){return new fO(n,e,t,i,a,l,c)}function vy(n){const e=De(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>gg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),dc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>cl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>cl(i)).join(",")),e.Te=t}return e.Te}function _y(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Nb(n.startAt,e.startAt)&&Nb(n.endAt,e.endAt)}function yg(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dO(n,e,t,i,a,l,c,d){return new mc(n,e,t,i,a,l,c,d)}function ud(n){return new mc(n)}function Mb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function SS(n){return n.collectionGroup!==null}function zu(n){const e=De(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new $t(dn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new jf(l,i))}),t.has(dn.keyField().canonicalString())||e.Ie.push(new jf(dn.keyField(),i))}return e.Ie}function ai(n){const e=De(n);return e.Ee||(e.Ee=mO(e,zu(n))),e.Ee}function mO(n,e){if(n.limitType==="F")return Ob(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new jf(a.field,l)});const t=n.endAt?new Pf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pf(n.startAt.position,n.startAt.inclusive):null;return Ob(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vg(n,e){const t=n.filters.concat([e]);return new mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _g(n,e,t){return new mc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cd(n,e){return _y(ai(n),ai(e))&&n.limitType===e.limitType}function AS(n){return`${vy(ai(n))}|lt:${n.limitType}`}function Qo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>TS(a)).join(", ")}]`),dc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>cl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>cl(a)).join(",")),`Target(${i})`}(ai(n))}; limitType=${n.limitType})`}function hd(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):be.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of zu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const m=Db(c,d,p);return c.inclusive?m<=0:m<0}(i.startAt,zu(i),a)||i.endAt&&!function(c,d,p){const m=Db(c,d,p);return c.inclusive?m>=0:m>0}(i.endAt,zu(i),a))}(n,e)}function pO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xS(n){return(e,t)=>{let i=!1;for(const a of zu(n)){const l=gO(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function gO(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?ul(p,m):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return uS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new wt(be.comparator);function Qi(){return yO}const RS=new wt(be.comparator);function ku(...n){let e=RS;for(const t of n)e=e.insert(t.key,t);return e}function CS(n){let e=RS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Oa(){return Fu()}function IS(){return Fu()}function Fu(){return new $a(n=>n.toString(),(n,e)=>n.isEqual(e))}const vO=new wt(be.comparator),_O=new $t(be.comparator);function Fe(...n){let e=_O;for(const t of n)e=e.add(t);return e}const EO=new $t(ze);function bO(){return EO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function DS(n){return{integerValue:""+n}}function NS(n,e){return K2(e)?DS(e):Ey(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function TO(n,e,t){return n instanceof Zu?function(a,l){const c={fields:{[fS]:{stringValue:hS},[mS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&gy(l)&&(l=ld(l)),l&&(c.fields[dS]=l),{mapValue:c}}(t,e):n instanceof Ju?MS(n,e):n instanceof ec?kS(n,e):function(a,l){const c=OS(a,l),d=kb(c)+kb(a.Ae);return pg(c)&&pg(a.Ae)?DS(d):Ey(a.serializer,d)}(n,e)}function wO(n,e,t){return n instanceof Ju?MS(n,e):n instanceof ec?kS(n,e):t}function OS(n,e){return n instanceof tc?function(i){return pg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Zu extends fd{}class Ju extends fd{constructor(e){super(),this.elements=e}}function MS(n,e){const t=VS(e);for(const i of n.elements)t.some(a=>ui(a,i))||t.push(i);return{arrayValue:{values:t}}}class ec extends fd{constructor(e){super(),this.elements=e}}function kS(n,e){let t=VS(e);for(const i of n.elements)t=t.filter(a=>!ui(a,i));return{arrayValue:{values:t}}}class tc extends fd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function kb(n){return Nt(n.integerValue||n.doubleValue)}function VS(n){return yy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t){this.field=e,this.transform=t}}function SO(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Ju&&a instanceof Ju||i instanceof ec&&a instanceof ec?ll(i.elements,a.elements,ui):i instanceof tc&&a instanceof tc?ui(i.Ae,a.Ae):i instanceof Zu&&a instanceof Zu}(n.transform,e.transform)}class AO{constructor(e,t){this.version=e,this.transformResults=t}}class Ut{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ut}static exists(e){return new Ut(void 0,e)}static updateTime(e){return new Ut(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class dd{}function jS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gc(n.key,Ut.none()):new pc(n.key,n.data,Ut.none());{const t=n.data,i=Dn.empty();let a=new $t(dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ks(n.key,i,new Qn(a.toArray()),Ut.none())}}function xO(n,e,t){n instanceof pc?function(a,l,c){const d=a.value.clone(),p=Pb(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ks?function(a,l,c){if(!pf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Pb(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(LS(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function qu(n,e,t,i){return n instanceof pc?function(l,c,d,p){if(!pf(l.precondition,c))return d;const m=l.value.clone(),v=jb(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ks?function(l,c,d,p){if(!pf(l.precondition,c))return d;const m=jb(l.fieldTransforms,p,c),v=c.data;return v.setAll(LS(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return pf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function RO(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=OS(i.transform,a||null);l!=null&&(t===null&&(t=Dn.empty()),t.set(i.field,l))}return t||null}function Vb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ll(i,a,(l,c)=>SO(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pc extends dd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ks extends dd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function LS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Pb(n,e,t){const i=new Map;Ge(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,wO(c,d,t[a]))}return i}function jb(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,TO(l,c,e))}return i}class gc extends dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class US extends dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&xO(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=qu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=qu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=IS();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=jS(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(xe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(t,i)=>Vb(t,i))&&ll(this.baseMutations,e.baseMutations,(t,i)=>Vb(t,i))}}class by{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ge(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=function(){return vO}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new by(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,$e;function zS(n){switch(n){case se.OK:return we(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function FS(n){if(n===void 0)return Yi("GRPC error has no .code"),se.UNKNOWN;switch(n){case jt.OK:return se.OK;case jt.CANCELLED:return se.CANCELLED;case jt.UNKNOWN:return se.UNKNOWN;case jt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case jt.INTERNAL:return se.INTERNAL;case jt.UNAVAILABLE:return se.UNAVAILABLE;case jt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case jt.NOT_FOUND:return se.NOT_FOUND;case jt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case jt.ABORTED:return se.ABORTED;case jt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case jt.DATA_LOSS:return se.DATA_LOSS;default:return we(39323,{code:n})}}($e=jt||(jt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new Ps([4294967295,4294967295],0);function Lb(n){const e=NO().encode(n),t=new Zw;return t.update(e),new Uint8Array(t.digest())}function Ub(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ps([t,i],0),new Ps([a,l],0)]}class Ty{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Vu(`Invalid padding: ${t}`);if(i<0)throw new Vu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ps.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Ps.fromNumber(i)));return a.compare(OO)===1&&(a=new Ps([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Lb(e),[i,a]=Ub(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ty(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.ge===0)return;const t=Lb(e),[i,a]=Ub(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new md(xe.min(),a,new wt(ze),Qi(),Fe())}}class yc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new yc(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class qS{constructor(e,t){this.targetId=e,this.Ce=t}}class BS{constructor(e,t,i=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class zb{constructor(){this.ve=0,this.Fe=Fb(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),i=Fe();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:we(38017,{changeType:l})}}),new yc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Fb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class MO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=Zh(),this.He=Zh(),this.Ye=new wt(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,a)=>{this.rt(a)&&t(a)})}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(yg(l))if(i===0){const c=new be(l.path);this.et(t,c,en.newNoDocument(c,xe.min()))}else Ge(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Fs(i).toUint8Array()}catch(p){if(p instanceof cS)return ol("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ty(c,a,l)}catch(p){return ol(p instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)}),a}Tt(e){const t=new Map;this.ze.forEach((l,c)=>{const d=this.ot(c);if(d){if(l.current&&yg(d.target)){const p=new be(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,en.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}});let i=Fe();this.He.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const a=new md(e,t,this.Ye,this.je,i);return this.je=Qi(),this.Je=Zh(),this.He=Zh(),this.Ye=new wt(ze),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new zb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new $t(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new $t(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Zh(){return new wt(be.comparator)}function Fb(){return new wt(be.comparator)}const kO={asc:"ASCENDING",desc:"DESCENDING"},VO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PO={and:"AND",or:"OR"};class jO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Eg(n,e){return n.useProto3Json||dc(e)?e:{value:e}}function Lf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LO(n,e){return Lf(n,e.toTimestamp())}function Kn(n){return Ge(!!n,49232),xe.fromTimestamp(function(t){const i=zs(t);return new et(i.seconds,i.nanos)}(n))}function wy(n,e){return bg(n,e).canonicalString()}function bg(n,e){const t=function(a){return new ot(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function $S(n){const e=ot.fromString(n);return Ge(WS(e),10190,{key:e.toString()}),e}function Uf(n,e){return wy(n.databaseId,e.path)}function Bu(n,e){const t=$S(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(YS(t))}function GS(n,e){return wy(n.databaseId,e)}function UO(n){const e=$S(n);return e.length===4?ot.emptyPath():YS(e)}function Tg(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YS(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function qb(n,e,t){return{name:Uf(n,e),fields:t.value.mapValue.fields}}function zO(n,e){return"found"in e?function(i,a){Ge(!!a.found,43571),a.found.name,a.found.updateTime;const l=Bu(i,a.found.name),c=Kn(a.found.updateTime),d=a.found.createTime?Kn(a.found.createTime):xe.min(),p=new Dn({mapValue:{fields:a.found.fields}});return en.newFoundDocument(l,c,d,p)}(n,e):"missing"in e?function(i,a){Ge(!!a.missing,3894),Ge(!!a.readTime,22933);const l=Bu(i,a.missing),c=Kn(a.readTime);return en.newNoDocument(l,c)}(n,e):we(7234,{result:e})}function FO(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:we(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,v){return m.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),gn.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),gn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const v=m.code===void 0?se.UNKNOWN:FS(m.code);return new pe(v,m.message||"")}(c);t=new BS(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Bu(n,i.document.name),l=Kn(i.document.updateTime),c=i.document.createTime?Kn(i.document.createTime):xe.min(),d=new Dn({mapValue:{fields:i.document.fields}}),p=en.newFoundDocument(a,l,c,d),m=i.targetIds||[],v=i.removedTargetIds||[];t=new gf(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Bu(n,i.document),l=i.readTime?Kn(i.readTime):xe.min(),c=en.newNoDocument(a,l),d=i.removedTargetIds||[];t=new gf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Bu(n,i.document),l=i.removedTargetIds||[];t=new gf([],l,a,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new DO(a,l),d=i.targetId;t=new qS(d,c)}}return t}function QS(n,e){let t;if(e instanceof pc)t={update:qb(n,e.key,e.value)};else if(e instanceof gc)t={delete:Uf(n,e.key)};else if(e instanceof Ks)t={update:qb(n,e.key,e.data),updateMask:XO(e.fieldMask)};else{if(!(e instanceof US))return we(16599,{Vt:e.type});t={verify:Uf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Zu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ec)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof tc)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw we(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:LO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)}(n,e.precondition)),t}function qO(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Kn(a.updateTime):Kn(l);return c.isEqual(xe.min())&&(c=Kn(l)),new AO(c,a.transformResults||[])}(t,e))):[]}function BO(n,e){return{documents:[GS(n,e.path)]}}function HO(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=GS(n,a);const l=function(m){if(m.length!==0)return XS(Mr.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(v=>function(w){return{field:Ko(w.field),direction:YO(w.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Eg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:a}}function $O(n){let e=UO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ge(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const w=KS(T);return w instanceof Mr&&ES(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(w=>function(V){return new jf(Xo(V.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,dc(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(T){const w=!!T.before,x=T.values||[];return new Pf(x,w)}(t.startAt));let m=null;return t.endAt&&(m=function(T){const w=!T.before,x=T.values||[];return new Pf(x,w)}(t.endAt)),dO(e,a,c,l,d,"F",p,m)}function GO(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Xo(t.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Xo(t.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xo(t.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xo(t.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return Lt.create(Xo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Mr.create(t.compositeFilter.filters.map(i=>KS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function YO(n){return kO[n]}function QO(n){return VO[n]}function KO(n){return PO[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Xo(n){return dn.fromServerFormat(n.fieldPath)}function XS(n){return n instanceof Lt?function(t){if(t.op==="=="){if(Ib(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NAN"}};if(Cb(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ib(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NAN"}};if(Cb(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(t.field),op:QO(t.op),value:t.value}}}(n):n instanceof Mr?function(t){const i=t.getFilters().map(a=>XS(a));return i.length===1?i[0]:{compositeFilter:{op:KO(t.op),filters:i}}}(n):we(54877,{filter:n})}function XO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t,i,a,l=xe.min(),c=xe.min(),d=gn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.yt=e}}function ZO(n){const e=$O({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_g(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.Cn=new eM}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Us.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class eM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new $t(ot.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new $t(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZS=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(ZS,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hl(0)}static cr(){return new hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="LruGarbageCollector",tM=1048576;function $b([n,e],[t,i]){const a=ze(n,t);return a===0?ze(e,i):a}class nM{constructor(e){this.Ir=e,this.buffer=new $t($b),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$b(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Hb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bl(t)?ye(Hb,"Ignoring IndexedDB error during garbage collection: ",t):await El(t)}await this.Vr(3e5)})}}class iM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(od.ce);const i=new nM(t);return this.mr.forEachTarget(e,a=>i.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>i.Ar(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Bb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bb):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,d,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(m=Date.now(),Yo()<=Ue.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function sM(n,e){return new iM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.changes=new $a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&qu(i.mutation,a,Qn.empty(),et.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Fe()){const a=Oa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=ku();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Oa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Fe()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=Qi();const c=Fu(),d=function(){return Fu()}();return t.forEach((p,m)=>{const v=i.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof Ks)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),qu(v.mutation,m,v.mutation.getFieldMask(),et.now())):c.set(m.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,v)=>c.set(m,v)),t.forEach((m,v)=>d.set(m,new oM(v,c.get(m)??null))),d))}recalculateAndSaveOverlays(e,t){const i=Fu();let a=new wt((c,d)=>c-d),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let v=i.get(p)||Qn.empty();v=d.applyToLocalView(m,v),i.set(p,v);const T=(a.get(d.batchId)||Fe()).add(p);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,v=p.value,T=IS();v.forEach(w=>{if(!l.has(w)){const x=jS(t.get(w),i.get(w));x!==null&&T.set(w,x),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,T))}return ue.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ue.resolve(Oa());let d=Qu,p=l;return c.next(m=>ue.forEach(m,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Fe())).next(v=>({batchId:d,changes:CS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let a=ku();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=ku();return this.indexManager.getCollectionParents(e,l).next(d=>ue.forEach(d,p=>{const m=function(T,w){return new mc(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(v=>{v.forEach((T,w)=>{c=c.insert(T,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,en.newInvalidDocument(v)))});let d=ku();return c.forEach((p,m)=>{const v=l.get(p);v!==void 0&&qu(v.mutation,m,Qn.empty(),et.now()),hd(t,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Kn(a.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(a){return{name:a.name,query:ZO(a.bundledQuery),readTime:Kn(a.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.overlays=new wt(be.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Oa();return ue.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const a=Oa(),l=t.length+1,c=new be(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new wt((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=Oa(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Oa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=a)););return ue.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new IO(t,i));let l=this.qr.get(t);l===void 0&&(l=Fe(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.Qr=new $t(Jt.$r),this.Ur=new $t(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Jt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new Jt(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new be(new ot([])),i=new Jt(t,e),a=new Jt(t,e+1),l=[];return this.Ur.forEachInRange([i,a],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new ot([])),i=new Jt(t,e),a=new Jt(t,e+1);let l=Fe();return this.Ur.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Jt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Jt.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new CO(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?py:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Jt(t,0),a=new Jt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],c=>{const d=this.Xr(c.Yr);l.push(d)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $t(ze);return t.forEach(a=>{const l=new Jt(a,0),c=new Jt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],d=>{i=i.add(d.Yr)})}),ue.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;be.isDocumentKey(l)||(l=l.child(""));const c=new Jt(new be(l),0);let d=new $t(ze);return this.Zr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Yr)),!0)},c),ue.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(i=>{const a=this.Xr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ge(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ue.forEach(t.mutations,a=>{const l=new Jt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new Jt(t,0),a=this.Zr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.ri=e,this.docs=function(){return new wt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let i=Qi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():en.newInvalidDocument(a))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Qi();const c=t.path,d=new be(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||$2(H2(v),i)<=0||(a.has(v.key)||hd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,i,a){we(9500)}ii(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new mM(this)}getSize(e){return ue.resolve(this.size)}}class mM extends aM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.persistence=e,this.si=new $a(t=>vy(t),_y),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Sy,this.targetCount=0,this.ai=hl.ur()}forEachTarget(e,t){return this.si.forEach((i,a)=>t(a)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new hl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ue.waitFor(l).next(()=>a)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t){this.ui={},this.overlays={},this.ci=new od(0),this.li=!1,this.li=!0,this.hi=new hM,this.referenceDelegate=e(this),this.Pi=new pM(this),this.indexManager=new JO,this.remoteDocumentCache=function(a){return new dM(a)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new WO(t),this.Ii=new uM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new fM(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const a=new gM(this.ci.next());return this.referenceDelegate.Ei(),i(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,t){return ue.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class gM extends Y2{constructor(e){super(),this.currentSequenceNumber=e}}class Ay{constructor(e){this.persistence=e,this.Ri=new Sy,this.Vi=null}static mi(e){return new Ay(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(a=>this.fi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,i=>{const a=be.fromPath(i);return this.gi(e,a).next(l=>{l||t.removeEntry(a,xe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class zf{constructor(e,t){this.persistence=e,this.pi=new $a(i=>X2(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=sM(this,t)}static mi(e,t){return new zf(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return ue.forEach(this.pi,(i,a)=>this.br(e,i,a).next(l=>l?ue.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,c=>this.br(e,c,t).next(d=>{d||(i++,l.removeEntry(c,xe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=df(e.data.value)),t}br(e,t,i){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Fe(),a=Fe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new xy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return ZC()?8:Q2(wn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new yM;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)})}).next(()=>l.result)}bs(e,t,i,a){return i.documentReadCount<this.fs?(Yo()<=Ue.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Yo()<=Ue.DEBUG&&ye("QueryEngine","Query:",Qo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Yo()<=Ue.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(t))):ue.resolve())}ys(e,t){if(Mb(t))return ue.resolve(null);let i=ai(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=_g(t,null,"F"),i=ai(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Fe(...l);return this.ps.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.Ds(t,d);return this.Cs(t,m,c,p.readTime)?this.ys(e,_g(t,null,"F")):this.vs(e,m,t,p)}))})))}ws(e,t,i,a){return Mb(t)||a.isEqual(xe.min())?ue.resolve(null):this.ps.getDocuments(e,i).next(l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?ue.resolve(null):(Yo()<=Ue.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Qo(t)),this.vs(e,c,t,B2(a,Qu)).next(d=>d))})}Ds(e,t){let i=new $t(xS(e));return t.forEach((a,l)=>{hd(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Yo()<=Ue.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Qo(t)),this.ps.getDocumentsMatchingQuery(e,t,Us.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="LocalStore",_M=3e8;class EM{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new wt(ze),this.xs=new $a(l=>vy(l),_y),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function bM(n,e,t,i){return new EM(n,e,t,i)}async function eA(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Fe();for(const m of a){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){d.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(m=>({Ls:m,removedBatchIds:c,addedBatchIds:d}))})})}function TM(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,p,m,v){const T=m.batch,w=T.keys();let x=ue.resolve();return w.forEach(V=>{x=x.next(()=>v.getEntry(p,V)).next(M=>{const L=m.docVersions.get(V);Ge(L!==null,48541),M.version.compareTo(L)<0&&(T.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),v.addEntry(M)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Fe();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function tA(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function wM(n,e){const t=De(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach((v,T)=>{const w=a.get(T);if(!w)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Pi.addMatchingKeys(l,v.addedDocuments,T)));let x=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(gn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,i)),a=a.insert(T,x),function(M,L,N){return M.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=_M?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,x,v)&&d.push(t.Pi.updateTargetData(l,x))});let p=Qi(),m=Fe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(SM(l,c,e.documentUpdates).next(v=>{p=v.ks,m=v.qs})),!i.isEqual(xe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next(T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ue.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Ms=a,l))}function SM(n,e,t){let i=Fe(),a=Fe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Qi();return t.forEach((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ye(Ry,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{ks:c,qs:a}})}function AM(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=py),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function xM(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Pi.getTargetData(i,e).next(l=>l?(a=l,ue.resolve(a)):t.Pi.allocateTargetId(i).next(c=>(a=new Ns(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function wg(n,e,t){const i=De(n),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!bl(c))throw c;ye(Ry,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Gb(n,e,t){const i=De(n);let a=xe.min(),l=Fe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,v){const T=De(p),w=T.xs.get(v);return w!==void 0?ue.resolve(T.Ms.get(w)):T.Pi.getTargetData(m,v)}(i,c,ai(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:xe.min(),t?l:Fe())).next(d=>(RM(i,pO(e),d),{documents:d,Qs:l})))}function RM(n,e,t){let i=n.Os.get(e)||xe.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Os.set(e,i)}class Yb{constructor(){this.activeTargetIds=bO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CM{constructor(){this.Mo=new Yb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Yb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="ConnectivityMonitor";class Kb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Qb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Qb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=null;function Sg(){return Jh===null?Jh=function(){return 268435456+Math.round(2147483648*Math.random())}():Jh++,"0x"+Jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="RestConnection",DM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===kf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=Sg(),d=this.zo(e,t.toUriEncodedString());ye(Hp,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:m}=new URL(d),v=gl(m);return this.Jo(e,d,p,i,v).then(T=>(ye(Hp,`Received RPC '${e}' ${c}: `,T),T),T=>{throw ol(Hp,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",i),T})}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_l}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}zo(e,t){const i=DM[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class MM extends NM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=Sg();return new Promise((d,p)=>{const m=new Jw;m.setWithCredentials(!0),m.listenOnce(eS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case ff.NO_ERROR:const T=m.getResponseJson();ye(En,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case ff.TIMEOUT:ye(En,`RPC '${e}' ${c} timed out`),p(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const w=m.getStatus();if(ye(En,`RPC '${e}' ${c} failed with status:`,w,"response text:",m.getResponseText()),w>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const V=x?.error;if(V&&V.status&&V.message){const M=function(N){const G=N.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(G)>=0?G:se.UNKNOWN}(V.status);p(new pe(M,V.message))}else p(new pe(se.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new pe(se.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ye(En,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);ye(En,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",v,i,15)})}T_(e,t,i){const a=Sg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=rS(),d=nS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");ye(En,`Creating RPC '${e}' stream ${a}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let w=!1,x=!1;const V=new OM({Yo:L=>{x?ye(En,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(w||(ye(En,`Opening RPC '${e}' stream ${a} transport.`),T.open(),w=!0),ye(En,`RPC '${e}' stream ${a} sending:`,L),T.send(L))},Zo:()=>T.close()}),M=(L,N,G)=>{L.listen(N,Q=>{try{G(Q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return M(T,Mu.EventType.OPEN,()=>{x||(ye(En,`RPC '${e}' stream ${a} transport opened.`),V.o_())}),M(T,Mu.EventType.CLOSE,()=>{x||(x=!0,ye(En,`RPC '${e}' stream ${a} transport closed`),V.a_(),this.E_(T))}),M(T,Mu.EventType.ERROR,L=>{x||(x=!0,ol(En,`RPC '${e}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),V.a_(new pe(se.UNAVAILABLE,"The operation could not be completed")))}),M(T,Mu.EventType.MESSAGE,L=>{if(!x){const N=L.data[0];Ge(!!N,16349);const G=N,Q=G?.error||G[0]?.error;if(Q){ye(En,`RPC '${e}' stream ${a} received error:`,Q);const ne=Q.status;let J=function(R){const D=jt[R];if(D!==void 0)return FS(D)}(ne),fe=Q.message;J===void 0&&(J=se.INTERNAL,fe="Unknown error status: "+ne+" with message "+Q.message),x=!0,V.a_(new pe(J,fe)),T.close()}else ye(En,`RPC '${e}' stream ${a} received:`,N),V.u_(N)}}),M(d,tS.STAT_EVENT,L=>{L.stat===hg.PROXY?ye(En,`RPC '${e}' stream ${a} detected buffering proxy`):L.stat===hg.NOPROXY&&ye(En,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{V.__()},0),V}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function $p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n){return new jO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="PersistentStream";class nA{constructor(e,t,i,a,l,c,d,p){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cy(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Yi(t.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.D_===t&&this.G_(i,a)},i=>{e(()=>{const a=new pe(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{i(()=>this.z_(a))}),this.stream.onMessage(a=>{i(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(Xb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ye(Xb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kM extends nA{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=FO(this.serializer,e),i=function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Kn(c.readTime):xe.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Tg(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=yg(p)?{documents:BO(l,p)}:{query:HO(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=HS(l,c.resumeToken);const m=Eg(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(xe.min())>0){d.readTime=Lf(l,c.snapshotVersion.toTimestamp());const m=Eg(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=GO(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Tg(this.serializer),t.removeTarget=e,this.q_(t)}}class VM extends nA{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=qO(e.writeResults,e.commitTime),i=Kn(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Tg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>QS(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{}class jM extends PM{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,bg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(se.UNKNOWN,l.toString())})}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(e,bg(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(se.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class LM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class UM{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{i.enqueueAndForget(async()=>{Ga(this)&&(ye(Fa,"Restarting streams for network reachability change."),await async function(p){const m=De(p);m.Ea.add(4),await vc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await gd(m)}(this))})}),this.Ra=new LM(i,a)}}async function gd(n){if(Ga(n))for(const e of n.da)await e(!0)}async function vc(n){for(const e of n.da)await e(!1)}function rA(n,e){const t=De(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Oy(t)?Ny(t):Tl(t).O_()&&Dy(t,e))}function Iy(n,e){const t=De(n),i=Tl(t);t.Ia.delete(e),i.O_()&&iA(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ga(t)&&t.Ra.set("Unknown"))}function Dy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Tl(n).Y_(e)}function iA(n,e){n.Va.Ue(e),Tl(n).Z_(e)}function Ny(n){n.Va=new MO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Tl(n).start(),n.Ra.ua()}function Oy(n){return Ga(n)&&!Tl(n).x_()&&n.Ia.size>0}function Ga(n){return De(n).Ea.size===0}function sA(n){n.Va=void 0}async function zM(n){n.Ra.set("Online")}async function FM(n){n.Ia.forEach((e,t)=>{Dy(n,e)})}async function qM(n,e){sA(n),Oy(n)?(n.Ra.ha(e),Ny(n)):n.Ra.set("Unknown")}async function BM(n,e,t){if(n.Ra.set("Online"),e instanceof BS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))}(n,e)}catch(i){ye(Fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ff(n,i)}else if(e instanceof gf?n.Va.Ze(e):e instanceof qS?n.Va.st(e):n.Va.tt(e),!t.isEqual(xe.min()))try{const i=await tA(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(gn.EMPTY_BYTE_STRING,v.snapshotVersion)),iA(l,p);const T=new Ns(v.target,p,m,v.sequenceNumber);Dy(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ye(Fa,"Failed to raise snapshot:",i),await Ff(n,i)}}async function Ff(n,e,t){if(!bl(e))throw e;n.Ea.add(1),await vc(n),n.Ra.set("Offline"),t||(t=()=>tA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Fa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await gd(n)})}function aA(n,e){return e().catch(t=>Ff(n,t,e))}async function yd(n){const e=De(n),t=Bs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:py;for(;HM(e);)try{const a=await AM(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,$M(e,a)}catch(a){await Ff(e,a)}oA(e)&&lA(e)}function HM(n){return Ga(n)&&n.Ta.length<10}function $M(n,e){n.Ta.push(e);const t=Bs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function oA(n){return Ga(n)&&!Bs(n).x_()&&n.Ta.length>0}function lA(n){Bs(n).start()}async function GM(n){Bs(n).ra()}async function YM(n){const e=Bs(n);for(const t of n.Ta)e.ea(t.mutations)}async function QM(n,e,t){const i=n.Ta.shift(),a=by.from(i,e,t);await aA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await yd(n)}async function KM(n,e){e&&Bs(n).X_&&await async function(i,a){if(function(c){return zS(c)&&c!==se.ABORTED}(a.code)){const l=i.Ta.shift();Bs(i).B_(),await aA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await yd(i)}}(n,e),oA(n)&&lA(n)}async function Wb(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),ye(Fa,"RemoteStore received new credentials");const i=Ga(t);t.Ea.add(3),await vc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await gd(t)}async function XM(n,e){const t=De(n);e?(t.Ea.delete(2),await gd(t)):e||(t.Ea.add(2),await vc(t),t.Ra.set("Unknown"))}function Tl(n){return n.ma||(n.ma=function(t,i,a){const l=De(t);return l.sa(),new kM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:zM.bind(null,n),t_:FM.bind(null,n),r_:qM.bind(null,n),H_:BM.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Oy(n)?Ny(n):n.Ra.set("Unknown")):(await n.ma.stop(),sA(n))})),n.ma}function Bs(n){return n.fa||(n.fa=function(t,i,a){const l=De(t);return l.sa(),new VM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:GM.bind(null,n),r_:KM.bind(null,n),ta:YM.bind(null,n),na:QM.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await yd(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(Fa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new My(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(n,e){if(Yi("AsyncQueue",`${e}: ${n}`),bl(n))return new pe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=ku(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new sl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.ga=new wt(be.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class fl{constructor(e,t,i,a,l,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new fl(e,t,sl.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ZM{constructor(){this.queries=Jb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=De(t),l=a.queries;a.queries=Jb(),l.forEach((c,d)=>{for(const p of d.Sa)p.onError(i)})})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function Jb(){return new $a(n=>AS(n),cd)}async function Vy(n,e){const t=De(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new WM,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=ky(c,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&jy(t)}async function Py(n,e){const t=De(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function JM(n,e){const t=De(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&jy(t)}function ek(n,e,t){const i=De(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function jy(n){n.Ca.forEach(e=>{e.next()})}var Ag,eT;(eT=Ag||(Ag={})).Ma="default",eT.Cache="cache";class Ly{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new fl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.key=e}}class cA{constructor(e){this.key=e}}class tk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=xS(e),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Zb,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,T)=>{const w=a.get(v),x=hd(this.query,T)?T:null,V=!!w&&this.mutatedKeys.has(w.key),M=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;w&&x?w.data.isEqual(x.data)?V!==M&&(i.track({type:3,doc:x}),L=!0):this.su(w,x)||(i.track({type:2,doc:x}),L=!0,(p&&this.eu(x,p)>0||m&&this.eu(x,m)<0)&&(d=!0)):!w&&x?(i.track({type:0,doc:x}),L=!0):w&&!x&&(i.track({type:1,doc:w}),L=!0,(p||m)&&(d=!0)),L&&(x?(c=c.add(x),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((v,T)=>function(x,V){const M=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:L})}};return M(x)-M(V)}(v.type,T.type)||this.eu(v.doc,T.doc)),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new fl(this.query,e.tu,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new cA(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new uA(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Uy="SyncEngine";class nk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class rk{constructor(e){this.key=e,this.hu=!1}}class ik{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new $a(d=>AS(d),cd),this.Iu=new Map,this.Eu=new Set,this.du=new wt(be.comparator),this.Au=new Map,this.Ru=new Sy,this.Vu={},this.mu=new Map,this.fu=hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sk(n,e,t=!0){const i=gA(n);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await hA(i,e,t,!0),a}async function ak(n,e){const t=gA(n);await hA(t,e,!0,!1)}async function hA(n,e,t,i){const a=await xM(n.localStore,ai(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await ok(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&rA(n.remoteStore,a),d}async function ok(n,e,t,i,a){n.pu=(T,w,x)=>async function(M,L,N,G){let Q=L.view.ru(N);Q.Cs&&(Q=await Gb(M.localStore,L.query,!1).then(({documents:U})=>L.view.ru(U,Q)));const ne=G&&G.targetChanges.get(L.targetId),J=G&&G.targetMismatches.get(L.targetId)!=null,fe=L.view.applyChanges(Q,M.isPrimaryClient,ne,J);return nT(M,L.targetId,fe.au),fe.snapshot}(n,T,w,x);const l=await Gb(n.localStore,e,!0),c=new tk(e,l.Qs),d=c.ru(l.documents),p=yc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=c.applyChanges(d,n.isPrimaryClient,p);nT(n,t,m.au);const v=new nk(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function lk(n,e,t){const i=De(n),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter(c=>!cd(c,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await wg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Iy(i.remoteStore,a.targetId),xg(i,a.targetId)}).catch(El)):(xg(i,a.targetId),await wg(i.localStore,a.targetId,!0))}async function uk(n,e){const t=De(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Iy(t.remoteStore,i.targetId))}async function ck(n,e,t){const i=yk(n);try{const a=await function(c,d){const p=De(c),m=et.now(),v=d.reduce((x,V)=>x.add(V.key),Fe());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let V=Qi(),M=Fe();return p.Ns.getEntries(x,v).next(L=>{V=L,V.forEach((N,G)=>{G.isValidDocument()||(M=M.add(N))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,V)).next(L=>{T=L;const N=[];for(const G of d){const Q=RO(G,T.get(G.key).overlayedDocument);Q!=null&&N.push(new Ks(G.key,Q,yS(Q.value.mapValue),Ut.exists(!0)))}return p.mutationQueue.addMutationBatch(x,m,N,d)}).next(L=>{w=L;const N=L.applyToLocalDocumentSet(T,M);return p.documentOverlayCache.saveOverlays(x,L.batchId,N)})}).then(()=>({batchId:w.batchId,changes:CS(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new wt(ze)),m=m.insert(d,p),c.Vu[c.currentUser.toKey()]=m}(i,a.batchId,t),await _c(i,a.changes),await yd(i.remoteStore)}catch(a){const l=ky(a,"Failed to persist write");t.reject(l)}}async function fA(n,e){const t=De(n);try{const i=await wM(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Au.get(l);c&&(Ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ge(c.hu,14607):a.removedDocuments.size>0&&(Ge(c.hu,42227),c.hu=!1))}),await _c(t,i,e)}catch(i){await El(i)}}function tT(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=De(c);p.onlineState=d;let m=!1;p.queries.forEach((v,T)=>{for(const w of T.Sa)w.va(d)&&(m=!0)}),m&&jy(p)}(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function hk(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new wt(be.comparator);c=c.insert(l,en.newNoDocument(l,xe.min()));const d=Fe().add(l),p=new md(xe.min(),new Map,new wt(ze),c,d);await fA(i,p),i.du=i.du.remove(l),i.Au.delete(e),zy(i)}else await wg(i.localStore,e,!1).then(()=>xg(i,e,t)).catch(El)}async function fk(n,e){const t=De(n),i=e.batch.batchId;try{const a=await TM(t.localStore,e);mA(t,i,null),dA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await _c(t,a)}catch(a){await El(a)}}async function dk(n,e,t){const i=De(n);try{const a=await function(c,d){const p=De(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return p.mutationQueue.lookupMutationBatch(m,d).next(T=>(Ge(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(m,T))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>p.localDocuments.getDocuments(m,v))})}(i.localStore,e);mA(i,e,t),dA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await _c(i,a)}catch(a){await El(a)}}function dA(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function mA(n,e,t){const i=De(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function xg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||pA(n,i)})}function pA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Iy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),zy(n))}function nT(n,e,t){for(const i of t)i instanceof uA?(n.Ru.addReference(i.key,e),mk(n,i)):i instanceof cA?(ye(Uy,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||pA(n,i.key)):we(19791,{wu:i})}function mk(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ye(Uy,"New document in limbo: "+t),n.Eu.add(i),zy(n))}function zy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new be(ot.fromString(e)),i=n.fu.next();n.Au.set(i,new rk(t)),n.du=n.du.insert(t,i),rA(n.remoteStore,new Ns(ai(ud(t.path)),i,"TargetPurposeLimboResolution",od.ce))}}async function _c(n,e,t){const i=De(n),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach((d,p)=>{c.push(i.pu(p,e,t).then(m=>{if((m||t)&&i.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){a.push(m);const v=xy.As(p.targetId,m);l.push(v)}}))}),await Promise.all(c),i.Pu.H_(a),await async function(p,m){const v=De(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ue.forEach(m,w=>ue.forEach(w.Es,x=>v.persistence.referenceDelegate.addReference(T,w.targetId,x)).next(()=>ue.forEach(w.ds,x=>v.persistence.referenceDelegate.removeReference(T,w.targetId,x)))))}catch(T){if(!bl(T))throw T;ye(Ry,"Failed to update sequence numbers: "+T)}for(const T of m){const w=T.targetId;if(!T.fromCache){const x=v.Ms.get(w),V=x.snapshotVersion,M=x.withLastLimboFreeSnapshotVersion(V);v.Ms=v.Ms.insert(w,M)}}}(i.localStore,l))}async function pk(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){ye(Uy,"User change. New user:",e.toKey());const i=await eA(t.localStore,e);t.currentUser=e,function(l,c){l.mu.forEach(d=>{d.forEach(p=>{p.reject(new pe(se.CANCELLED,c))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await _c(t,i.Ls)}}function gk(n,e){const t=De(n),i=t.Au.get(e);if(i&&i.hu)return Fe().add(i.key);{let a=Fe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function gA(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hk.bind(null,e),e.Pu.H_=JM.bind(null,e.eventManager),e.Pu.yu=ek.bind(null,e.eventManager),e}function yk(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dk.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return bM(this.persistence,new vM,e.initialUser,this.serializer)}Cu(e){return new JS(Ay.mi,this.serializer)}Du(e){return new CM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class vk extends qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ge(this.persistence.referenceDelegate instanceof zf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new rM(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new JS(i=>zf.mi(i,t),this.serializer)}}class Rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pk.bind(null,this.syncEngine),await XM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZM}()}createDatastore(e){const t=pd(e.databaseInfo.databaseId),i=function(l){return new MM(l)}(e.databaseInfo);return function(l,c,d,p){return new jM(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new UM(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>tT(this.syncEngine,t,0),function(){return Kb.v()?new Kb:new IM}())}createSyncEngine(e,t){return function(a,l,c,d,p,m,v){const T=new ik(a,l,c,d,p,m);return v&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const i=De(t);ye(Fa,"RemoteStore shutting down."),i.Ea.add(5),await vc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new pe(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(a,l){const c=De(a),d={documents:l.map(T=>Uf(c.serializer,T))},p=await c.Ho("BatchGetDocuments",c.serializer.databaseId,ot.emptyPath(),d,l.length),m=new Map;p.forEach(T=>{const w=zO(c.serializer,T);m.set(w.key.toString(),w)});const v=[];return l.forEach(T=>{const w=m.get(T.toString());Ge(!!w,55234,{key:T}),v.push(w)}),v}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new gc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{const a=be.fromPath(i);this.mutations.push(new US(a,this.precondition(a)))}),await async function(i,a){const l=De(i),c={writes:a.map(d=>QS(l.serializer,d))};await l.Go("Commit",l.serializer.databaseId,ot.emptyPath(),c)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we(50498,{Gu:e.constructor.name});t=xe.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new pe(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xe.min())?Ut.exists(!1):Ut.updateTime(t):Ut.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xe.min()))throw new pe(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ut.updateTime(t)}return Ut.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,i,a,l){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=l,this.zu=i.maxAttempts,this.M_=new Cy(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new _k(this.datastore),t=this.Hu(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(a=>{this.Yu(a)}))}).catch(i=>{this.Yu(i)})})}Hu(e){try{const t=this.updateFunction(e);return!dc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!zS(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class bk{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=bn.UNAUTHENTICATED,this.clientId=my.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ye(Hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ye(Hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ky(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Gp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Hs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await eA(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function rT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Tk(n);ye(Hs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Wb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Wb(e.remoteStore,a)),n._onlineComponents=e}async function Tk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Hs,"Using user provided OfflineComponentProvider");try{await Gp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;ol("Error using user provided cache. Falling back to memory cache: "+t),await Gp(n,new qf)}}else ye(Hs,"Using default OfflineComponentProvider"),await Gp(n,new vk(void 0));return n._offlineComponents}async function qy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Hs,"Using user provided OnlineComponentProvider"),await rT(n,n._uninitializedComponentsProvider._online)):(ye(Hs,"Using default OnlineComponentProvider"),await rT(n,new Rg))),n._onlineComponents}function wk(n){return qy(n).then(e=>e.syncEngine)}function Sk(n){return qy(n).then(e=>e.datastore)}async function Bf(n){const e=await qy(n),t=e.eventManager;return t.onListen=sk.bind(null,e.syncEngine),t.onUnlisten=lk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ak.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uk.bind(null,e.syncEngine),t}function Ak(n,e,t={}){const i=new si;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const v=new Fy({next:w=>{v.Nu(),c.enqueueAndForget(()=>Py(l,T));const x=w.docs.has(d);!x&&w.fromCache?m.reject(new pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&p&&p.source==="server"?m.reject(new pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),T=new Ly(ud(d.path),v,{includeMetadataChanges:!0,qa:!0});return Vy(l,T)}(await Bf(n),n.asyncQueue,e,t,i)),i.promise}function xk(n,e,t={}){const i=new si;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const v=new Fy({next:w=>{v.Nu(),c.enqueueAndForget(()=>Py(l,T)),w.fromCache&&p.source==="server"?m.reject(new pe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),T=new Ly(d,v,{includeMetadataChanges:!0,qa:!0});return Vy(l,T)}(await Bf(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firestore.googleapis.com",sT=!0;class aT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vA,this.ssl=sT}else this.host=e.host,this.ssl=e.ssl??sT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tM)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yA(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new O2;switch(i.type){case"firstParty":return new P2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=iT.get(t);i&&(ye("ComponentProvider","Removing Datastore"),iT.delete(t),i.terminate())}(this),Promise.resolve()}}function Rk(n,e,t,i={}){n=Tn(n,vd);const a=gl(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;a&&(uw(`https://${d}`),cw("Firestore",!0)),l.host!==vA&&l.host!==d&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:i};if(!Pa(p,c)&&(n._setSettings(p),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=bn.MOCK_USER;else{m=BC(i.mockUserToken,n._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new bn(T)}n._authCredentials=new M2(new sS(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ya(this.firestore,e,this._query)}}class Tt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(fc(t,Tt._jsonSchema))return new Tt(e,i||null,new be(ot.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:zt("string",Tt._jsonSchemaVersion),referencePath:zt("string")};class js extends Ya{constructor(e,t,i){super(e,t,ud(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new be(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function Xn(n,e,...t){if(n=Ct(n),aS("collection","path",e),n instanceof vd){const i=ot.fromString(e,...t);return _b(i),new js(n,null,i)}{if(!(n instanceof Tt||n instanceof js))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return _b(i),new js(n.firestore,null,i)}}function pn(n,e,...t){if(n=Ct(n),arguments.length===1&&(e=my.newId()),aS("doc","path",e),n instanceof vd){const i=ot.fromString(e,...t);return vb(i),new Tt(n,null,new be(i))}{if(!(n instanceof Tt||n instanceof js))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return vb(i),new Tt(n.firestore,n instanceof js?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="AsyncQueue";class lT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cy(this,"async_queue_retry"),this._c=()=>{const i=$p();i&&ye(oT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=$p();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=$p();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new si;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;ye(oT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",uT(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=My.createAndSchedule(this,e,t,i,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&we(47125,{Pc:uT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function uT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class kr extends vd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new lT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lT(e),this._firestoreClient=void 0,await e}}}function Ck(n,e){const t=typeof n=="object"?n:mw(),i=typeof n=="string"?n:kf,a=iy(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=FC("firestore");l&&Rk(a,...l)}return a}function wl(n){if(n._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ik(n),n._firestoreClient}function Ik(n){const e=n._freezeSettings(),t=function(a,l,c,d){return new J2(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,yA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new bk(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(gn.fromBase64String(e))}catch(t){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yn(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fc(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:zt("string",Yn._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Hf(){return new Qa(dg)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(e){if(fc(e,oi._jsonSchema))return new oi(e.latitude,e.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:zt("string",oi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fc(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new li(e.vectorValues);throw new pe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:zt("string",li._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=/^__.*__$/;class Nk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new pc(e,this.data,t,this.fieldTransforms)}}class _A{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:n})}}class By{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new By({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $f(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(EA(this.Ac)&&Dk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ok{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||pd(e)}Cc(e,t,i,a=!1){return new By({Ac:e,methodName:t,Dc:i,path:dn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sl(n){const e=n._freezeSettings(),t=pd(n._databaseId);return new Ok(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _d(n,e,t,i,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);Qy("Data must be an object, but it was:",c,i);const d=bA(i,c);let p,m;if(l.merge)p=new Qn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const w=Cg(e,T,t);if(!c.contains(w))throw new pe(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);wA(v,w)||v.push(w)}p=new Qn(v),m=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,m=c.fieldTransforms;return new Nk(new Dn(d),p,m)}class Ed extends Ec{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}class Hy extends Ec{_toFieldTransform(e){return new PS(e.path,new Zu)}isEqual(e){return e instanceof Hy}}class $y extends Ec{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new tc(e.serializer,NS(e.serializer,this.Fc));return new PS(e.path,t)}isEqual(e){return e instanceof $y&&this.Fc===e.Fc}}function Gy(n,e,t,i){const a=n.Cc(1,e,t);Qy("Data must be an object, but it was:",a,i);const l=[],c=Dn.empty();Qs(i,(p,m)=>{const v=Ky(e,p,t);m=Ct(m);const T=a.yc(v);if(m instanceof Ed)l.push(v);else{const w=bc(m,T);w!=null&&(l.push(v),c.set(v,w))}});const d=new Qn(l);return new _A(c,d,a.fieldTransforms)}function Yy(n,e,t,i,a,l){const c=n.Cc(1,e,t),d=[Cg(e,i,t)],p=[a];if(l.length%2!=0)throw new pe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Cg(e,l[w])),p.push(l[w+1]);const m=[],v=Dn.empty();for(let w=d.length-1;w>=0;--w)if(!wA(m,d[w])){const x=d[w];let V=p[w];V=Ct(V);const M=c.yc(x);if(V instanceof Ed)m.push(x);else{const L=bc(V,M);L!=null&&(m.push(x),v.set(x,L))}}const T=new Qn(m);return new _A(v,T,c.fieldTransforms)}function Mk(n,e,t,i=!1){return bc(t,n.Cc(i?4:3,e))}function bc(n,e){if(TA(n=Ct(n)))return Qy("Unsupported field value:",e,n),bA(n,e);if(n instanceof Ec)return function(i,a){if(!EA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=bc(d,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return NS(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=et.fromDate(i);return{timestampValue:Lf(a.serializer,l)}}if(i instanceof et){const l=new et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lf(a.serializer,l)}}if(i instanceof oi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yn)return{bytesValue:HS(a.serializer,i._byteString)};if(i instanceof Tt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:wy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof li)return function(c,d){return{mapValue:{fields:{[pS]:{stringValue:gS},[Vf]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ey(d.serializer,m)})}}}}}}(i,a);throw a.Sc(`Unsupported field value: ${ad(i)}`)}(n,e)}function bA(n,e){const t={};return uS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(n,(i,a)=>{const l=bc(a,e.mc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function TA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof et||n instanceof oi||n instanceof Yn||n instanceof Tt||n instanceof Ec||n instanceof li)}function Qy(n,e,t){if(!TA(t)||!oS(t)){const i=ad(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Cg(n,e,t){if((e=Ct(e))instanceof Qa)return e._internalPath;if(typeof e=="string")return Ky(n,e);throw $f("Field path arguments must be of type string or ",n,!1,void 0,t)}const kk=new RegExp("[~\\*/\\[\\]]");function Ky(n,e,t){if(e.search(kk)>=0)throw $f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qa(...e.split("."))._internalPath}catch{throw $f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $f(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new pe(se.INVALID_ARGUMENT,d+n+p)}function wA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Vk extends Gf{data(){return super.data()}}function Xy(n,e){return typeof e=="string"?Ky(n,e):e instanceof Qa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wy{}class Pk extends Wy{}function Ir(n,e,...t){let i=[];e instanceof Wy&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof Zy).length,d=l.filter(p=>p instanceof bd).length;if(c>1||c>0&&d>0)throw new pe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class bd extends Pk{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new bd(e,t,i)}_apply(e){const t=this._parse(e);return AA(e._query,t),new Ya(e.firestore,e.converter,vg(e._query,t))}_parse(e){const t=Sl(e.firestore);return function(l,c,d,p,m,v,T){let w;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){fT(T,v);const V=[];for(const M of T)V.push(hT(p,l,M));w={arrayValue:{values:V}}}else w=hT(p,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||fT(T,v),w=Mk(d,c,T,v==="in"||v==="not-in");return Lt.create(m,v,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jn(n,e,t){const i=e,a=Xy("where",n);return bd._create(a,i,t)}class Zy extends Wy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Mr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)AA(c,p),c=vg(c,p)}(e._query,t),new Ya(e.firestore,e.converter,vg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hT(n,e,t){if(typeof(t=Ct(t))=="string"){if(t==="")throw new pe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SS(e)&&t.indexOf("/")!==-1)throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ot.fromString(t));if(!be.isDocumentKey(i))throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Rb(n,new be(i))}if(t instanceof Tt)return Rb(n,t._key);throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(t)}.`)}function fT(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AA(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class xA{convertValue(e,t="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Qs(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){const t=e.fields?.[Vf].arrayValue?.values?.map(i=>Nt(i.doubleValue));return new li(t)}convertGeoPoint(e){return new oi(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ld(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){const t=zs(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ot.fromString(e);Ge(WS(i),9688,{name:e});const a=new Xu(i.get(1),i.get(3)),l=new be(i.popFirst(5));return a.isEqual(t)||Yi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class jk extends xA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}class Zo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ls extends Gf{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Xy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ls._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ls._jsonSchema={type:zt("string",Ls._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class yf extends Ls{data(e={}){return super.data(e)}}class Ma{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Zo(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new yf(this._firestore,this._userDataWriter,i.key,i,new Zo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new yf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Zo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new yf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Zo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Lk(d.type),doc:p,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=my.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){n=Tn(n,Tt);const e=Tn(n.firestore,kr);return Ak(wl(e),n._key).then(t=>DA(e,n,t))}Ma._jsonSchemaVersion="firestore/querySnapshot/1.0",Ma._jsonSchema={type:zt("string",Ma._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class wd extends xA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function Dr(n){n=Tn(n,Ya);const e=Tn(n.firestore,kr),t=wl(e),i=new wd(e);return SA(n._query),xk(t,n._query).then(a=>new Ma(e,i,n,a))}function Uk(n,e,t){n=Tn(n,Tt);const i=Tn(n.firestore,kr),a=Td(n.converter,e,t);return Tc(i,[_d(Sl(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Ut.none())])}function Jy(n,e,t,...i){n=Tn(n,Tt);const a=Tn(n.firestore,kr),l=Sl(a);let c;return c=typeof(e=Ct(e))=="string"||e instanceof Qa?Yy(l,"updateDoc",n._key,e,t,i):Gy(l,"updateDoc",n._key,e),Tc(a,[c.toMutation(n._key,Ut.exists(!0))])}function RA(n){return Tc(Tn(n.firestore,kr),[new gc(n._key,Ut.none())])}function CA(n,e){const t=Tn(n.firestore,kr),i=pn(n),a=Td(n.converter,e);return Tc(t,[_d(Sl(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Ut.exists(!1))]).then(()=>i)}function IA(n,...e){n=Ct(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||cT(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(cT(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,c,d;if(n instanceof Tt)c=Tn(n.firestore,kr),d=ud(n._key.path),l={next:p=>{e[i]&&e[i](DA(c,n,p))},error:e[i+1],complete:e[i+2]};else{const p=Tn(n,Ya);c=Tn(p.firestore,kr),d=p._query;const m=new wd(c);l={next:v=>{e[i]&&e[i](new Ma(c,m,p,v))},error:e[i+1],complete:e[i+2]},SA(n._query)}return function(m,v,T,w){const x=new Fy(w),V=new Ly(v,x,T);return m.asyncQueue.enqueueAndForget(async()=>Vy(await Bf(m),V)),()=>{x.Nu(),m.asyncQueue.enqueueAndForget(async()=>Py(await Bf(m),V))}}(wl(c),d,a,l)}function Tc(n,e){return function(i,a){const l=new si;return i.asyncQueue.enqueueAndForget(async()=>ck(await wk(i),a,l)),l.promise}(wl(n),e)}function DA(n,e,t){const i=t.docs.get(e._key),a=new wd(n);return new Ls(n,a,e._key,i,new Zo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sl(e)}set(e,t,i){this._verifyNotCommitted();const a=Os(e,this._firestore),l=Td(a.converter,t,i),c=_d(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,Ut.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=Os(e,this._firestore);let c;return c=typeof(t=Ct(t))=="string"||t instanceof Qa?Yy(this._dataReader,"WriteBatch.update",l._key,t,i,a):Gy(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Ut.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Os(e,this._firestore);return this._mutations=this._mutations.concat(new gc(t._key,Ut.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Os(n,e){if((n=Ct(n)).firestore!==e)throw new pe(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sl(e)}get(e){const t=Os(e,this._firestore),i=new jk(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||a.length!==1)return we(24041);const l=a[0];if(l.isFoundDocument())return new Gf(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new Gf(this._firestore,i,t._key,null,t.converter);throw we(18433,{doc:l})})}set(e,t,i){const a=Os(e,this._firestore),l=Td(a.converter,t,i),c=_d(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,c),this}update(e,t,i,...a){const l=Os(e,this._firestore);let c;return c=typeof(t=Ct(t))=="string"||t instanceof Qa?Yy(this._dataReader,"Transaction.update",l._key,t,i,a):Gy(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Os(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk extends qk{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Os(e,this._firestore),i=new wd(this._firestore);return super.get(e).then(a=>new Ls(this._firestore,i,t._key,a._document,new Zo(!1,!1),t.converter))}}function Hk(n,e,t){n=Tn(n,kr);const i={...zk,...t};return function(l){if(l.maxAttempts<1)throw new pe(se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(l,c,d){const p=new si;return l.asyncQueue.enqueueAndForget(async()=>{const m=await Sk(l);new Ek(l.asyncQueue,m,d,c,p).ju()}),p.promise}(wl(n),a=>e(new Bk(n,a)),i)}function ef(){return new Hy("serverTimestamp")}function $k(n){return new $y("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(n){return wl(n=Tn(n,kr)),new Fk(n,e=>Tc(n,e))}(function(e,t=!0){(function(a){_l=a})(yl),al(new ja("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new kr(new k2(i.getProvider("auth-internal")),new j2(c,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(m.options.projectId,v)}(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Vs(pb,gb,e),Vs(pb,gb,"esm2020")})();const Yk={apiKey:"AIzaSyBSQivX41l48mnAYehuJGcU2FHzEpfHgUE",authDomain:"turnosapp-14e8b.firebaseapp.com",projectId:"turnosapp-14e8b",storageBucket:"turnosapp-14e8b.firebasestorage.app",messagingSenderId:"1094594571259",appId:"1:1094594571259:web:10ee87622b0c91ab63395e"},NA=dw(Yk),xl=C2(NA),Ye=Ck(NA),dT=n=>{let e;const t=new Set,i=(m,v)=>{const T=typeof m=="function"?m(e):m;if(!Object.is(T,e)){const w=e;e=v??(typeof T!="object"||T===null)?T:Object.assign({},e,T),t.forEach(x=>x(e,w))}},a=()=>e,d={setState:i,getState:a,getInitialState:()=>p,subscribe:m=>(t.add(m),()=>t.delete(m))},p=e=n(i,a,d);return d},Qk=n=>n?dT(n):dT,Kk=n=>n;function Xk(n,e=Kk){const t=Gh.useSyncExternalStore(n.subscribe,Gh.useCallback(()=>e(n.getState()),[n,e]),Gh.useCallback(()=>e(n.getInitialState()),[n,e]));return Gh.useDebugValue(t),t}const mT=n=>{const e=Qk(n),t=i=>Xk(e,i);return Object.assign(t,e),t},OA=n=>n?mT(n):mT;function Wk(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var l;const c=p=>p===null?null:JSON.parse(p,void 0),d=(l=t.getItem(a))!=null?l:null;return d instanceof Promise?d.then(c):c(d)},setItem:(a,l)=>t.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>t.removeItem(a)}}const Ig=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return Ig(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Ig(i)(t)}}}},Zk=(n,e)=>(t,i,a)=>{let l={storage:Wk(()=>localStorage),partialize:M=>M,version:0,merge:(M,L)=>({...L,...M}),...e},c=!1;const d=new Set,p=new Set;let m=l.storage;if(!m)return n((...M)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...M)},i,a);const v=()=>{const M=l.partialize({...i()});return m.setItem(l.name,{state:M,version:l.version})},T=a.setState;a.setState=(M,L)=>{T(M,L),v()};const w=n((...M)=>{t(...M),v()},i,a);a.getInitialState=()=>w;let x;const V=()=>{var M,L;if(!m)return;c=!1,d.forEach(G=>{var Q;return G((Q=i())!=null?Q:w)});const N=((L=l.onRehydrateStorage)==null?void 0:L.call(l,(M=i())!=null?M:w))||void 0;return Ig(m.getItem.bind(m))(l.name).then(G=>{if(G)if(typeof G.version=="number"&&G.version!==l.version){if(l.migrate){const Q=l.migrate(G.state,G.version);return Q instanceof Promise?Q.then(ne=>[!0,ne]):[!0,Q]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,G.state];return[!1,void 0]}).then(G=>{var Q;const[ne,J]=G;if(x=l.merge(J,(Q=i())!=null?Q:w),t(x,!0),ne)return v()}).then(()=>{N?.(x,void 0),x=i(),c=!0,p.forEach(G=>G(x))}).catch(G=>{N?.(void 0,G)})};return a.persist={setOptions:M=>{l={...l,...M},M.storage&&(m=M.storage)},clearStorage:()=>{m?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>V(),hasHydrated:()=>c,onHydrate:M=>(d.add(M),()=>{d.delete(M)}),onFinishHydration:M=>(p.add(M),()=>{p.delete(M)})},l.skipHydration||V(),x||w},MA=Zk,pr=OA(MA(n=>({user:null,info:null,turnos:null,isAuthReady:!1,setUser:({user:e,info:t,turnos:i})=>n({user:e,info:t,turnos:i,isAuthReady:!0}),setTurnos:e=>n({turnos:e}),clearUser:()=>n({user:null,info:null,turnos:null,isAuthReady:!1})}),{name:"auth-storage"}));async function kA(n){try{const e=pn(Ye,"users",n),t=await Al(e);return t.exists()?t.data():(console.warn("No se encontró el usuario"),null)}catch(e){return console.error("Error al obtener datos del usuario:",e),null}}async function VA(n){try{const e=Xn(Ye,"turnos"),t=Ir(e,jn("userId","==",n)),i=await Dr(t),a=[];for(const l of i.docs){const c=l.data(),d=pn(Ye,"servicios",c.servicioId),p=await Al(d),m=p.exists()?p.data():null;a.push({id:l.id,...c,servicio:m})}return a}catch(e){return console.error("Error al obtener turnos:",e),[]}}function Jk({children:n}){const e=pr(i=>i.setUser),t=pr(i=>i.clearUser);return z.useEffect(()=>{const i=Fw(xl,async a=>{if(a){const[l,c]=await Promise.all([kA(a.uid),VA(a.uid)]);e({user:a,info:l,turnos:c})}else t()});return()=>i()},[]),n}function Wn({type:n="info",message:e,onClose:t}){const[i,a]=z.useState(!1),l="p-3 rounded-md text-sm font-medium mt-2 relative",c={info:"bg-blue-100 text-blue-800 border border-blue-300",success:"bg-green-100 text-green-800 border border-green-300",warning:"bg-yellow-100 text-yellow-800 border border-yellow-300",error:"bg-red-100 text-red-800 border border-red-300"};z.useEffect(()=>{e&&a(!0)},[e]);function d(){a(!1),t&&t()}return!i||!e?null:_.jsxs("div",{className:`${l} ${c[n]}`,children:[e,_.jsx("button",{onClick:d,className:"absolute top-1 right-2 text-lg text-gray-500 hover:text-gray-700",children:"×"})]})}var eV={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function tV(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var i=(n.match(/[^0-9]*$/)||"").toString();return eV[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function pT(n){var e=tV(n);return"".concat(e.value).concat(e.unit)}var nV=function(n,e,t){var i="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return i;var a=document.createElement("style");document.head.appendChild(a);var l=a.sheet,c=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return l&&l.insertRule(c,0),i},Yf=function(){return Yf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Yf.apply(this,arguments)},rV=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t},iV=nV("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function qa(n){var e=n.loading,t=e===void 0?!0:e,i=n.color,a=i===void 0?"#000000":i,l=n.speedMultiplier,c=l===void 0?1:l,d=n.cssOverride,p=d===void 0?{}:d,m=n.size,v=m===void 0?35:m,T=rV(n,["loading","color","speedMultiplier","cssOverride","size"]),w=Yf({background:"transparent !important",width:pT(v),height:pT(v),borderRadius:"100%",border:"2px solid",borderTopColor:a,borderBottomColor:"transparent",borderLeftColor:a,borderRightColor:a,display:"inline-block",animation:"".concat(iV," ").concat(.75/c,"s 0s infinite linear"),animationFillMode:"both"},p);return t?z.createElement("span",Yf({style:w},T)):null}var Yp,gT;function sV(){if(gT)return Yp;gT=1;function n(N){this._maxSize=N,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(N){return this._values[N]},n.prototype.set=function(N,G){return this._size>=this._maxSize&&this.clear(),N in this._values||this._size++,this._values[N]=G};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,l=/^\s*(['"]?)(.*?)(\1)\s*$/,c=512,d=new n(c),p=new n(c),m=new n(c);Yp={Cache:n,split:T,normalizePath:v,setter:function(N){var G=v(N);return p.get(N)||p.set(N,function(ne,J){for(var fe=0,U=G.length,R=ne;fe<U-1;){var D=G[fe];if(D==="__proto__"||D==="constructor"||D==="prototype")return ne;R=R[G[fe++]]}R[G[fe]]=J})},getter:function(N,G){var Q=v(N);return m.get(N)||m.set(N,function(J){for(var fe=0,U=Q.length;fe<U;)if(J!=null||!G)J=J[Q[fe++]];else return;return J})},join:function(N){return N.reduce(function(G,Q){return G+(x(Q)||t.test(Q)?"["+Q+"]":(G?".":"")+Q)},"")},forEach:function(N,G,Q){w(Array.isArray(N)?N:T(N),G,Q)}};function v(N){return d.get(N)||d.set(N,T(N).map(function(G){return G.replace(l,"$2")}))}function T(N){return N.match(e)||[""]}function w(N,G,Q){var ne=N.length,J,fe,U,R;for(fe=0;fe<ne;fe++)J=N[fe],J&&(L(J)&&(J='"'+J+'"'),R=x(J),U=!R&&/^\d+$/.test(J),G.call(Q,J,R,U,fe,N))}function x(N){return typeof N=="string"&&N&&["'",'"'].indexOf(N.charAt(0))!==-1}function V(N){return N.match(i)&&!N.match(t)}function M(N){return a.test(N)}function L(N){return!x(N)&&(V(N)||M(N))}return Yp}var ka=sV(),Qp,yT;function aV(){if(yT)return Qp;yT=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=v=>v.match(n)||[],t=v=>v[0].toUpperCase()+v.slice(1),i=(v,T)=>e(v).join(T).toLowerCase(),a=v=>e(v).reduce((T,w)=>`${T}${T?w[0].toUpperCase()+w.slice(1).toLowerCase():w.toLowerCase()}`,"");return Qp={words:e,upperFirst:t,camelCase:a,pascalCase:v=>t(a(v)),snakeCase:v=>i(v,"_"),kebabCase:v=>i(v,"-"),sentenceCase:v=>t(i(v," ")),titleCase:v=>e(v).map(t).join(" ")},Qp}var Kp=aV(),tf={exports:{}},vT;function oV(){if(vT)return tf.exports;vT=1,tf.exports=function(a){return n(e(a),a)},tf.exports.array=n;function n(a,l){var c=a.length,d=new Array(c),p={},m=c,v=t(l),T=i(a);for(l.forEach(function(x){if(!T.has(x[0])||!T.has(x[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});m--;)p[m]||w(a[m],m,new Set);return d;function w(x,V,M){if(M.has(x)){var L;try{L=", node was:"+JSON.stringify(x)}catch{L=""}throw new Error("Cyclic dependency"+L)}if(!T.has(x))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(x));if(!p[V]){p[V]=!0;var N=v.get(x)||new Set;if(N=Array.from(N),V=N.length){M.add(x);do{var G=N[--V];w(G,T.get(G),M)}while(V);M.delete(x)}d[--c]=x}}}function e(a){for(var l=new Set,c=0,d=a.length;c<d;c++){var p=a[c];l.add(p[0]),l.add(p[1])}return Array.from(l)}function t(a){for(var l=new Map,c=0,d=a.length;c<d;c++){var p=a[c];l.has(p[0])||l.set(p[0],new Set),l.has(p[1])||l.set(p[1],new Set),l.get(p[0]).add(p[1])}return l}function i(a){for(var l=new Map,c=0,d=a.length;c<d;c++)l.set(a[c],c);return l}return tf.exports}var lV=oV();const uV=Yg(lV),cV=Object.prototype.toString,hV=Error.prototype.toString,fV=RegExp.prototype.toString,dV=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",mV=/^Symbol\((.*)\)(.*)$/;function pV(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function _T(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return pV(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return dV.call(n).replace(mV,"Symbol($1)");const i=cV.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+hV.call(n)+"]":i==="RegExp"?fV.call(n):null}function Bi(n,e){let t=_T(n,e);return t!==null?t:JSON.stringify(n,function(i,a){let l=_T(this[i],e);return l!==null?l:a},2)}function PA(n){return n==null?[]:[].concat(n)}let jA,LA,UA,gV=/\$\{\s*(\w+)\s*\}/g;jA=Symbol.toStringTag;class ET{constructor(e,t,i,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[jA]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=a,this.errors=[],this.inner=[],PA(e).forEach(l=>{if(In.isError(l)){this.errors.push(...l.errors);const c=l.inner.length?l.inner:[l];this.inner.push(...c)}else this.errors.push(l)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}LA=Symbol.hasInstance;UA=Symbol.toStringTag;class In extends Error{static formatError(e,t){const i=t.label||t.path||"this";return t=Object.assign({},t,{path:i,originalPath:t.path}),typeof e=="string"?e.replace(gV,(a,l)=>Bi(t[l])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,a,l){const c=new ET(e,t,i,a);if(l)return c;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[UA]="Error",this.name=c.name,this.message=c.message,this.type=c.type,this.value=c.value,this.path=c.path,this.errors=c.errors,this.inner=c.inner,Error.captureStackTrace&&Error.captureStackTrace(this,In)}static[LA](e){return ET[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ti={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:i})=>{const a=i!=null&&i!==t?` (cast from the value \`${Bi(i,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${Bi(t,!0)}\``+a:`${n} must match the configured type. The validated value was: \`${Bi(t,!0)}\``+a}},Vn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},xs={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Dg={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Ng={isValue:"${path} field must be ${value}"},vf={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},_f={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},yV={notType:n=>{const{path:e,value:t,spec:i}=n,a=i.types.length;if(Array.isArray(t)){if(t.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${t.length} for value: \`${Bi(t,!0)}\``;if(t.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${t.length} for value: \`${Bi(t,!0)}\``}return In.formatError(ti.notType,n)}};Object.assign(Object.create(null),{mixed:ti,string:Vn,number:xs,date:Dg,object:vf,array:_f,boolean:Ng,tuple:yV});const Sd=n=>n&&n.__isYupSchema__;class Qf{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:a,otherwise:l}=t,c=typeof i=="function"?i:(...d)=>d.every(p=>p===i);return new Qf(e,(d,p)=>{var m;let v=c(...d)?a:l;return(m=v?.(p))!=null?m:p})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(l=>l.getValue(t?.value,t?.parent,t?.context)),a=this.fn(i,e,t);if(a===void 0||a===e)return e;if(!Sd(a))throw new TypeError("conditions must return a schema object");return a.resolve(t)}}const nf={context:"$",value:"."};class Ka{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===nf.context,this.isValue=this.key[0]===nf.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?nf.context:this.isValue?nf.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&ka.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let a=this.isContext?i:this.isValue?e:t;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,t){return this.getValue(e,t?.parent,t?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ka.prototype.__isYupRef=!0;const Cr=n=>n==null;function $o(n){function e({value:t,path:i="",options:a,originalValue:l,schema:c},d,p){const{name:m,test:v,params:T,message:w,skipAbsent:x}=n;let{parent:V,context:M,abortEarly:L=c.spec.abortEarly,disableStackTrace:N=c.spec.disableStackTrace}=a;const G={value:t,parent:V,context:M};function Q(O={}){const q=zA(Object.assign({value:t,originalValue:l,label:c.spec.label,path:O.path||i,spec:c.spec,disableStackTrace:O.disableStackTrace||N},T,O.params),G),C=new In(In.formatError(O.message||w,q),t,q.path,O.type||m,q.disableStackTrace);return C.params=q,C}const ne=L?d:p;let J={path:i,parent:V,type:m,from:a.from,createError:Q,resolve(O){return FA(O,G)},options:a,originalValue:l,schema:c};const fe=O=>{In.isError(O)?ne(O):O?p(null):ne(Q())},U=O=>{In.isError(O)?ne(O):d(O)};if(x&&Cr(t))return fe(!0);let D;try{var P;if(D=v.call(J,t,J),typeof((P=D)==null?void 0:P.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${J.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(D).then(fe,U)}}catch(O){U(O);return}fe(D)}return e.OPTIONS=n,e}function zA(n,e){if(!n)return n;for(const t of Object.keys(n))n[t]=FA(n[t],e);return n}function FA(n,e){return Ka.isRef(n)?n.getValue(e.value,e.parent,e.context):n}function vV(n,e,t,i=t){let a,l,c;return e?(ka.forEach(e,(d,p,m)=>{let v=p?d.slice(1,d.length-1):d;n=n.resolve({context:i,parent:a,value:t});let T=n.type==="tuple",w=m?parseInt(v,10):0;if(n.innerType||T){if(T&&!m)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${c}" must contain an index to the tuple element, e.g. "${c}[0]"`);if(t&&w>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${d}, in the path: ${e}. because there is no value at that index. `);a=t,t=t&&t[w],n=T?n.spec.types[w]:n.innerType}if(!m){if(!n.fields||!n.fields[v])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${c} which is a type: "${n.type}")`);a=t,t=t&&t[v],n=n.fields[v]}l=v,c=p?"["+d+"]":"."+d}),{schema:n,parent:a,parentPath:l}):{parent:a,parentPath:e,schema:n}}class Kf extends Set{describe(){const e=[];for(const t of this.values())e.push(Ka.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new Kf(this.values())}merge(e,t){const i=this.clone();return e.forEach(a=>i.add(a)),t.forEach(a=>i.delete(a)),i}}function Jo(n,e=new Map){if(Sd(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let i=0;i<n.length;i++)t[i]=Jo(n[i],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[i,a]of n.entries())t.set(i,Jo(a,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const i of n)t.add(Jo(i,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[i,a]of Object.entries(n))t[i]=Jo(a,e)}else throw Error(`Unable to clone ${n}`);return t}function _V(n){if(!(n!=null&&n.length))return;const e=[];let t="",i=!1,a=!1;for(let l=0;l<n.length;l++){const c=n[l];if(c==="["&&!a){t&&(e.push(...t.split(".").filter(Boolean)),t=""),i=!0;continue}if(c==="]"&&!a){t&&(/^\d+$/.test(t)?e.push(t):e.push(t.replace(/^"|"$/g,"")),t=""),i=!1;continue}if(c==='"'){a=!a;continue}if(c==="."&&!i&&!a){t&&(e.push(t),t="");continue}t+=c}return t&&e.push(...t.split(".").filter(Boolean)),e}function EV(n,e){const t=e?`${e}.${n.path}`:n.path;return n.errors.map(i=>({message:i,path:_V(t)}))}function qA(n,e){var t;if(!((t=n.inner)!=null&&t.length)&&n.errors.length)return EV(n,e);const i=e?`${e}.${n.path}`:n.path;return n.inner.flatMap(a=>qA(a,i))}class Zn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Kf,this._blacklist=new Kf,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ti.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Jo(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const a=Object.assign({},t.spec,i.spec);return i.spec=a,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(l=>{e.tests.forEach(c=>{l.test(c.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((a,l)=>l.resolve(a,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,a,l;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(l=e.disableStackTrace)!=null?l:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({value:e},t)),a=t.assert==="ignore-optionality",l=i._cast(e,t);if(t.assert!==!1&&!i.isType(l)){if(a&&Cr(l))return l;let c=Bi(e),d=Bi(l);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${c} 
`+(d!==c?`result of cast: ${d}`:""))}return l}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((a,l)=>l.call(this,a,e,this),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,a){let{path:l,originalValue:c=e,strict:d=this.spec.strict}=t,p=e;d||(p=this._cast(p,Object.assign({assert:!1},t)));let m=[];for(let v of Object.values(this.internalTests))v&&m.push(v);this.runTests({path:l,value:p,originalValue:c,options:t,tests:m},i,v=>{if(v.length)return a(v,p);this.runTests({path:l,value:p,originalValue:c,options:t,tests:this.tests},i,a)})}runTests(e,t,i){let a=!1,{tests:l,value:c,originalValue:d,path:p,options:m}=e,v=M=>{a||(a=!0,t(M,c))},T=M=>{a||(a=!0,i(M,c))},w=l.length,x=[];if(!w)return T([]);let V={value:c,originalValue:d,path:p,options:m,schema:this};for(let M=0;M<l.length;M++){const L=l[M];L(V,v,function(G){G&&(Array.isArray(G)?x.push(...G):x.push(G)),--w<=0&&T(x)})}}asNestedTest({key:e,index:t,parent:i,parentPath:a,originalParent:l,options:c}){const d=e??t;if(d==null)throw TypeError("Must include `key` or `index` for nested validations");const p=typeof d=="number";let m=i[d];const v=Object.assign({},c,{strict:!0,parent:i,value:m,originalValue:l[d],key:void 0,[p?"index":"key"]:d,path:p||d.includes(".")?`${a||""}[${p?d:`"${d}"`}]`:(a?`${a}.`:"")+e});return(T,w,x)=>this.resolve(v)._validate(m,v,w,x)}validate(e,t){var i;let a=this.resolve(Object.assign({},t,{value:e})),l=(i=t?.disableStackTrace)!=null?i:a.spec.disableStackTrace;return new Promise((c,d)=>a._validate(e,t,(p,m)=>{In.isError(p)&&(p.value=m),d(p)},(p,m)=>{p.length?d(new In(p,m,void 0,void 0,l)):c(m)}))}validateSync(e,t){var i;let a=this.resolve(Object.assign({},t,{value:e})),l,c=(i=t?.disableStackTrace)!=null?i:a.spec.disableStackTrace;return a._validate(e,Object.assign({},t,{sync:!0}),(d,p)=>{throw In.isError(d)&&(d.value=p),d},(d,p)=>{if(d.length)throw new In(d,e,void 0,void 0,c);l=p}),l}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(In.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(In.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Jo(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=$o({message:t,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=$o({message:t,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=ti.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ti.notNull){return this.nullability(!1,e)}required(e=ti.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=ti.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),a=$o(t),l=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(c=>!(c.OPTIONS.name===t.name&&(l||c.OPTIONS.test===a.OPTIONS.test))),i.tests.push(a),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),a=PA(e).map(l=>new Ka(l));return a.forEach(l=>{l.isSibling&&i.deps.push(l.key)}),i.conditions.push(typeof t=="function"?new Qf(a,t):Qf.fromOptions(a,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=$o({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=ti.oneOf){let i=this.clone();return e.forEach(a=>{i._whitelist.add(a),i._blacklist.delete(a)}),i.internalTests.whiteList=$o({message:t,name:"oneOf",skipAbsent:!0,test(a){let l=this.schema._whitelist,c=l.resolveAll(this.resolve);return c.includes(a)?!0:this.createError({params:{values:Array.from(l).join(", "),resolved:c}})}}),i}notOneOf(e,t=ti.notOneOf){let i=this.clone();return e.forEach(a=>{i._blacklist.add(a),i._whitelist.delete(a)}),i.internalTests.blacklist=$o({message:t,name:"notOneOf",test(a){let l=this.schema._blacklist,c=l.resolveAll(this.resolve);return c.includes(a)?this.createError({params:{values:Array.from(l).join(", "),resolved:c}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:a,optional:l,nullable:c}=t.spec;return{meta:a,label:i,optional:l,nullable:c,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((p,m,v)=>v.findIndex(T=>T.OPTIONS.name===p.OPTIONS.name)===m).map(p=>{const m=p.OPTIONS.params&&e?zA(Object.assign({},p.OPTIONS.params),e):p.OPTIONS.params;return{name:p.OPTIONS.name,params:m}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(i){try{return{value:await e.validate(i,{abortEarly:!1})}}catch(a){if(a instanceof In)return{issues:qA(a)};throw a}}}}}Zn.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Zn.prototype[`${n}At`]=function(e,t,i={}){const{parent:a,parentPath:l,schema:c}=vV(this,e,t,i.context);return c[n](a&&a[l],Object.assign({},i,{parent:a,path:e}))};for(const n of["equals","is"])Zn.prototype[n]=Zn.prototype.oneOf;for(const n of["not","nope"])Zn.prototype[n]=Zn.prototype.notOneOf;function ev(){return new BA}class BA extends Zn{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(i.spec.coerce&&!i.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Ng.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(t){return Cr(t)||t===!0}})}isFalse(e=Ng.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(t){return Cr(t)||t===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}ev.prototype=BA.prototype;const bV=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function TV(n){const e=Og(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Og(n){var e,t;const i=bV.exec(n);return i?{year:Li(i[1]),month:Li(i[2],1)-1,day:Li(i[3],1),hour:Li(i[4]),minute:Li(i[5]),second:Li(i[6]),millisecond:i[7]?Li(i[7].substring(0,3)):0,precision:(e=(t=i[7])==null?void 0:t.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Li(i[10]),minuteOffset:Li(i[11])}:null}function Li(n,e=0){return Number(n)||e}let wV=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,SV=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,AV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,xV="^\\d{4}-\\d{2}-\\d{2}",RV="\\d{2}:\\d{2}:\\d{2}",CV="(([+-]\\d{2}(:?\\d{2})?)|Z)",IV=new RegExp(`${xV}T${RV}(\\.\\d+)?${CV}$`),DV=n=>Cr(n)||n===n.trim(),NV={}.toString();function Nn(){return new HA}class HA extends Zn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===NV?e:a})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||ti.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=Vn.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t=Vn.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t=Vn.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,t){let i=!1,a,l;return t&&(typeof t=="object"?{excludeEmptyString:i=!1,message:a,name:l}=t:a=t),this.test({name:l||"matches",message:a||Vn.matches,params:{regex:e},skipAbsent:!0,test:c=>c===""&&i||c.search(e)!==-1})}email(e=Vn.email){return this.matches(wV,{name:"email",message:e,excludeEmptyString:!0})}url(e=Vn.url){return this.matches(SV,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Vn.uuid){return this.matches(AV,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",i,a;return e&&(typeof e=="object"?{message:t="",allowOffset:i=!1,precision:a=void 0}=e:t=e),this.matches(IV,{name:"datetime",message:t||Vn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||Vn.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:l=>{if(!l||i)return!0;const c=Og(l);return c?!!c.z:!1}}).test({name:"datetime_precision",message:t||Vn.datetime_precision,params:{precision:a},skipAbsent:!0,test:l=>{if(!l||a==null)return!0;const c=Og(l);return c?c.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Vn.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:DV})}lowercase(e=Vn.lowercase){return this.transform(t=>Cr(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Cr(t)||t===t.toLowerCase()})}uppercase(e=Vn.uppercase){return this.transform(t=>Cr(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Cr(t)||t===t.toUpperCase()})}}Nn.prototype=HA.prototype;let OV=n=>n!=+n;function Ba(){return new $A}class $A extends Zn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!OV(e)}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return i.isType(a)||a===null?a:parseFloat(a)})})}min(e,t=xs.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,t=xs.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,t=xs.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,t=xs.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=xs.positive){return this.moreThan(0,e)}negative(e=xs.negative){return this.lessThan(0,e)}integer(e=xs.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:t=>Number.isInteger(t)})}truncate(){return this.transform(e=>Cr(e)?e:e|0)}round(e){var t;let i=["ceil","floor","round","trunc"];if(e=((t=e)==null?void 0:t.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(a=>Cr(a)?a:Math[e](a))}}Ba.prototype=$A.prototype;let GA=new Date(""),MV=n=>Object.prototype.toString.call(n)==="[object Date]";function Xf(){return new wc}class wc extends Zn{constructor(){super({type:"date",check(e){return MV(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=TV(e),isNaN(e)?wc.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(Ka.isRef(e))i=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=a}return i}min(e,t=Dg.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(i)}})}max(e,t=Dg.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(i)}})}}wc.INVALID_DATE=GA;Xf.prototype=wc.prototype;Xf.INVALID_DATE=GA;function kV(n,e=[]){let t=[],i=new Set,a=new Set(e.map(([c,d])=>`${c}-${d}`));function l(c,d){let p=ka.split(c)[0];i.add(p),a.has(`${d}-${p}`)||t.push([d,p])}for(const c of Object.keys(n)){let d=n[c];i.add(c),Ka.isRef(d)&&d.isSibling?l(d.path,c):Sd(d)&&"deps"in d&&d.deps.forEach(p=>l(p,c))}return uV.array(Array.from(i),t).reverse()}function bT(n,e){let t=1/0;return n.some((i,a)=>{var l;if((l=e.path)!=null&&l.includes(i))return t=a,!0}),t}function YA(n){return(e,t)=>bT(n,e)-bT(n,t)}const QA=(n,e,t)=>{if(typeof n!="string")return n;let i=n;try{i=JSON.parse(n)}catch{}return t.isType(i)?i:n};function Ef(n){if("fields"in n){const e={};for(const[t,i]of Object.entries(n.fields))e[t]=Ef(i);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Ef(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Ef)}):"optional"in n?n.optional():n}const VV=(n,e)=>{const t=[...ka.normalizePath(e)];if(t.length===1)return t[0]in n;let i=t.pop(),a=ka.getter(ka.join(t),!0)(n);return!!(a&&i in a)};let TT=n=>Object.prototype.toString.call(n)==="[object Object]";function wT(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(i=>t.indexOf(i)===-1)}const PV=YA([]);function Xs(n){return new KA(n)}class KA extends Zn{constructor(e){super({type:"object",check(t){return TT(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=PV,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var i;let a=super._cast(e,t);if(a===void 0)return this.getDefault(t);if(!this._typeCheck(a))return a;let l=this.fields,c=(i=t.stripUnknown)!=null?i:this.spec.noUnknown,d=[].concat(this._nodes,Object.keys(a).filter(T=>!this._nodes.includes(T))),p={},m=Object.assign({},t,{parent:p,__validating:t.__validating||!1}),v=!1;for(const T of d){let w=l[T],x=T in a;if(w){let V,M=a[T];m.path=(t.path?`${t.path}.`:"")+T,w=w.resolve({value:M,context:t.context,parent:p});let L=w instanceof Zn?w.spec:void 0,N=L?.strict;if(L!=null&&L.strip){v=v||T in a;continue}V=!t.__validating||!N?w.cast(a[T],m):a[T],V!==void 0&&(p[T]=V)}else x&&!c&&(p[T]=a[T]);(x!==T in p||p[T]!==a[T])&&(v=!0)}return v?p:a}_validate(e,t={},i,a){let{from:l=[],originalValue:c=e,recursive:d=this.spec.recursive}=t;t.from=[{schema:this,value:c},...l],t.__validating=!0,t.originalValue=c,super._validate(e,t,i,(p,m)=>{if(!d||!TT(m)){a(p,m);return}c=c||m;let v=[];for(let T of this._nodes){let w=this.fields[T];!w||Ka.isRef(w)||v.push(w.asNestedTest({options:t,key:T,parent:m,parentPath:t.path,originalParent:c}))}this.runTests({tests:v,value:m,originalValue:c,options:t},i,T=>{a(T.sort(this._sortErrors).concat(p),m)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),i=t.fields;for(let[a,l]of Object.entries(this.fields)){const c=i[a];i[a]=c===void 0?l:c}return t.withMutation(a=>a.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(i=>{var a;const l=this.fields[i];let c=e;(a=c)!=null&&a.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[i]})),t[i]=l&&"getDefault"in l?l.getDefault(c):void 0}),t}setFields(e,t){let i=this.clone();return i.fields=e,i._nodes=kV(e,t),i._sortErrors=YA(Object.keys(e)),t&&(i._excludedEdges=t),i}shape(e,t=[]){return this.clone().withMutation(i=>{let a=i._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),a=[...i._excludedEdges,...t]),i.setFields(Object.assign(i.fields,e),a)})}partial(){const e={};for(const[t,i]of Object.entries(this.fields))e[t]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Ef(this)}pick(e){const t={};for(const i of e)this.fields[i]&&(t[i]=this.fields[i]);return this.setFields(t,this._excludedEdges.filter(([i,a])=>e.includes(i)&&e.includes(a)))}omit(e){const t=[];for(const i of Object.keys(this.fields))e.includes(i)||t.push(i);return this.pick(t)}from(e,t,i){let a=ka.getter(e,!0);return this.transform(l=>{if(!l)return l;let c=l;return VV(l,e)&&(c=Object.assign({},l),i||delete c[e],c[t]=a(l)),c})}json(){return this.transform(QA)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||vf.exact,test(t){if(t==null)return!0;const i=wT(this.schema,t);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=vf.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:t,test(a){if(a==null)return!0;const l=wT(this.schema,a);return!e||l.length===0||this.createError({params:{unknown:l.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,t=vf.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const i={};for(const a of Object.keys(t))i[e(a)]=t[a];return i})}camelCase(){return this.transformKeys(Kp.camelCase)}snakeCase(){return this.transformKeys(Kp.snakeCase)}constantCase(){return this.transformKeys(e=>Kp.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[l,c]of Object.entries(t.fields)){var a;let d=e;(a=d)!=null&&a.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[l]})),i.fields[l]=c.describe(d)}return i}}Xs.prototype=KA.prototype;function Wf(n){return new XA(n)}class XA extends Zn{constructor(e){super({type:"array",spec:{types:e},check(t){return Array.isArray(t)}}),this.innerType=void 0,this.innerType=e}_cast(e,t){const i=super._cast(e,t);if(!this._typeCheck(i)||!this.innerType)return i;let a=!1;const l=i.map((c,d)=>{const p=this.innerType.cast(c,Object.assign({},t,{path:`${t.path||""}[${d}]`}));return p!==c&&(a=!0),p});return a?l:i}_validate(e,t={},i,a){var l;let c=this.innerType,d=(l=t.recursive)!=null?l:this.spec.recursive;t.originalValue!=null&&t.originalValue,super._validate(e,t,i,(p,m)=>{var v;if(!d||!c||!this._typeCheck(m)){a(p,m);return}let T=new Array(m.length);for(let x=0;x<m.length;x++){var w;T[x]=c.asNestedTest({options:t,index:x,parent:m,parentPath:t.path,originalParent:(w=t.originalValue)!=null?w:e})}this.runTests({value:m,tests:T,originalValue:(v=t.originalValue)!=null?v:e,options:t},i,x=>a(x.concat(p),m))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(QA)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!Sd(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Bi(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=_f.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t){return t=t||_f.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t){return t=t||_f.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:t==null?[]:[].concat(t))}compact(e){let t=e?(i,a,l)=>!e(i,a,l):i=>!!i;return this.transform(i=>i!=null?i.filter(t):i)}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);if(t.innerType){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[0]})),i.innerType=t.innerType.describe(l)}return i}}Wf.prototype=XA.prototype;const WA=Xs({inicio:Nn().matches(/^\d{2}:\d{2}$/,"Formato de hora inválido (HH:mm)").required("La hora de inicio es obligatoria"),fin:Nn().matches(/^\d{2}:\d{2}$/,"Formato de hora inválido (HH:mm)").required("La hora de fin es obligatoria")}).test("inicio-menor-que-fin","La hora de inicio debe ser menor que la hora de fin",n=>!n?.inicio||!n?.fin?!0:n.inicio<n.fin),jV=Wf().length(7,"Debe haber 7 días en la semana").of(Wf().of(WA)).required("Horarios es obligatorio"),LV=Xs({fecha:Nn().matches(/^\d{4}-\d{2}-\d{2}$/,"Formato de fecha inválido (YYYY-MM-DD)").required(),franjas:Wf().of(WA).required("Debe seleccionar una fecha"),tipo:Nn().oneOf(["abierto","cerrado"]).required()}),UV=Xs({turnosSimultaneos:Ba().min(1,"Debe permitir al menos 1 turno").required("Debe indicar la cantidad de turnos simultáneos"),horarios:jV,minutosSlot:Ba().min(5,"Debe ser al menos 5 minutos").max(60,"No puede superar 60 minutos").required("Debe indicar la duración minima del turno"),autoaceptarTurnos:ev().required()}),zV=Xs({id:Nn(),nombre:Nn().required("Complete el nombre del servicio").matches(/^[A-Za-zÁÉÍÓÚáéíóúÑñ0-9\s\-\&\.,]+$/,"Solo se permiten letras, números, espacios y símbolos comunes (- & . ,)"),duracionMinutos:Ba().typeError("La duración debe ser un número").integer("Debe ser un número entero").min(5,"La duración mínima es 5 minutos").required("Complete la duración del servicio"),precio:Ba().min(0).required("Indique el precio del servicio"),activo:ev().required()}),ZA=Xs({id:Nn(),nombre:Nn().required().matches(/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,"Solo se permiten letras y espacios en el nombre"),apellido:Nn().required().matches(/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,"Solo se permiten letras y espacios en el apellido"),email:Nn().email().required("Ingrese un email válido"),telefono:Ba().required("Ingrese un número de teléfono"),rolId:Nn().required()});Xs({id:Nn(),fechaHoraInicio:Xf().required(),fechaHoraFin:Xf().required(),capacidad:Ba().min(0).required()}).test("inicio-menor-que-fin","La fecha/hora de inicio debe ser menor que la de fin",n=>!n?.fechaHoraInicio||!n?.fechaHoraFin?!0:new Date(n.fechaHoraInicio)<new Date(n.fechaHoraFin));const FV=Xs({email:Nn().email("Ingrese un email válido").required("El email es obligatorio"),password:Nn().required("La contraseña es obligatoria")});function qV(){const[n,e]=z.useState(""),[t,i]=z.useState(""),[a,l]=z.useState(""),[c,d]=z.useState(!1),p=ed(),m=pr(T=>T.setUser),v=async T=>{T.preventDefault(),l(""),d(!0);try{await FV.validate({email:n,password:t},{abortEarly:!0});const w=await mN(xl,n,t),x=await kA(w.user.uid),V=await VA(w.user.uid);m({user:w.user,info:x,turnos:V}),p("/dashboard")}catch(w){w.name==="ValidationError"?(l("Error de validación: "+w.message),console.error("Errores de validación:",w.errors)):(l("Credenciales inválidas."),console.error("Error al iniciar sesión:",w))}finally{d(!1)}};return _.jsx("div",{className:"page-container",children:c?_.jsx("div",{className:"flex justify-center items-center h-40",children:_.jsx(qa,{color:"#3498db",loading:!0,size:50})}):_.jsxs("div",{className:"form-section max-w-sm mx-auto",children:[_.jsx("h2",{className:"page-subtitle text-center",children:"Iniciar sesión"}),a&&_.jsx(Wn,{type:"error",message:a,onClose:()=>l(null)}),_.jsxs("form",{onSubmit:v,children:[_.jsx("label",{className:"form-label",children:"Email"}),_.jsx("input",{type:"email",value:n,onChange:T=>e(T.target.value),placeholder:"tuemail@ejemplo.com",className:"form-control",required:!0}),_.jsx("label",{className:"form-label",children:"Contraseña"}),_.jsx("input",{type:"password",value:t,onChange:T=>i(T.target.value),placeholder:"********",className:"form-control",required:!0}),_.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Iniciar sesión"})]}),_.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600 space-y-2",children:[_.jsxs("p",{children:["¿No tenés cuenta?"," ",_.jsx(vt,{to:"/register",className:"text-blue-600 hover:underline",children:"Registrate"})]}),_.jsxs("p",{children:["¿Olvidaste tu contraseña?"," ",_.jsx(vt,{to:"/recuperar",className:"text-blue-600 hover:underline",children:"Recuperar"})]})]})]})})}function BV(){const[n,e]=z.useState({nombre:"",apellido:"",telefono:"",email:"",password:""}),[t,i]=z.useState(""),[a,l]=z.useState(!1),c=p=>{e({...n,[p.target.name]:p.target.value})},d=async p=>{p.preventDefault(),i(""),l(!0);try{await ZA.validate({nombre:n.nombre,apellido:n.apellido,email:n.email,telefono:n.telefono,rolId:"user"},{abortEarly:!0});const v=(await dN(xl,n.email,n.password)).user.uid;await setDoc(doc(Ye,"users",v),{nombre:n.nombre,apellido:n.apellido,telefono:n.telefono,email:n.email,rolId:"user",createdAt:new Date}),await setDoc(doc(Ye,"roles",v),{role:"user"}),navigate("/dashboard")}catch(m){m.name==="ValidationError"?(i("Error de validación: "+m.message),console.error("Errores de validación:",m.errors)):(i("Error al registrar: "+m.message),console.error("Error al registrar usuario:",m))}finally{l(!1)}};return _.jsx("div",{className:"page-container",children:_.jsxs("div",{className:"form-section max-w-md mx-auto",children:[_.jsx("h2",{className:"page-subtitle text-center mb-4",children:"Crear cuenta"}),t&&_.jsx(Wn,{type:"error",message:t,onClose:()=>i(null)}),_.jsxs("form",{onSubmit:d,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Nombre"}),_.jsx("input",{name:"nombre",className:"form-control",onChange:c,value:n.nombre,required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Apellido"}),_.jsx("input",{name:"apellido",className:"form-control",onChange:c,value:n.apellido,required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Teléfono"}),_.jsx("input",{name:"telefono",className:"form-control",type:"number",onChange:c,value:n.telefono})]}),_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Email"}),_.jsx("input",{type:"email",name:"email",className:"form-control",onChange:c,value:n.email,required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Contraseña"}),_.jsx("input",{type:"password",name:"password",className:"form-control",onChange:c,value:n.password,required:!0})]}),_.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:a,children:a?"Registrando...":"Registrarse"})]}),_.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:_.jsxs("p",{children:["¿Ya tenés cuenta?"," ",_.jsx(vt,{to:"/login",className:"text-blue-600 hover:underline",children:"Iniciar sesión"})]})})]})})}var bf={exports:{}},HV=bf.exports,ST;function JA(){return ST||(ST=1,function(n,e){(function(t,i){n.exports=i()})(HV,function(){var t=1e3,i=6e4,a=36e5,l="millisecond",c="second",d="minute",p="hour",m="day",v="week",T="month",w="quarter",x="year",V="date",M="Invalid Date",L=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,G={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(de){var re=["th","st","nd","rd"],j=de%100;return"["+de+(re[(j-20)%10]||re[j]||re[0])+"]"}},Q=function(de,re,j){var W=String(de);return!W||W.length>=re?de:""+Array(re+1-W.length).join(j)+de},ne={s:Q,z:function(de){var re=-de.utcOffset(),j=Math.abs(re),W=Math.floor(j/60),te=j%60;return(re<=0?"+":"-")+Q(W,2,"0")+":"+Q(te,2,"0")},m:function de(re,j){if(re.date()<j.date())return-de(j,re);var W=12*(j.year()-re.year())+(j.month()-re.month()),te=re.clone().add(W,T),he=j-te<0,I=re.clone().add(W+(he?-1:1),T);return+(-(W+(j-te)/(he?te-I:I-te))||0)},a:function(de){return de<0?Math.ceil(de)||0:Math.floor(de)},p:function(de){return{M:T,y:x,w:v,d:m,D:V,h:p,m:d,s:c,ms:l,Q:w}[de]||String(de||"").toLowerCase().replace(/s$/,"")},u:function(de){return de===void 0}},J="en",fe={};fe[J]=G;var U="$isDayjsObject",R=function(de){return de instanceof q||!(!de||!de[U])},D=function de(re,j,W){var te;if(!re)return J;if(typeof re=="string"){var he=re.toLowerCase();fe[he]&&(te=he),j&&(fe[he]=j,te=he);var I=re.split("-");if(!te&&I.length>1)return de(I[0])}else{var Z=re.name;fe[Z]=re,te=Z}return!W&&te&&(J=te),te||!W&&J},P=function(de,re){if(R(de))return de.clone();var j=typeof re=="object"?re:{};return j.date=de,j.args=arguments,new q(j)},O=ne;O.l=D,O.i=R,O.w=function(de,re){return P(de,{locale:re.$L,utc:re.$u,x:re.$x,$offset:re.$offset})};var q=function(){function de(j){this.$L=D(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[U]=!0}var re=de.prototype;return re.parse=function(j){this.$d=function(W){var te=W.date,he=W.utc;if(te===null)return new Date(NaN);if(O.u(te))return new Date;if(te instanceof Date)return new Date(te);if(typeof te=="string"&&!/Z$/i.test(te)){var I=te.match(L);if(I){var Z=I[2]-1||0,ce=(I[7]||"0").substring(0,3);return he?new Date(Date.UTC(I[1],Z,I[3]||1,I[4]||0,I[5]||0,I[6]||0,ce)):new Date(I[1],Z,I[3]||1,I[4]||0,I[5]||0,I[6]||0,ce)}}return new Date(te)}(j),this.init()},re.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},re.$utils=function(){return O},re.isValid=function(){return this.$d.toString()!==M},re.isSame=function(j,W){var te=P(j);return this.startOf(W)<=te&&te<=this.endOf(W)},re.isAfter=function(j,W){return P(j)<this.startOf(W)},re.isBefore=function(j,W){return this.endOf(W)<P(j)},re.$g=function(j,W,te){return O.u(j)?this[W]:this.set(te,j)},re.unix=function(){return Math.floor(this.valueOf()/1e3)},re.valueOf=function(){return this.$d.getTime()},re.startOf=function(j,W){var te=this,he=!!O.u(W)||W,I=O.p(j),Z=function(lt,ut){var St=O.w(te.$u?Date.UTC(te.$y,ut,lt):new Date(te.$y,ut,lt),te);return he?St:St.endOf(m)},ce=function(lt,ut){return O.w(te.toDate()[lt].apply(te.toDate("s"),(he?[0,0,0,0]:[23,59,59,999]).slice(ut)),te)},oe=this.$W,ge=this.$M,Te=this.$D,_e="set"+(this.$u?"UTC":"");switch(I){case x:return he?Z(1,0):Z(31,11);case T:return he?Z(1,ge):Z(0,ge+1);case v:var Qe=this.$locale().weekStart||0,ke=(oe<Qe?oe+7:oe)-Qe;return Z(he?Te-ke:Te+(6-ke),ge);case m:case V:return ce(_e+"Hours",0);case p:return ce(_e+"Minutes",1);case d:return ce(_e+"Seconds",2);case c:return ce(_e+"Milliseconds",3);default:return this.clone()}},re.endOf=function(j){return this.startOf(j,!1)},re.$set=function(j,W){var te,he=O.p(j),I="set"+(this.$u?"UTC":""),Z=(te={},te[m]=I+"Date",te[V]=I+"Date",te[T]=I+"Month",te[x]=I+"FullYear",te[p]=I+"Hours",te[d]=I+"Minutes",te[c]=I+"Seconds",te[l]=I+"Milliseconds",te)[he],ce=he===m?this.$D+(W-this.$W):W;if(he===T||he===x){var oe=this.clone().set(V,1);oe.$d[Z](ce),oe.init(),this.$d=oe.set(V,Math.min(this.$D,oe.daysInMonth())).$d}else Z&&this.$d[Z](ce);return this.init(),this},re.set=function(j,W){return this.clone().$set(j,W)},re.get=function(j){return this[O.p(j)]()},re.add=function(j,W){var te,he=this;j=Number(j);var I=O.p(W),Z=function(ge){var Te=P(he);return O.w(Te.date(Te.date()+Math.round(ge*j)),he)};if(I===T)return this.set(T,this.$M+j);if(I===x)return this.set(x,this.$y+j);if(I===m)return Z(1);if(I===v)return Z(7);var ce=(te={},te[d]=i,te[p]=a,te[c]=t,te)[I]||1,oe=this.$d.getTime()+j*ce;return O.w(oe,this)},re.subtract=function(j,W){return this.add(-1*j,W)},re.format=function(j){var W=this,te=this.$locale();if(!this.isValid())return te.invalidDate||M;var he=j||"YYYY-MM-DDTHH:mm:ssZ",I=O.z(this),Z=this.$H,ce=this.$m,oe=this.$M,ge=te.weekdays,Te=te.months,_e=te.meridiem,Qe=function(ut,St,Gt,yn){return ut&&(ut[St]||ut(W,he))||Gt[St].slice(0,yn)},ke=function(ut){return O.s(Z%12||12,ut,"0")},lt=_e||function(ut,St,Gt){var yn=ut<12?"AM":"PM";return Gt?yn.toLowerCase():yn};return he.replace(N,function(ut,St){return St||function(Gt){switch(Gt){case"YY":return String(W.$y).slice(-2);case"YYYY":return O.s(W.$y,4,"0");case"M":return oe+1;case"MM":return O.s(oe+1,2,"0");case"MMM":return Qe(te.monthsShort,oe,Te,3);case"MMMM":return Qe(Te,oe);case"D":return W.$D;case"DD":return O.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return Qe(te.weekdaysMin,W.$W,ge,2);case"ddd":return Qe(te.weekdaysShort,W.$W,ge,3);case"dddd":return ge[W.$W];case"H":return String(Z);case"HH":return O.s(Z,2,"0");case"h":return ke(1);case"hh":return ke(2);case"a":return lt(Z,ce,!0);case"A":return lt(Z,ce,!1);case"m":return String(ce);case"mm":return O.s(ce,2,"0");case"s":return String(W.$s);case"ss":return O.s(W.$s,2,"0");case"SSS":return O.s(W.$ms,3,"0");case"Z":return I}return null}(ut)||I.replace(":","")})},re.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},re.diff=function(j,W,te){var he,I=this,Z=O.p(W),ce=P(j),oe=(ce.utcOffset()-this.utcOffset())*i,ge=this-ce,Te=function(){return O.m(I,ce)};switch(Z){case x:he=Te()/12;break;case T:he=Te();break;case w:he=Te()/3;break;case v:he=(ge-oe)/6048e5;break;case m:he=(ge-oe)/864e5;break;case p:he=ge/a;break;case d:he=ge/i;break;case c:he=ge/t;break;default:he=ge}return te?he:O.a(he)},re.daysInMonth=function(){return this.endOf(T).$D},re.$locale=function(){return fe[this.$L]},re.locale=function(j,W){if(!j)return this.$L;var te=this.clone(),he=D(j,W,!0);return he&&(te.$L=he),te},re.clone=function(){return O.w(this.$d,this)},re.toDate=function(){return new Date(this.valueOf())},re.toJSON=function(){return this.isValid()?this.toISOString():null},re.toISOString=function(){return this.$d.toISOString()},re.toString=function(){return this.$d.toUTCString()},de}(),C=q.prototype;return P.prototype=C,[["$ms",l],["$s",c],["$m",d],["$H",p],["$W",m],["$M",T],["$y",x],["$D",V]].forEach(function(de){C[de[1]]=function(re){return this.$g(re,de[0],de[1])}}),P.extend=function(de,re){return de.$i||(de(re,q,P),de.$i=!0),P},P.locale=D,P.isDayjs=R,P.unix=function(de){return P(1e3*de)},P.en=fe[J],P.Ls=fe,P.p={},P})}(bf)),bf.exports}var $V=JA();const ni=Yg($V);async function tv(n,e){const t=pn(Ye,"turnos",n);await Jy(t,{estado:e})}async function GV(n){return tv(n,"confirmado")}async function YV(n){return t1(n),tv(n,"rechazado")}async function e1(n){return t1(n),tv(n,"cancelado")}async function QV(){const n=ni().startOf("day").toDate(),e=Ir(Xn(Ye,"turnos"),jn("estado","==","pendiente"),jn("inicio",">=",n)),i=(await Dr(e)).docs.map(m=>({id:m.id,...m.data()}));if(i.length===0)return[];const a=[...new Set(i.map(m=>m.userId))],l=[...new Set(i.map(m=>m.servicioId))];let c={};if(a.length){const m=Ir(Xn(Ye,"users"),jn(Hf(),"in",a));(await Dr(m)).forEach(T=>{c[T.id]=T.data()})}let d={};if(l.length){const m=Ir(Xn(Ye,"servicios"),jn(Hf(),"in",l));(await Dr(m)).forEach(T=>{d[T.id]=T.data()})}return i.map(m=>({...m,usuario:c[m.userId]||null,servicio:d[m.servicioId]||null}))}async function KV(n){const e=ni(n).startOf("day").toDate(),t=ni(n).endOf("day").toDate(),i=Ir(Xn(Ye,"turnos"),jn("inicio",">=",e),jn("inicio","<=",t)),l=(await Dr(i)).docs.map(M=>({id:M.id,...M.data()}));if(l.length===0)return[];const c=[...new Set(l.map(M=>M.userId))],d=[...new Set(l.map(M=>M.servicioId))],p=Ir(Xn(Ye,"users"),jn(Hf(),"in",c)),m=await Dr(p),v={};m.forEach(M=>{v[M.id]=M.data()});const T=Ir(Xn(Ye,"servicios"),jn(Hf(),"in",d)),w=await Dr(T),x={};return w.forEach(M=>{x[M.id]=M.data()}),l.map(M=>({...M,usuario:v[M.userId]||null,servicio:x[M.servicioId]||null}))}async function t1(n){const e=pn(Ye,"turnos",n),t=await Al(e);if(!t.exists())return;const{slotIds:i=[]}=t.data(),a=Gk(Ye);for(const l of i){const c=pn(Ye,"slots",l);a.update(c,{capacidad:$k(1)})}a.update(e,{slotIds:[]}),await a.commit()}function XV(){const[n,e]=z.useState(null),[t,i]=z.useState(null),a=pr(m=>m.turnos),l=pr(m=>m.setTurnos),[c,d]=z.useState(!1),p=async m=>{try{d(!0),await e1(m),l(a.map(v=>v.id===m?{...v,estado:"cancelado"}:v)),i("El turno fue cancelado correctamente."),e(null)}catch{e("No se pudo cancelar el turno. Intenta de nuevo."),i(null)}finally{d(!1)}};return _.jsx("div",{className:"page-container",children:c?_.jsx("div",{className:"flex justify-center items-center h-40",children:_.jsx(qa,{color:"#3498db",loading:!0,size:50})}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2",children:[_.jsx("h2",{className:"page-title",children:"📅 Tus próximos turnos"}),_.jsx(vt,{to:"/turnos",className:"btn-primary inline-block max-w-fit sm:ml-4",children:"➕ Sacar nuevo turno"})]}),n&&_.jsx(Wn,{type:"error",message:n}),t&&_.jsx(Wn,{type:"success",message:t}),_.jsx("div",{className:"form-section",children:a.length===0?_.jsx("p",{className:"text-gray-500 mt-2",children:"No tenés turnos próximos."}):_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:a.map(m=>_.jsxs("div",{className:"bg-white p-4 rounded shadow border",children:[_.jsx("h3",{className:"font-bold text-lg text-gray-800",children:m.servicio?.nombre}),_.jsxs("p",{className:"text-gray-700",children:[_.jsx("strong",{children:"💲 Precio:"})," $",m.servicio?.precio]}),_.jsxs("p",{className:"text-gray-700",children:[_.jsx("strong",{children:"📅 Fecha:"})," ",new et(m.inicio.seconds,m.inicio.nanoseconds).toDate().toLocaleString("es-AR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),_.jsxs("p",{className:"text-gray-700",children:[_.jsx("strong",{children:"⏳ Duración:"})," ",m.servicio?.duracionMinutos," minutos"]}),_.jsxs("p",{className:"text-gray-700",children:[_.jsx("strong",{children:"📌 Estado:"})," ",m.estado]}),(m.estado==="pendiente"||m.estado==="confirmado")&&_.jsx("button",{onClick:()=>p(m.id),className:"btn-danger mt-3 w-full",children:"❌ Cancelar turno"})]},m.id))})})]})})}async function AT(){try{const n=Xn(Ye,"servicios"),e=Ir(n,jn("activo","==",!0)),t=await Dr(e);return t.empty?(console.warn("No se encontraron servicios activos"),[]):t.docs.map(a=>({id:a.id,...a.data()}))}catch(n){return console.error("Error al obtener servicios:",n),[]}}const n1=OA(MA((n,e)=>({servicios:null,isLoading:!1,fetchServicios:async()=>{const{servicios:t}=e();if(t&&t.length>0)return t;n({isLoading:!0});const i=await AT();return n({servicios:i,isLoading:!1}),i},refreshServicios:async()=>{n({isLoading:!0});const t=await AT();return n({servicios:t,isLoading:!1}),t},clearServicios:()=>n({servicios:null})}),{name:"servicios-storage"}));async function WV(n){const e=n.toISOString().slice(0,10);let t=(n.getDay()+6)%7;const i=await Al(pn(Ye,"configuracion","admin"));if(!i.exists())throw new Error("Configuración no encontrada");const a=i.data(),l=a.horarios??{};let c=Array.isArray(l)?l[t]??[]:l[String(t)]??[];const d=Number(a.turnosSimultaneos??1),p=Number(a.minutosSlot??15),m=await Dr(Ir(Xn(Ye,"configuracion","admin","excepciones"),jn("fecha","==",e)));if(!m.empty){const V=m.docs[0].data();V.tipo==="cerrado"?c=[]:V.tipo==="abierto"&&(Array.isArray(V.franjas)?c=V.franjas.map(M=>({inicio:M.inicio,fin:M.fin})):c=[{inicio:V.inicio,fin:V.fin}])}const v=new Date(`${e}T00:00:00`),T=new Date(`${e}T23:59:59.999`),x=(await Dr(Ir(Xn(Ye,"slots"),jn("fechaHoraInicio",">=",v),jn("fechaHoraInicio","<=",T)))).docs.map(V=>{const M=V.data();return{id:V.id,fechaHoraInicio:M.fechaHoraInicio.toDate?M.fechaHoraInicio.toDate():new Date(M.fechaHoraInicio),fechaHoraFin:M.fechaHoraFin.toDate?M.fechaHoraFin.toDate():new Date(M.fechaHoraFin),capacidad:typeof M.capacidad=="number"?M.capacidad:d}});return{horarioAtencion:c,turnosSimultaneos:d,slotsRegistrados:x,minutosSlot:p}}function ZV(n,e,t,i,a,l){const c=[],d=new Date,p=n.getFullYear()===d.getFullYear()&&n.getMonth()===d.getMonth()&&n.getDate()===d.getDate();return e.forEach(({inicio:m,fin:v})=>{const T=new Date(`${n.toISOString().slice(0,10)}T${m}`),w=new Date(`${n.toISOString().slice(0,10)}T${v}`);for(let x=new Date(T);x<w;x.setMinutes(x.getMinutes()+t)){if(p&&x<=d)continue;const V=new Date(x.getTime()+l*6e4);if(V>w)continue;let M=!1;for(let N=new Date(x);N<V;N.setMinutes(N.getMinutes()+t)){const G=i.find(Q=>Q.fechaHoraInicio.getTime()===N.getTime());if(G&&G.capacidad===0){M=!0;break}}if(M)continue;const L=i.find(N=>N.fechaHoraInicio.getTime()===x.getTime());(!L||L.capacidad>0)&&c.push({id:L?.id??`gen-${x.getTime()}`,fechaHoraInicio:new Date(x),fechaHoraFin:V,capacidad:L?.capacidad??a,disponible:(L?.capacidad??a)>0})}}),c}function JV(n){const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0"),a=String(n.getHours()).padStart(2,"0"),l=String(n.getMinutes()).padStart(2,"0");return`${e}-${t}-${i}T${a}:${l}`}async function eP({slotInicio:n,duracionMinutos:e,userUid:t,servicioUid:i}){const a=await Al(pn(Ye,"configuracion","admin")),l=a.data().minutosSlot,c=a.data().turnosSimultaneos,d=Math.max(1,Math.ceil(e/l)),p=Array.from({length:d},(V,M)=>new Date(n.getTime()+M*l*6e4)),m=p.map(JV),v=m.map(V=>pn(Ye,"slots",V)),T=new Date(n.getTime()+e*6e4),w=crypto.randomUUID(),x=pn(Ye,"turnos",w);return await Hk(Ye,async V=>{const M=[];for(let L=0;L<v.length;L++){const N=v[L],G=p[L],Q=await V.get(N);M.push({ref:N,inicio:G,snap:Q})}for(let L=0;L<M.length;L++){const{ref:N,inicio:G,snap:Q}=M[L];let ne;if(!Q.exists())ne=c,V.set(N,{fechaHoraInicio:et.fromDate(G),fechaHoraFin:et.fromDate(new Date(G.getTime()+l*6e4)),capacidad:ne-1,creadoEn:ef(),actualizadoEn:ef()});else{const J=Q.data();if(ne=typeof J.capacidad=="number"?J.capacidad:c,ne<=0)throw new Error("Sin disponibilidad en uno de los tramos.");V.update(N,{capacidad:ne-1,actualizadoEn:ef()})}}V.set(x,{userId:t,servicioId:i,inicio:et.fromDate(n),fin:et.fromDate(T),duracionMinutos:e,slotIds:m,estado:"confirmado",fechaCreacion:ef()})}),{turnoId:w,slotIds:m}}function tP({servicios:n,loading:e,onSelect:t}){return _.jsxs("section",{children:[_.jsx("h2",{className:"text-2xl font-semibold mb-4 text-indigo-600",children:"1️⃣ Elegí un servicio"}),e?_.jsx("p",{className:"text-gray-500",children:"Cargando servicios..."}):n.length===0?_.jsx("p",{className:"text-gray-500",children:"No hay servicios disponibles."}):_.jsx("ul",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3",children:n.map(i=>_.jsxs("li",{className:"border bg-indigo-50 rounded-lg p-5 shadow-sm hover:shadow-lg hover:border-indigo-400 transition-all duration-200 flex flex-col bg-white group",children:[_.jsx("div",{className:"flex items-center gap-2 mb-2",children:_.jsx("h3",{className:"text-lg font-bold text-gray-800",children:i.nombre})}),_.jsxs("p",{className:"text-sm text-gray-600",children:[_.jsx("strong",{children:"Duración:"})," ",i.duracionMinutos," min"]}),typeof i.precio=="number"&&_.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[_.jsx("strong",{children:"Precio:"})," $ $",i.precio]}),_.jsx("button",{className:"mt-auto bg-indigo-600 text-white px-3 py-2 rounded-lg hover:bg-indigo-700 w-full transition-colors",onClick:()=>t(i),children:"Elegir"})]},i.id))})]})}function nP({servicio:n,fechaStr:e,todayStr:t,onFechaChange:i,slots:a,loading:l,horaSel:c,onHoraChange:d,onBack:p,onContinuar:m}){return _.jsxs("section",{className:"rounded-lg border p-6 bg-white mt-6 shadow-sm",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsx("button",{className:"text-indigo-500 hover:text-indigo-700 flex items-center gap-1",onClick:p,children:"← Cambiar servicio"}),_.jsxs("div",{className:"bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium",children:["💆 ",n.nombre," · ⏳ ",n.duracionMinutos," min"]})]}),_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📅 Seleccioná la fecha"}),_.jsx("input",{type:"date",className:"border rounded px-3 py-2 mb-6 w-full focus:outline-none focus:ring-2 focus:ring-indigo-500",value:e,min:t,onChange:i}),l?_.jsx("p",{className:"text-gray-500",children:"Cargando horarios..."}):a.length===0?_.jsx("p",{className:"text-gray-500",children:"No hay horarios disponibles para esta fecha. Probá con otro día."}):_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"⏰ Elegí un horario:"}),_.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3",children:a.map(v=>{const T=v.fechaHoraInicio.toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=c===T;return _.jsx("button",{type:"button",disabled:!v.disponible,className:`px-3 py-2 rounded-full text-sm border transition-all duration-200
                    ${v.disponible?w?"bg-indigo-600 text-white border-indigo-600":"bg-white hover:bg-indigo-50 border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"}
                  `,"aria-pressed":w,onClick:()=>d(T),children:T},v.id+T)})}),_.jsx("div",{className:"mt-8 flex justify-end",children:_.jsx("button",{className:`px-5 py-2 rounded-lg font-medium transition-colors duration-200 ${c?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!c,onClick:m,children:"Continuar →"})})]})]})}function rP({servicio:n,fecha:e,horaSel:t,confirming:i,onBack:a,onConfirm:l}){return _.jsxs("section",{className:"rounded-lg border p-6 bg-white mt-6 shadow-sm",children:[_.jsx("button",{className:"text-indigo-500 hover:text-indigo-700 flex items-center gap-1 mb-6",onClick:a,children:"← Cambiar fecha u horario"}),_.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"📋 Revisá y confirmá"}),_.jsxs("ul",{className:"text-gray-700 mb-8 space-y-2 bg-indigo-50 rounded-lg p-4",children:[_.jsxs("li",{children:[_.jsx("span",{className:"font-medium",children:"💆 Servicio:"})," ",n.nombre]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium",children:"⏳ Duración:"})," ",n.duracionMinutos," min"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium",children:"📅 Fecha:"})," ",e.toLocaleDateString("es-AR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium",children:"⏰ Horario:"})," ",t," hs"]}),typeof n.precio=="number"&&_.jsxs("li",{children:[_.jsx("span",{className:"font-medium",children:"💲 Precio:"})," $",n.precio]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-end",children:[_.jsx("button",{disabled:i,className:`px-5 py-2 rounded-lg font-medium transition-colors duration-200 ${i?"bg-gray-300 text-gray-600 cursor-wait":"bg-green-600 text-white hover:bg-green-700"}`,onClick:l,children:i?"Confirmando...":"Confirmar turno"}),_.jsx("button",{className:"px-5 py-2 rounded-lg border hover:bg-gray-50 font-medium",onClick:a,children:"Volver"})]})]})}function iP(){const[n,e]=z.useState([]),t=n1(C=>C.fetchServicios),[i,a]=z.useState(!0),[l,c]=z.useState(""),[d,p]=z.useState(""),[m,v]=z.useState(1),[T,w]=z.useState(null),[x,V]=z.useState(()=>{const C=new Date;return new Date(C.getFullYear(),C.getMonth(),C.getDate())}),[M,L]=z.useState([]),[N,G]=z.useState(!1),[Q,ne]=z.useState(""),[J,fe]=z.useState(!1),U=pr(C=>C.user),R=C=>{const de=C.getFullYear(),re=String(C.getMonth()+1).padStart(2,"0"),j=String(C.getDate()).padStart(2,"0");return`${de}-${re}-${j}`},D=R(new Date),P=R(x);function O(C,de){const[re,j]=de.split(":").map(Number),W=new Date(C);return W.setHours(re,j,0,0),W}z.useEffect(()=>{let C=!0;return(async()=>{try{a(!0);const de=await t();C&&e(de)}catch{C&&c("No pudimos cargar los servicios.")}finally{C&&a(!1)}})(),()=>{C=!1}},[]),z.useEffect(()=>{if(!T)return;let C=!0;return(async()=>{try{G(!0);const{horarioAtencion:de,turnosSimultaneos:re,slotsRegistrados:j,minutosSlot:W}=await WV(x),te=ZV(x,de,W,j,re,T.duracionMinutos);C&&L(te)}catch(de){console.error(de),C&&c("No pudimos cargar los horarios."),C&&L([])}finally{C&&G(!1)}})(),()=>{C=!1}},[T,x]);const q=async()=>{if(!U?.uid){c("Tenés que iniciar sesión para reservar.");return}if(!(!T||!Q)){fe(!0),c(""),p("");try{const C=O(x,Q),{turnoId:de}=await eP({slotInicio:C,duracionMinutos:T.duracionMinutos,userUid:U.uid,servicioUid:T.id});p(`Turno confirmado: ${T.nombre} el día ${x} a las ${Q}`),v(1),w(null),ne("")}catch(C){console.error(C),c(C.message==="Sin disponibilidad en uno de los tramos."?"El horario se encuentra reservado.":"No pudimos confirmar el turno. Probá de nuevo.")}finally{fe(!1)}}};return _.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[_.jsx("h1",{className:"page-title",children:"Sacar turno"}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Elegí un servicio, seleccioná fecha y horario, y confirmá tu reserva."}),_.jsx("div",{className:"flex items-center mb-8",children:[1,2,3].map(C=>_.jsxs("div",{className:"flex items-center",children:[_.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${m>=C?"bg-indigo-600 text-white":"bg-gray-300 text-gray-600"}`,children:C}),C<3&&_.jsx("div",{className:`h-1 w-14 ${m>C?"bg-indigo-600":"bg-gray-300"}`})]},C))}),l&&_.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded border border-red-200 bg-red-50 px-4 py-3 text-red-700",children:["❌ ",l]}),d&&_.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded border border-green-200 bg-green-50 px-4 py-3 text-green-700",children:["✅ ",d]}),m===1&&_.jsx("div",{className:"bg-white p-6 rounded shadow",children:_.jsx(tP,{servicios:n,loading:i,onSelect:C=>{w(C),ne(""),v(2)}})}),m===2&&T&&_.jsx("div",{className:"bg-white p-6 rounded shadow",children:_.jsx(nP,{servicio:T,fechaStr:P,todayStr:D,onFechaChange:C=>{const[de,re,j]=C.target.value.split("-").map(Number);V(new Date(de,re-1,j)),ne("")},slots:M,loading:N,horaSel:Q,onHoraChange:ne,onBack:()=>{w(null),ne(""),v(1)},onContinuar:()=>v(3)})}),m===3&&T&&Q&&_.jsx("div",{className:"bg-white p-6 rounded shadow",children:_.jsx(rP,{servicio:T,fecha:x,horaSel:Q,confirming:J,onBack:()=>v(2),onConfirm:q})})]})}function sP(n){const e={};for(let t=0;t<7;t++){const i=Array.isArray(n?.[t])?n[t]:[];e[String(t)]=i}return e}function aP(n){const e=[];if(Array.isArray(n))for(let t=0;t<7;t++)e[t]=Array.isArray(n[t])?n[t]:[];else for(let t=0;t<7;t++){const i=String(t);e[t]=Array.isArray(n?.[i])?n[i]:[]}return e}function oP(n,e,t,i){const a=pn(Ye,"configuracion",n);return IA(a,l=>{if(l.exists()){const c=l.data();t({turnosSimultaneos:Number(c.turnosSimultaneos??1),minutosSlot:Number(c.minutosSlot??15),horarios:c.horarios?aP(c.horarios):e,autoaceptarTurnos:!!(c.autoaceptarTurnos??!1)})}else t(null)},l=>i(l))}function lP(n,e,t,i,a){return Uk(pn(Ye,"configuracion",n),{turnosSimultaneos:Number(e),minutosSlot:Number(t),horarios:sP(i),autoaceptarTurnos:!!a},{merge:!0})}function uP(n,e,t){const i=ni().format("YYYY-MM-DD"),a=Xn(Ye,"configuracion",n,"excepciones"),l=Ir(a,jn("fecha",">=",i));return IA(l,c=>{const d=[];c.forEach(p=>d.push({id:p.id,...p.data()})),e(d)},c=>t(c))}function cP(n,e){return CA(Xn(Ye,"configuracion",n,"excepciones"),e)}function hP(n,e){return RA(pn(Ye,"configuracion",n,"excepciones",e))}function fP(n,e){const t=z.useMemo(()=>Array.from({length:7},()=>[{inicio:"09:00",fin:"18:00"}]),[]),[i,a]=z.useState(1),[l,c]=z.useState(15),[d,p]=z.useState(t),[m,v]=z.useState(!1),[T,w]=z.useState([]),[x,V]=z.useState(!0),[M,L]=z.useState("");return z.useEffect(()=>{if(!e||!n)return;const N=oP(n,t,Q=>{Q&&(a(Q.turnosSimultaneos??1),c(Q.minutosSlot??15),p(Q.horarios??t),v(Q.autoaceptarTurnos??!1)),V(!1)},Q=>{L(Q.message),V(!1)}),G=uP(n,Q=>w(Q),Q=>L(Q.message));return()=>{N(),G()}},[n,e,t]),{turnosSimultaneos:i,setTurnosSimultaneos:a,minutosSlot:l,setMinutosSlot:c,horarios:d,setHorarios:p,autoaceptarTurnos:m,setAutoaceptarTurnos:v,excepciones:T,loading:x,error:M,defaultHorarios:t,saveConfig:()=>lP(n,i,l,d,m),addExcepcion:N=>cP(n,N),removeExcepcion:N=>hP(n,N)}}function dP({value:n,onChange:e}){return _.jsxs(_.Fragment,{children:[_.jsx("label",{className:"form-label",htmlFor:"turnosSimultaneos",children:"Turnos simultáneos"}),_.jsx("input",{id:"turnosSimultaneos",type:"number",min:"1",value:n,onChange:t=>e(Number(t.target.value)),className:"form-control w-32"})]})}function mP({dia:n,franjas:e,onAdd:t,onUpdate:i,onDelete:a}){const l=!e||e.length===0;return _.jsxs("div",{className:"mb-4",children:[_.jsxs("div",{className:"flex items-center mb-2",children:[_.jsx("strong",{className:"text-lg mr-2 whitespace-nowrap",children:n}),_.jsx("div",{className:"flex-grow h-px bg-gray-300"})]}),_.jsx("div",{className:"space-y-2",children:l?_.jsx("div",{className:"text-gray-500 italic",children:"Cerrado"}):e.map((c,d)=>_.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-2 items-center",children:[_.jsx("input",{type:"time",value:c.inicio,onChange:p=>i(d,"inicio",p.target.value),className:"border px-2 py-1 rounded"}),_.jsx("input",{type:"time",value:c.fin,onChange:p=>i(d,"fin",p.target.value),className:"border px-2 py-1 rounded"}),_.jsx("button",{onClick:()=>a(d),className:"text-red-500 hover:text-red-700 text-lg",title:"Eliminar franja",children:"🗑"})]},d))}),_.jsx("div",{className:"mt-2 flex justify-end",children:_.jsx("button",{onClick:t,className:"btn-primary",children:"+ Franja"})})]})}function pP({diasSemana:n,horarios:e,onAgregar:t,onActualizar:i,onEliminar:a}){return _.jsxs(_.Fragment,{children:[_.jsx("label",{className:"form-label",children:"Horarios semanales"}),n.map((l,c)=>_.jsx(mP,{dia:l,franjas:e[c]||[],onAdd:()=>t(c),onUpdate:(d,p,m)=>i(c,d,p,m),onDelete:d=>a(c,d)},l))]})}function gP({nuevaExcepcion:n,setNuevaExcepcion:e,onAdd:t}){const i=()=>{e({...n,franjas:[...n.franjas||[],{inicio:"",fin:""}]})},a=c=>{const d=n.franjas.filter((p,m)=>m!==c);e({...n,franjas:d})},l=(c,d,p)=>{const m=n.franjas.map((v,T)=>T===c?{...v,[d]:p}:v);e({...n,franjas:m})};return _.jsxs("div",{className:"form-section",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end mb-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"form-label",htmlFor:"fecha",children:"Fecha"}),_.jsx("input",{id:"fecha",type:"date",value:n.fecha,min:new Date().toISOString().split("T")[0],onChange:c=>e({...n,fecha:c.target.value}),className:"form-control"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"form-label",htmlFor:"tipo",children:"Tipo"}),_.jsxs("select",{id:"tipo",value:n.tipo,onChange:c=>e({...n,tipo:c.target.value,franjas:c.target.value==="abierto"?n.franjas||[]:[]}),className:"form-control",children:[_.jsx("option",{value:"cerrado",children:"Cerrado"}),_.jsx("option",{value:"abierto",children:"Abierto especial"})]})]})]}),n.tipo==="abierto"&&_.jsxs("div",{className:"space-y-3",children:[(n.franjas||[]).map((c,d)=>_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 items-center",children:[_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Inicio"}),_.jsx("input",{type:"time",value:c.inicio,onChange:p=>l(d,"inicio",p.target.value),className:"form-control"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Fin"}),_.jsx("input",{type:"time",value:c.fin,onChange:p=>l(d,"fin",p.target.value),className:"form-control"})]}),_.jsx("div",{className:"text-right md:text-left",children:_.jsx("button",{onClick:()=>a(d),className:"btn-danger w-full md:w-auto",children:"Eliminar"})})]},d)),_.jsx("button",{onClick:i,className:"btn-secondary mb-3",children:"+ Agregar franja"})]}),_.jsx("div",{className:"flex justify-start md:justify-end items-end h-full",children:_.jsx("button",{onClick:t,className:"btn-primary",children:"Agregar excepción"})})]})}function yP({excepciones:n,onDelete:e}){return!n||n.length===0?_.jsx("p",{className:"text-sm text-gray-500",children:"No hay excepciones registradas."}):_.jsx("div",{className:"table mt-4",children:_.jsxs("table",{className:"w-full",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Fecha"}),_.jsx("th",{children:"Tipo"}),_.jsx("th",{children:"Franjas"}),_.jsx("th",{children:"Acciones"})]})}),_.jsx("tbody",{children:n.map(t=>_.jsxs("tr",{children:[_.jsx("td",{children:t.fecha}),_.jsx("td",{className:"capitalize",children:t.tipo}),_.jsx("td",{children:t.tipo==="abierto"&&(t.franjas||[]).length>0?t.franjas.map((i,a)=>_.jsxs("span",{children:[i.inicio," a ",i.fin,a<t.franjas.length-1&&" | "]},a)):_.jsx("span",{className:"text-gray-400",children:"—"})}),_.jsx("td",{children:_.jsx("button",{onClick:()=>e(t.id),className:"btn-danger",title:"Eliminar excepción",children:"🗑"})})]},t.id))})]})})}const vP=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"];function _P(){const{info:n,isAuthReady:e}=pr(),t=n?.rolId,[i,a]=z.useState(null),[l,c]=z.useState(null),[d,p]=z.useState(!1),{turnosSimultaneos:m,setTurnosSimultaneos:v,minutosSlot:T,setMinutosSlot:w,horarios:x,setHorarios:V,autoaceptarTurnos:M,setAutoaceptarTurnos:L,excepciones:N,loading:G,errorConfig:Q,saveConfig:ne,addExcepcion:J,removeExcepcion:fe}=fP(t,e),[U,R]=z.useState({fecha:"",tipo:"cerrado",franjas:[]}),D=async()=>{try{await LV.validate(U,{abortEarly:!1}),p(!0),await J(U),R({fecha:"",tipo:"cerrado",franjas:[]}),c("Excepción agregada"),a(null)}catch(re){re.name==="ValidationError"?(a(re.errors.join(" | ")),console.error("Errores de validación:",re.errors)):(a("No se pudo añadir la excepción"),console.error(re)),c(null)}finally{p(!1)}},P=async re=>{try{p(!0),fe(re),c("Excepción eliminada"),a(null)}catch{a("No se pudo eliminar la excepción"),c(null)}finally{p(!1)}},O=async()=>{try{let re={turnosSimultaneos:m,minutosSlot:T,horarios:x,autoaceptarTurnos:M};await UV.validate(re,{abortEarly:!1}),p(!0),await ne(),c("Configuración guardada correctamente"),a(null)}catch(re){re.name==="ValidationError"?(a(re.errors.join(" | ")),console.error("Errores de validación:",re.errors)):(a("No se pudo guardar la configuración"),console.error(re)),c(null)}finally{p(!1)}},q=re=>{const j=[...x];j[re]=[...j[re]||[],{inicio:"09:00",fin:"18:00"}],V(j)},C=(re,j,W,te)=>{const he=[...x];he[re]=he[re].map((I,Z)=>Z===j?{...I,[W]:te}:I),V(he)},de=(re,j)=>{const W=[...x];W[re]=W[re].filter((te,he)=>he!==j),V(W)};return _.jsx("div",{className:"page-container",children:G||d?_.jsx("div",{className:"flex justify-center items-center h-40",children:_.jsx(qa,{color:"#3498db",loading:!0,size:50})}):_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"page-title",children:"Configuración"}),_.jsxs("div",{className:"space-y-4 mb-6",children:[i&&_.jsx(Wn,{type:"error",message:i,onClose:()=>a(null)}),Q&&_.jsx(Wn,{type:"error",message:Q,onClose:()=>a(null)}),l&&_.jsx(Wn,{type:"success",message:l,onClose:()=>c(null)})]}),_.jsxs("div",{className:"form-section",children:[_.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:gap-6",children:[_.jsx("div",{className:"md:w-1/2",children:_.jsx(dP,{value:m,onChange:v})}),_.jsxs("div",{className:"md:w-1/2 mt-4 md:mt-0",children:[_.jsx("label",{className:"form-label",children:"Minutos por bloque"}),_.jsx("input",{type:"number",min:"5",step:"5",value:T??15,onChange:re=>w(Number(re.target.value)),className:"form-control w-32"})]}),_.jsx("div",{className:"mt-6",children:_.jsxs("label",{className:"form-label flex items-center gap-2",children:[_.jsx("input",{className:"mr-1",type:"checkbox",checked:M,onChange:re=>L(re.target.checked)}),"Aceptar turnos automáticamente"]})})]}),_.jsx("div",{className:"mt-6",children:_.jsx(pP,{diasSemana:vP,horarios:x,onAgregar:q,onActualizar:C,onEliminar:de})})]}),_.jsxs("div",{className:"form-section",children:[_.jsx("label",{className:"form-label",children:"Excepciones"}),_.jsx(gP,{nuevaExcepcion:U,setNuevaExcepcion:R,onAdd:D}),_.jsx(yP,{excepciones:N,onDelete:P})]}),_.jsx("div",{className:"text-right",children:_.jsx("button",{onClick:O,className:"btn-primary",children:"Guardar Configuración"})})]})})}var Tf={exports:{}},EP=Tf.exports,xT;function bP(){return xT||(xT=1,function(n,e){(function(t,i){n.exports=i(JA())})(EP,function(t){function i(c){return c&&typeof c=="object"&&"default"in c?c:{default:c}}var a=i(t),l={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(c){return c+"º"}};return a.default.locale(l,null,!0),l})}(Tf)),Tf.exports}bP();function r1(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=r1(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Ad(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=r1(n))&&(i&&(i+=" "),i+=e);return i}const TP=(n,e,t,i)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;const a=Object.getOwnPropertyDescriptor(n,t),l=Object.getOwnPropertyDescriptor(e,t);!wP(a,l)&&i||Object.defineProperty(n,t,l)},wP=function(n,e){return n===void 0||n.configurable||n.writable===e.writable&&n.enumerable===e.enumerable&&n.configurable===e.configurable&&(n.writable||n.value===e.value)},SP=(n,e)=>{const t=Object.getPrototypeOf(e);t!==Object.getPrototypeOf(n)&&Object.setPrototypeOf(n,t)},AP=(n,e)=>`/* Wrapped ${n}*/
${e}`,xP=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),RP=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),CP=(n,e,t)=>{const i=t===""?"":`with ${t.trim()}() `,a=AP.bind(null,i,e.toString());Object.defineProperty(a,"name",RP);const{writable:l,enumerable:c,configurable:d}=xP;Object.defineProperty(n,"toString",{value:a,writable:l,enumerable:c,configurable:d})};function IP(n,e,{ignoreNonConfigurable:t=!1}={}){const{name:i}=n;for(const a of Reflect.ownKeys(e))TP(n,e,a,t);return SP(n,e),CP(n,e,i),n}const DP=new WeakMap,RT=new WeakMap;function i1(n,{cacheKey:e,cache:t=new Map,maxAge:i}={}){if(i===0)return n;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const a=function(...l){const c=e?e(l):l[0],d=t.get(c);if(d)return d.data;const p=n.apply(this,l),m=typeof i=="function"?i(...l):i;if(t.set(c,{data:p,maxAge:m?Date.now()+m:Number.POSITIVE_INFINITY}),m&&m>0&&m!==Number.POSITIVE_INFINITY){const v=setTimeout(()=>{t.delete(c)},m);v.unref?.();const T=RT.get(n)??new Set;T.add(v),RT.set(n,T)}return p};return IP(a,n,{ignoreNonConfigurable:!0}),DP.set(a,t),a}function NP(n){return typeof n=="string"}function OP(n,e,t){return t.indexOf(n)===e}function MP(n){return n.toLowerCase()===n}function CT(n){return n.indexOf(",")===-1?n:n.split(",")}function Mg(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var e=n.split(".")[0],t=e===void 0?"":e;return Mg(t)}if(n.indexOf("@")!==-1){var i=n.split("@")[0],t=i===void 0?"":i;return Mg(t)}if(n.indexOf("-")===-1||!MP(n))return n;var a=n.split("-"),l=a[0],c=a[1],d=c===void 0?"":c;return"".concat(l,"-").concat(d.toUpperCase())}function kP(n){var e=n===void 0?{}:n,t=e.useFallbackLocale,i=t===void 0?!0:t,a=e.fallbackLocale,l=a===void 0?"en-US":a,c=[];if(typeof navigator<"u"){for(var d=navigator.languages||[],p=[],m=0,v=d;m<v.length;m++){var T=v[m];p=p.concat(CT(T))}var w=navigator.language,x=w&&CT(w);c=c.concat(p,x)}return i&&c.push(l),c.filter(NP).map(Mg).filter(OP)}var VP=i1(kP,{cacheKey:JSON.stringify});function PP(n){return VP(n)[0]||null}var s1=i1(PP,{cacheKey:JSON.stringify});function Xi(n,e,t){return function(a,l=t){const c=n(a)+l;return e(c)}}function Sc(n){return function(t){return new Date(n(t).getTime()-1)}}function Ac(n,e){return function(i){return[n(i),e(i)]}}function Et(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;const e=Number.parseInt(n,10);if(typeof n=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${n}.`)}function Ws(n){if(n instanceof Date)return n.getMonth();throw new Error(`Failed to get month from date: ${n}.`)}function xd(n){if(n instanceof Date)return n.getDate();throw new Error(`Failed to get year from date: ${n}.`)}function Rl(n){const e=Et(n),t=e+(-e+1)%100,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const jP=Xi(Et,Rl,-100),a1=Xi(Et,Rl,100),nv=Sc(a1),LP=Xi(Et,nv,-100),o1=Ac(Rl,nv);function Zs(n){const e=Et(n),t=e+(-e+1)%10,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const l1=Xi(Et,Zs,-10),rv=Xi(Et,Zs,10),Rd=Sc(rv),u1=Xi(Et,Rd,-10),c1=Ac(Zs,Rd);function Cl(n){const e=Et(n),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const h1=Xi(Et,Cl,-1),iv=Xi(Et,Cl,1),Cd=Sc(iv),f1=Xi(Et,Cd,-1),UP=Ac(Cl,Cd);function sv(n,e){return function(i,a=e){const l=Et(i),c=Ws(i)+a,d=new Date;return d.setFullYear(l,c,1),d.setHours(0,0,0,0),n(d)}}function Xa(n){const e=Et(n),t=Ws(n),i=new Date;return i.setFullYear(e,t,1),i.setHours(0,0,0,0),i}const d1=sv(Xa,-1),av=sv(Xa,1),xc=Sc(av),m1=sv(xc,-1),zP=Ac(Xa,xc);function FP(n,e){return function(i,a=e){const l=Et(i),c=Ws(i),d=xd(i)+a,p=new Date;return p.setFullYear(l,c,d),p.setHours(0,0,0,0),n(p)}}function Rc(n){const e=Et(n),t=Ws(n),i=xd(n),a=new Date;return a.setFullYear(e,t,i),a.setHours(0,0,0,0),a}const qP=FP(Rc,1),ov=Sc(qP),BP=Ac(Rc,ov);function p1(n){return xd(xc(n))}var mn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},HP={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},lv=[0,1,2,3,4,5,6],Xp=new Map;function $P(n){return function(t,i){var a=t||s1();Xp.has(a)||Xp.set(a,new Map);var l=Xp.get(a);return l.has(n)||l.set(n,new Intl.DateTimeFormat(a||void 0,n).format),l.get(n)(i)}}function GP(n){var e=new Date(n);return new Date(e.setHours(12))}function Wa(n){return function(e,t){return $P(n)(e,GP(t))}}var YP={day:"numeric"},QP={day:"numeric",month:"long",year:"numeric"},KP={month:"long"},XP={month:"long",year:"numeric"},WP={weekday:"short"},ZP={weekday:"long"},JP={year:"numeric"},ej=Wa(YP),tj=Wa(QP),nj=Wa(KP),g1=Wa(XP),rj=Wa(WP),ij=Wa(ZP),Id=Wa(JP),sj=lv[0],aj=lv[5],IT=lv[6];function nc(n,e){e===void 0&&(e=mn.ISO_8601);var t=n.getDay();switch(e){case mn.ISO_8601:return(t+6)%7;case mn.ISLAMIC:return(t+1)%7;case mn.HEBREW:case mn.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function oj(n){var e=Rl(n);return Et(e)}function lj(n){var e=Zs(n);return Et(e)}function kg(n,e){e===void 0&&(e=mn.ISO_8601);var t=Et(n),i=Ws(n),a=n.getDate()-nc(n,e);return new Date(t,i,a)}function uj(n,e){e===void 0&&(e=mn.ISO_8601);var t=e===mn.GREGORY?mn.GREGORY:mn.ISO_8601,i=kg(n,e),a=Et(n)+1,l,c;do l=new Date(a,0,t===mn.ISO_8601?4:1),c=kg(l,e),a-=1;while(n<c);return Math.round((i.getTime()-c.getTime())/(864e5*7))+1}function Va(n,e){switch(n){case"century":return Rl(e);case"decade":return Zs(e);case"year":return Cl(e);case"month":return Xa(e);case"day":return Rc(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function cj(n,e){switch(n){case"century":return jP(e);case"decade":return l1(e);case"year":return h1(e);case"month":return d1(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function y1(n,e){switch(n){case"century":return a1(e);case"decade":return rv(e);case"year":return iv(e);case"month":return av(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function hj(n,e){switch(n){case"decade":return l1(e,-100);case"year":return h1(e,-10);case"month":return d1(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function fj(n,e){switch(n){case"decade":return rv(e,100);case"year":return iv(e,10);case"month":return av(e,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function v1(n,e){switch(n){case"century":return nv(e);case"decade":return Rd(e);case"year":return Cd(e);case"month":return xc(e);case"day":return ov(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function dj(n,e){switch(n){case"century":return LP(e);case"decade":return u1(e);case"year":return f1(e);case"month":return m1(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function mj(n,e){switch(n){case"decade":return u1(e,-100);case"year":return f1(e,-10);case"month":return m1(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function DT(n,e){switch(n){case"century":return o1(e);case"decade":return c1(e);case"year":return UP(e);case"month":return zP(e);case"day":return BP(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function pj(n,e,t){var i=[e,t].sort(function(a,l){return a.getTime()-l.getTime()});return[Va(n,i[0]),v1(n,i[1])]}function _1(n,e,t){return t.map(function(i){return(e||Id)(n,i)}).join(" – ")}function gj(n,e,t){return _1(n,e,o1(t))}function E1(n,e,t){return _1(n,e,c1(t))}function yj(n){return n.getDay()===new Date().getDay()}function b1(n,e){e===void 0&&(e=mn.ISO_8601);var t=n.getDay();switch(e){case mn.ISLAMIC:case mn.HEBREW:return t===aj||t===IT;case mn.ISO_8601:case mn.GREGORY:return t===IT||t===sj;default:throw new Error("Unsupported calendar type.")}}var Jr="react-calendar__navigation";function vj(n){var e=n.activeStartDate,t=n.drillUp,i=n.formatMonthYear,a=i===void 0?g1:i,l=n.formatYear,c=l===void 0?Id:l,d=n.locale,p=n.maxDate,m=n.minDate,v=n.navigationAriaLabel,T=v===void 0?"":v,w=n.navigationAriaLive,x=n.navigationLabel,V=n.next2AriaLabel,M=V===void 0?"":V,L=n.next2Label,N=L===void 0?"»":L,G=n.nextAriaLabel,Q=G===void 0?"":G,ne=n.nextLabel,J=ne===void 0?"›":ne,fe=n.prev2AriaLabel,U=fe===void 0?"":fe,R=n.prev2Label,D=R===void 0?"«":R,P=n.prevAriaLabel,O=P===void 0?"":P,q=n.prevLabel,C=q===void 0?"‹":q,de=n.setActiveStartDate,re=n.showDoubleView,j=n.view,W=n.views,te=W.indexOf(j)>0,he=j!=="century",I=cj(j,e),Z=he?hj(j,e):void 0,ce=y1(j,e),oe=he?fj(j,e):void 0,ge=function(){if(I.getFullYear()<0)return!0;var ct=dj(j,e);return m&&m>=ct}(),Te=he&&function(){if(Z.getFullYear()<0)return!0;var ct=mj(j,e);return m&&m>=ct}(),_e=p&&p<ce,Qe=he&&p&&p<oe;function ke(){de(I,"prev")}function lt(){de(Z,"prev2")}function ut(){de(ce,"next")}function St(){de(oe,"next2")}function Gt(ct){var gr=function(){switch(j){case"century":return gj(d,c,ct);case"decade":return E1(d,c,ct);case"year":return c(d,ct);case"month":return a(d,ct);default:throw new Error("Invalid view: ".concat(j,"."))}}();return x?x({date:ct,label:gr,locale:d||s1()||void 0,view:j}):gr}function yn(){var ct="".concat(Jr,"__label");return _.jsxs("button",{"aria-label":T,"aria-live":w,className:ct,disabled:!te,onClick:t,style:{flexGrow:1},type:"button",children:[_.jsx("span",{className:"".concat(ct,"__labelText ").concat(ct,"__labelText--from"),children:Gt(e)}),re?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"".concat(ct,"__divider"),children:" – "}),_.jsx("span",{className:"".concat(ct,"__labelText ").concat(ct,"__labelText--to"),children:Gt(ce)})]}):null]})}return _.jsxs("div",{className:Jr,children:[D!==null&&he?_.jsx("button",{"aria-label":U,className:"".concat(Jr,"__arrow ").concat(Jr,"__prev2-button"),disabled:Te,onClick:lt,type:"button",children:D}):null,C!==null&&_.jsx("button",{"aria-label":O,className:"".concat(Jr,"__arrow ").concat(Jr,"__prev-button"),disabled:ge,onClick:ke,type:"button",children:C}),yn(),J!==null&&_.jsx("button",{"aria-label":Q,className:"".concat(Jr,"__arrow ").concat(Jr,"__next-button"),disabled:_e,onClick:ut,type:"button",children:J}),N!==null&&he?_.jsx("button",{"aria-label":M,className:"".concat(Jr,"__arrow ").concat(Jr,"__next2-button"),disabled:Qe,onClick:St,type:"button",children:N}):null]})}var el=function(){return el=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},el.apply(this,arguments)},_j=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t};function NT(n){return"".concat(n,"%")}function uv(n){var e=n.children,t=n.className,i=n.count,a=n.direction,l=n.offset,c=n.style,d=n.wrap,p=_j(n,["children","className","count","direction","offset","style","wrap"]);return _.jsx("div",el({className:t,style:el({display:"flex",flexDirection:a,flexWrap:d?"wrap":"nowrap"},c)},p,{children:z.Children.map(e,function(m,v){var T=l&&v===0?NT(100*l/i):null;return z.cloneElement(m,el(el({},m.props),{style:{flexBasis:NT(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:T,marginInlineStart:T,marginInlineEnd:0}}))})}))}function Ej(n,e,t){return e&&e>n?e:t&&t<n?t:n}function rc(n,e){return e[0]<=n&&e[1]>=n}function bj(n,e){return n[0]<=e[0]&&n[1]>=e[1]}function T1(n,e){return rc(n[0],e)||rc(n[1],e)}function OT(n,e,t){var i=T1(e,n),a=[];if(i){a.push(t);var l=rc(n[0],e),c=rc(n[1],e);l&&a.push("".concat(t,"Start")),c&&a.push("".concat(t,"End")),l&&c&&a.push("".concat(t,"BothEnds"))}return a}function Tj(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function wj(n){if(!n)throw new Error("args is required");var e=n.value,t=n.date,i=n.hover,a="react-calendar__tile",l=[a];if(!t)return l;var c=new Date,d=function(){if(Array.isArray(t))return t;var x=n.dateType;if(!x)throw new Error("dateType is required when date is not an array of two dates");return DT(x,t)}();if(rc(c,d)&&l.push("".concat(a,"--now")),!e||!Tj(e))return l;var p=function(){if(Array.isArray(e))return e;var x=n.valueType;if(!x)throw new Error("valueType is required when value is not an array of two dates");return DT(x,e)}();bj(p,d)?l.push("".concat(a,"--active")):T1(p,d)&&l.push("".concat(a,"--hasActive"));var m=OT(p,d,"".concat(a,"--range"));l.push.apply(l,m);var v=Array.isArray(e)?e:[e];if(i&&v.length===1){var T=i>p[0]?[p[0],i]:[i,p[0]],w=OT(T,d,"".concat(a,"--hover"));l.push.apply(l,w)}return l}function Dd(n){for(var e=n.className,t=n.count,i=t===void 0?3:t,a=n.dateTransform,l=n.dateType,c=n.end,d=n.hover,p=n.offset,m=n.renderTile,v=n.start,T=n.step,w=T===void 0?1:T,x=n.value,V=n.valueType,M=[],L=v;L<=c;L+=w){var N=a(L);M.push(m({classes:wj({date:N,dateType:l,hover:d,value:x,valueType:V}),date:N}))}return _.jsx(uv,{className:e,count:i,offset:p,wrap:!0,children:M})}function Nd(n){var e=n.activeStartDate,t=n.children,i=n.classes,a=n.date,l=n.formatAbbr,c=n.locale,d=n.maxDate,p=n.maxDateTransform,m=n.minDate,v=n.minDateTransform,T=n.onClick,w=n.onMouseOver,x=n.style,V=n.tileClassName,M=n.tileContent,L=n.tileDisabled,N=n.view,G=z.useMemo(function(){var ne={activeStartDate:e,date:a,view:N};return typeof V=="function"?V(ne):V},[e,a,V,N]),Q=z.useMemo(function(){var ne={activeStartDate:e,date:a,view:N};return typeof M=="function"?M(ne):M},[e,a,M,N]);return _.jsxs("button",{className:Ad(i,G),disabled:m&&v(m)>a||d&&p(d)<a||L?.({activeStartDate:e,date:a,view:N}),onClick:T?function(ne){return T(a,ne)}:void 0,onFocus:w?function(){return w(a)}:void 0,onMouseOver:w?function(){return w(a)}:void 0,style:x,type:"button",children:[l?_.jsx("abbr",{"aria-label":l(c,a),children:t}):t,Q]})}var Vg=function(){return Vg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Vg.apply(this,arguments)},Sj=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t},MT="react-calendar__century-view__decades__decade";function Aj(n){var e=n.classes,t=e===void 0?[]:e,i=n.currentCentury,a=n.formatYear,l=a===void 0?Id:a,c=Sj(n,["classes","currentCentury","formatYear"]),d=c.date,p=c.locale,m=[];return t&&m.push.apply(m,t),m.push(MT),Rl(d).getFullYear()!==i&&m.push("".concat(MT,"--neighboringCentury")),_.jsx(Nd,Vg({},c,{classes:m,maxDateTransform:Rd,minDateTransform:Zs,view:"century",children:E1(p,l,d)}))}var Pg=function(){return Pg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Pg.apply(this,arguments)},kT=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t};function xj(n){var e=n.activeStartDate,t=n.hover,i=n.showNeighboringCentury,a=n.value,l=n.valueType,c=kT(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),d=oj(e),p=d+(i?119:99);return _.jsx(Dd,{className:"react-calendar__century-view__decades",dateTransform:Zs,dateType:"decade",end:p,hover:t,renderTile:function(m){var v=m.date,T=kT(m,["date"]);return _.jsx(Aj,Pg({},c,T,{activeStartDate:e,currentCentury:d,date:v}),v.getTime())},start:d,step:10,value:a,valueType:l})}var jg=function(){return jg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},jg.apply(this,arguments)};function Rj(n){function e(){return _.jsx(xj,jg({},n))}return _.jsx("div",{className:"react-calendar__century-view",children:e()})}var Lg=function(){return Lg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Lg.apply(this,arguments)},Cj=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t},VT="react-calendar__decade-view__years__year";function Ij(n){var e=n.classes,t=e===void 0?[]:e,i=n.currentDecade,a=n.formatYear,l=a===void 0?Id:a,c=Cj(n,["classes","currentDecade","formatYear"]),d=c.date,p=c.locale,m=[];return t&&m.push.apply(m,t),m.push(VT),Zs(d).getFullYear()!==i&&m.push("".concat(VT,"--neighboringDecade")),_.jsx(Nd,Lg({},c,{classes:m,maxDateTransform:Cd,minDateTransform:Cl,view:"decade",children:l(p,d)}))}var Ug=function(){return Ug=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Ug.apply(this,arguments)},PT=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t};function Dj(n){var e=n.activeStartDate,t=n.hover,i=n.showNeighboringDecade,a=n.value,l=n.valueType,c=PT(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),d=lj(e),p=d+(i?11:9);return _.jsx(Dd,{className:"react-calendar__decade-view__years",dateTransform:Cl,dateType:"year",end:p,hover:t,renderTile:function(m){var v=m.date,T=PT(m,["date"]);return _.jsx(Ij,Ug({},c,T,{activeStartDate:e,currentDecade:d,date:v}),v.getTime())},start:d,value:a,valueType:l})}var zg=function(){return zg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},zg.apply(this,arguments)};function Nj(n){function e(){return _.jsx(Dj,zg({},n))}return _.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Fg=function(){return Fg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Fg.apply(this,arguments)},Oj=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t},jT=function(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))},Mj="react-calendar__year-view__months__month";function kj(n){var e=n.classes,t=e===void 0?[]:e,i=n.formatMonth,a=i===void 0?nj:i,l=n.formatMonthYear,c=l===void 0?g1:l,d=Oj(n,["classes","formatMonth","formatMonthYear"]),p=d.date,m=d.locale;return _.jsx(Nd,Fg({},d,{classes:jT(jT([],t,!0),[Mj],!1),formatAbbr:c,maxDateTransform:xc,minDateTransform:Xa,view:"year",children:a(m,p)}))}var qg=function(){return qg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},qg.apply(this,arguments)},LT=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t};function Vj(n){var e=n.activeStartDate,t=n.hover,i=n.value,a=n.valueType,l=LT(n,["activeStartDate","hover","value","valueType"]),c=0,d=11,p=Et(e);return _.jsx(Dd,{className:"react-calendar__year-view__months",dateTransform:function(m){var v=new Date;return v.setFullYear(p,m,1),Xa(v)},dateType:"month",end:d,hover:t,renderTile:function(m){var v=m.date,T=LT(m,["date"]);return _.jsx(kj,qg({},l,T,{activeStartDate:e,date:v}),v.getTime())},start:c,value:i,valueType:a})}var Bg=function(){return Bg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Bg.apply(this,arguments)};function Pj(n){function e(){return _.jsx(Vj,Bg({},n))}return _.jsx("div",{className:"react-calendar__year-view",children:e()})}var Hg=function(){return Hg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Hg.apply(this,arguments)},jj=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t},Wp="react-calendar__month-view__days__day";function Lj(n){var e=n.calendarType,t=n.classes,i=t===void 0?[]:t,a=n.currentMonthIndex,l=n.formatDay,c=l===void 0?ej:l,d=n.formatLongDate,p=d===void 0?tj:d,m=jj(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),v=m.date,T=m.locale,w=[];return i&&w.push.apply(w,i),w.push(Wp),b1(v,e)&&w.push("".concat(Wp,"--weekend")),v.getMonth()!==a&&w.push("".concat(Wp,"--neighboringMonth")),_.jsx(Nd,Hg({},m,{classes:w,formatAbbr:p,maxDateTransform:ov,minDateTransform:Rc,view:"month",children:c(T,v)}))}var $g=function(){return $g=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},$g.apply(this,arguments)},UT=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t};function Uj(n){var e=n.activeStartDate,t=n.calendarType,i=n.hover,a=n.showFixedNumberOfWeeks,l=n.showNeighboringMonth,c=n.value,d=n.valueType,p=UT(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),m=Et(e),v=Ws(e),T=a||l,w=nc(e,t),x=T?0:w,V=(T?-w:0)+1,M=function(){if(a)return V+42-1;var L=p1(e);if(l){var N=new Date;N.setFullYear(m,v,L),N.setHours(0,0,0,0);var G=7-nc(N,t)-1;return L+G}return L}();return _.jsx(Dd,{className:"react-calendar__month-view__days",count:7,dateTransform:function(L){var N=new Date;return N.setFullYear(m,v,L),Rc(N)},dateType:"day",hover:i,end:M,renderTile:function(L){var N=L.date,G=UT(L,["date"]);return _.jsx(Lj,$g({},p,G,{activeStartDate:e,calendarType:t,currentMonthIndex:v,date:N}),N.getTime())},offset:x,start:V,value:c,valueType:d})}var w1="react-calendar__month-view__weekdays",Zp="".concat(w1,"__weekday");function zj(n){for(var e=n.calendarType,t=n.formatShortWeekday,i=t===void 0?rj:t,a=n.formatWeekday,l=a===void 0?ij:a,c=n.locale,d=n.onMouseLeave,p=new Date,m=Xa(p),v=Et(m),T=Ws(m),w=[],x=1;x<=7;x+=1){var V=new Date(v,T,x-nc(m,e)),M=l(c,V);w.push(_.jsx("div",{className:Ad(Zp,yj(V)&&"".concat(Zp,"--current"),b1(V,e)&&"".concat(Zp,"--weekend")),children:_.jsx("abbr",{"aria-label":M,title:M,children:i(c,V).replace(".","")})},x))}return _.jsx(uv,{className:w1,count:7,onFocus:d,onMouseOver:d,children:w})}var Zf=function(){return Zf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Zf.apply(this,arguments)},zT=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t},FT="react-calendar__tile";function Fj(n){var e=n.onClickWeekNumber,t=n.weekNumber,i=_.jsx("span",{children:t});if(e){var a=n.date,l=n.onClickWeekNumber,c=n.weekNumber,d=zT(n,["date","onClickWeekNumber","weekNumber"]);return _.jsx("button",Zf({},d,{className:FT,onClick:function(p){return l(c,a,p)},type:"button",children:i}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var d=zT(n,["date","onClickWeekNumber","weekNumber"]);return _.jsx("div",Zf({},d,{className:FT,children:i}))}}function qj(n){var e=n.activeStartDate,t=n.calendarType,i=n.onClickWeekNumber,a=n.onMouseLeave,l=n.showFixedNumberOfWeeks,c=function(){if(l)return 6;var m=p1(e),v=nc(e,t),T=m-(7-v);return 1+Math.ceil(T/7)}(),d=function(){for(var m=Et(e),v=Ws(e),T=xd(e),w=[],x=0;x<c;x+=1)w.push(kg(new Date(m,v,T+x*7),t));return w}(),p=d.map(function(m){return uj(m,t)});return _.jsx(uv,{className:"react-calendar__month-view__weekNumbers",count:c,direction:"column",onFocus:a,onMouseOver:a,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:p.map(function(m,v){var T=d[v];if(!T)throw new Error("date is not defined");return _.jsx(Fj,{date:T,onClickWeekNumber:i,weekNumber:m},m)})})}var Gg=function(){return Gg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},Gg.apply(this,arguments)},Bj=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t};function Hj(n){if(n)for(var e=0,t=Object.entries(HP);e<t.length;e++){var i=t[e],a=i[0],l=i[1];if(l.includes(n))return a}return mn.ISO_8601}function $j(n){var e=n.activeStartDate,t=n.locale,i=n.onMouseLeave,a=n.showFixedNumberOfWeeks,l=n.calendarType,c=l===void 0?Hj(t):l,d=n.formatShortWeekday,p=n.formatWeekday,m=n.onClickWeekNumber,v=n.showWeekNumbers,T=Bj(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function w(){return _.jsx(zj,{calendarType:c,formatShortWeekday:d,formatWeekday:p,locale:t,onMouseLeave:i})}function x(){return v?_.jsx(qj,{activeStartDate:e,calendarType:c,onClickWeekNumber:m,onMouseLeave:i,showFixedNumberOfWeeks:a}):null}function V(){return _.jsx(Uj,Gg({calendarType:c},T))}var M="react-calendar__month-view";return _.jsx("div",{className:Ad(M,v?"".concat(M,"--weekNumbers"):""),children:_.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[x(),_.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[w(),V()]})]})})}var tl=function(){return tl=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},tl.apply(this,arguments)},rf="react-calendar",wf=["century","decade","year","month"],Gj=["decade","year","month","day"],cv=new Date;cv.setFullYear(1,0,1);cv.setHours(0,0,0,0);var Yj=new Date(864e13);function Pu(n){return n instanceof Date?n:new Date(n)}function S1(n,e){return wf.slice(wf.indexOf(n),wf.indexOf(e)+1)}function Qj(n,e,t){var i=S1(e,t);return i.indexOf(n)!==-1}function hv(n,e,t){return n&&Qj(n,e,t)?n:t}function A1(n){var e=wf.indexOf(n);return Gj[e]}function Kj(n,e){var t=Array.isArray(n)?n[e]:n;if(!t)return null;var i=Pu(t);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(n));return i}function x1(n,e){var t=n.value,i=n.minDate,a=n.maxDate,l=n.maxDetail,c=Kj(t,e);if(!c)return null;var d=A1(l),p=function(){switch(e){case 0:return Va(d,c);case 1:return v1(d,c);default:throw new Error("Invalid index value: ".concat(e))}}();return Ej(p,i,a)}var fv=function(n){return x1(n,0)},R1=function(n){return x1(n,1)},Xj=function(n){return[fv,R1].map(function(e){return e(n)})};function C1(n){var e=n.maxDate,t=n.maxDetail,i=n.minDate,a=n.minDetail,l=n.value,c=n.view,d=hv(c,a,t),p=fv({value:l,minDate:i,maxDate:e,maxDetail:t})||new Date;return Va(d,p)}function Wj(n){var e=n.activeStartDate,t=n.defaultActiveStartDate,i=n.defaultValue,a=n.defaultView,l=n.maxDate,c=n.maxDetail,d=n.minDate,p=n.minDetail,m=n.value,v=n.view,T=hv(v,p,c),w=e||t;return w?Va(T,w):C1({maxDate:l,maxDetail:c,minDate:d,minDetail:p,value:m||i,view:v||a})}function Jp(n){return n&&(!Array.isArray(n)||n.length===1)}function sf(n,e){return n instanceof Date&&e instanceof Date&&n.getTime()===e.getTime()}var Zj=z.forwardRef(function(e,t){var i=e.activeStartDate,a=e.allowPartialRange,l=e.calendarType,c=e.className,d=e.defaultActiveStartDate,p=e.defaultValue,m=e.defaultView,v=e.formatDay,T=e.formatLongDate,w=e.formatMonth,x=e.formatMonthYear,V=e.formatShortWeekday,M=e.formatWeekday,L=e.formatYear,N=e.goToRangeStartOnSelect,G=N===void 0?!0:N,Q=e.inputRef,ne=e.locale,J=e.maxDate,fe=J===void 0?Yj:J,U=e.maxDetail,R=U===void 0?"month":U,D=e.minDate,P=D===void 0?cv:D,O=e.minDetail,q=O===void 0?"century":O,C=e.navigationAriaLabel,de=e.navigationAriaLive,re=e.navigationLabel,j=e.next2AriaLabel,W=e.next2Label,te=e.nextAriaLabel,he=e.nextLabel,I=e.onActiveStartDateChange,Z=e.onChange,ce=e.onClickDay,oe=e.onClickDecade,ge=e.onClickMonth,Te=e.onClickWeekNumber,_e=e.onClickYear,Qe=e.onDrillDown,ke=e.onDrillUp,lt=e.onViewChange,ut=e.prev2AriaLabel,St=e.prev2Label,Gt=e.prevAriaLabel,yn=e.prevLabel,ct=e.returnValue,gr=ct===void 0?"start":ct,tn=e.selectRange,nn=e.showDoubleView,Za=e.showFixedNumberOfWeeks,Wi=e.showNavigation,Zi=Wi===void 0?!0:Wi,hi=e.showNeighboringCentury,Il=e.showNeighboringDecade,fi=e.showNeighboringMonth,Js=fi===void 0?!0:fi,Ja=e.showWeekNumbers,pt=e.tileClassName,We=e.tileContent,Sn=e.tileDisabled,Ot=e.value,ea=e.view,eo=z.useState(d),di=eo[0],Jn=eo[1],Pr=z.useState(null),Ln=Pr[0],mi=Pr[1],jr=z.useState(Array.isArray(p)?p.map(function(Ie){return Ie!==null?Pu(Ie):null}):p!=null?Pu(p):null),pi=jr[0],ta=jr[1],Ji=z.useState(m),yr=Ji[0],er=Ji[1],Mt=i||di||Wj({activeStartDate:i,defaultActiveStartDate:d,defaultValue:p,defaultView:m,maxDate:fe,maxDetail:R,minDate:P,minDetail:q,value:Ot,view:ea}),mt=function(){var Ie=function(){return tn&&Jp(pi)?pi:Ot!==void 0?Ot:pi}();return Ie?Array.isArray(Ie)?Ie.map(function(Ve){return Ve!==null?Pu(Ve):null}):Ie!==null?Pu(Ie):null:null}(),Lr=A1(R),Ke=hv(ea||yr,q,R),rn=S1(q,R),Ur=tn?Ln:null,es=rn.indexOf(Ke)<rn.length-1,ht=rn.indexOf(Ke)>0,At=z.useCallback(function(Ie){var Ve=function(){switch(gr){case"start":return fv;case"end":return R1;case"range":return Xj;default:throw new Error("Invalid returnValue.")}}();return Ve({maxDate:fe,maxDetail:R,minDate:P,value:Ie})},[fe,R,P,gr]),gt=z.useCallback(function(Ie,Ve){Jn(Ie);var Ne={action:Ve,activeStartDate:Ie,value:mt,view:Ke};I&&!sf(Mt,Ie)&&I(Ne)},[Mt,I,mt,Ke]),sn=z.useCallback(function(Ie,Ve){var Ne=function(){switch(Ke){case"century":return oe;case"decade":return _e;case"year":return ge;case"month":return ce;default:throw new Error("Invalid view: ".concat(Ke,"."))}}();Ne&&Ne(Ie,Ve)},[ce,oe,ge,_e,Ke]),gi=z.useCallback(function(Ie,Ve){if(es){sn(Ie,Ve);var Ne=rn[rn.indexOf(Ke)+1];if(!Ne)throw new Error("Attempted to drill down from the lowest view.");Jn(Ie),er(Ne);var an={action:"drillDown",activeStartDate:Ie,value:mt,view:Ne};I&&!sf(Mt,Ie)&&I(an),lt&&Ke!==Ne&&lt(an),Qe&&Qe(an)}},[Mt,es,I,sn,Qe,lt,mt,Ke,rn]),na=z.useCallback(function(){if(ht){var Ie=rn[rn.indexOf(Ke)-1];if(!Ie)throw new Error("Attempted to drill up from the highest view.");var Ve=Va(Ie,Mt);Jn(Ve),er(Ie);var Ne={action:"drillUp",activeStartDate:Ve,value:mt,view:Ie};I&&!sf(Mt,Ve)&&I(Ne),lt&&Ke!==Ie&&lt(Ne),ke&&ke(Ne)}},[Mt,ht,I,ke,lt,mt,Ke,rn]),tr=z.useCallback(function(Ie,Ve){var Ne=mt;sn(Ie,Ve);var an=tn&&!Jp(Ne),Yt;if(tn)if(an)Yt=Va(Lr,Ie);else{if(!Ne)throw new Error("previousValue is required");if(Array.isArray(Ne))throw new Error("previousValue must not be an array");Yt=pj(Lr,Ne,Ie)}else Yt=At(Ie);var An=!tn||an||G?C1({maxDate:fe,maxDetail:R,minDate:P,minDetail:q,value:Yt,view:Ke}):null;Ve.persist(),Jn(An),ta(Yt);var br={action:"onChange",activeStartDate:An,value:Yt,view:Ke};if(I&&!sf(Mt,An)&&I(br),Z)if(tn){var no=Jp(Yt);if(!no)Z(Yt||null,Ve);else if(a){if(Array.isArray(Yt))throw new Error("value must not be an array");Z([Yt||null,null],Ve)}}else Z(Yt||null,Ve)},[Mt,a,At,G,fe,R,P,q,I,Z,sn,tn,mt,Lr,Ke]);function to(Ie){mi(Ie)}function vr(){mi(null)}z.useImperativeHandle(t,function(){return{activeStartDate:Mt,drillDown:gi,drillUp:na,onChange:tr,setActiveStartDate:gt,value:mt,view:Ke}},[Mt,gi,na,tr,gt,mt,Ke]);function _r(Ie){var Ve=Ie?y1(Ke,Mt):Va(Ke,Mt),Ne=es?gi:tr,an={activeStartDate:Ve,hover:Ur,locale:ne,maxDate:fe,minDate:P,onClick:Ne,onMouseOver:tn?to:void 0,tileClassName:pt,tileContent:We,tileDisabled:Sn,value:mt,valueType:Lr};switch(Ke){case"century":return _.jsx(Rj,tl({formatYear:L,showNeighboringCentury:hi},an));case"decade":return _.jsx(Nj,tl({formatYear:L,showNeighboringDecade:Il},an));case"year":return _.jsx(Pj,tl({formatMonth:w,formatMonthYear:x},an));case"month":return _.jsx($j,tl({calendarType:l,formatDay:v,formatLongDate:T,formatShortWeekday:V,formatWeekday:M,onClickWeekNumber:Te,onMouseLeave:tn?vr:void 0,showFixedNumberOfWeeks:typeof Za<"u"?Za:nn,showNeighboringMonth:Js,showWeekNumbers:Ja},an));default:throw new Error("Invalid view: ".concat(Ke,"."))}}function Er(){return Zi?_.jsx(vj,{activeStartDate:Mt,drillUp:na,formatMonthYear:x,formatYear:L,locale:ne,maxDate:fe,minDate:P,navigationAriaLabel:C,navigationAriaLive:de,navigationLabel:re,next2AriaLabel:j,next2Label:W,nextAriaLabel:te,nextLabel:he,prev2AriaLabel:ut,prev2Label:St,prevAriaLabel:Gt,prevLabel:yn,setActiveStartDate:gt,showDoubleView:nn,view:Ke,views:rn}):null}var nr=Array.isArray(mt)?mt:[mt];return _.jsxs("div",{className:Ad(rf,tn&&nr.length===1&&"".concat(rf,"--selectRange"),nn&&"".concat(rf,"--doubleView"),c),ref:Q,children:[Er(),_.jsxs("div",{className:"".concat(rf,"__viewContainer"),onBlur:tn?vr:void 0,onMouseLeave:tn?vr:void 0,children:[_r(),nn?_r(!0):null]})]})});function Jj({fechaSeleccionada:n,onSelectDate:e}){return _.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:_.jsx(Zj,{value:n,onChange:e,locale:"es-ES"})})}ni.locale("es");function e4(){const[n,e]=z.useState(new Date),[t,i]=z.useState([]),a=["pendiente","confirmado","cancelado","rechazado"],[l,c]=z.useState([]),[d,p]=z.useState(null),[m,v]=z.useState(null),[T,w]=z.useState(!1),[x,V]=z.useState(!1);z.useEffect(()=>{async function ne(){try{w(!0);const J=await KV(n);i(J),p(null)}catch{p("Error al cargar los turnos")}finally{w(!1)}}ne()},[n]),z.useEffect(()=>{async function ne(){try{V(!0);const J=await QV();c(J)}catch{p("Error al cargar los turnos pendientes")}finally{V(!1)}}ne()},[]);const M=a.reduce((ne,J)=>(ne[J]=[],ne),{}),L=(ne,J)=>{i(fe=>fe.map(U=>U.id===ne?{...U,estado:J}:U))};t.forEach(ne=>{const J=ne.estado||"sin estado";M[J]||(M[J]=[]),M[J].push(ne)});const N=async ne=>{try{w(!0),await e1(ne),L(ne,"cancelado"),v("Turno cancelado")}catch{p("Error al cancelar turno")}finally{w(!1)}},G=async ne=>{try{V(!0),await GV(ne),c(J=>J.filter(fe=>fe.id!==ne)),t.some(J=>J.id===ne)&&(w(!0),L(ne,"confirmado")),v("Turno confirmado")}catch{p("Error al aceptar turno")}finally{V(!1),w(!1)}},Q=async ne=>{try{V(!0),await YV(ne),c(J=>J.filter(fe=>fe.id!==ne)),t.some(J=>J.id===ne)&&(w(!0),L(ne,"rechazado")),v("Turno rechazado")}catch{p("Error al rechazar turno")}finally{V(!1),w(!1)}};return _.jsxs("div",{className:"page-container",children:[_.jsx("h2",{className:"page-title",children:"Administración de Servicios"}),d&&_.jsx(Wn,{type:"error",message:d,onClose:()=>p(null)}),m&&_.jsx(Wn,{type:"success",message:m,onClose:()=>v(null)}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[_.jsx("div",{className:"md:w-1/3",children:_.jsx(Jj,{fechaSeleccionada:n,onSelectDate:e})}),_.jsxs("div",{className:"md:w-2/3",children:[_.jsxs("h2",{className:"page-subtitle",children:["Turnos para ",ni(n).format("DD/MM/YYYY")]}),T?_.jsx("div",{className:"flex justify-center items-center h-32",children:_.jsx(qa,{color:"#3498db",loading:!0,size:50})}):t.length===0?_.jsx("p",{className:"text-gray-500",children:"No hay turnos para esta fecha"}):Object.keys(M).map(ne=>_.jsxs("div",{className:"mb-6",children:[_.jsxs("h3",{className:"text-lg font-semibold capitalize border-b pb-1 mb-2",children:[ne," (",M[ne].length,")"]}),_.jsx("div",{className:"space-y-3 mt-2",children:M[ne].map(J=>_.jsxs("div",{className:"form-section",children:[_.jsxs("p",{className:"font-medium",children:[ni(J.inicio.toDate()).format("HH:mm")," -"," ",ni(J.fin.toDate()).format("HH:mm")]}),J.usuario&&_.jsxs("p",{className:"text-sm text-gray-700",children:[J.usuario.apellido,", ",J.usuario.nombre," |"," ",J.usuario.telefono]}),J.servicio&&_.jsxs("p",{className:"text-sm text-gray-500",children:[J.servicio.nombre," - $",J.servicio.precio]}),J.estado==="confirmado"&&_.jsx("div",{className:"flex gap-2 mt-3",children:_.jsx("button",{onClick:async()=>{window.confirm("¿Seguro que quieres rechazar este turno?")&&N(J.id)},className:"btn-danger",children:"❌ Cancelar"})}),J.estado==="pendiente"&&_.jsxs("div",{className:"flex gap-2 mt-3",children:[_.jsx("button",{onClick:async()=>G(J.id),className:"btn-primary",children:"✅ Aceptar"}),_.jsx("button",{onClick:async()=>{window.confirm("¿Seguro que quieres rechazar este turno?")&&Q(J.id)},className:"btn-danger",children:"❌ Rechazar"})]})]},J.id))})]},ne))]}),_.jsx("div",{className:"md:w-2/3",children:x?_.jsx("div",{className:"flex justify-center items-center h-32",children:_.jsx(qa,{color:"#3498db",loading:!0,size:50})}):l.length===0?_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"page-subtitle",children:"Turnos pendientes"}),_.jsx("p",{className:"text-gray-500",children:"No hay turnos pendientes desde hoy"})]}):_.jsxs("div",{children:[_.jsxs("h2",{className:"page-subtitle",children:["Turnos pendientes (",l.length,")"]}),_.jsx("div",{className:"space-y-3",children:l.map(ne=>_.jsxs("div",{className:"form-section",children:[_.jsxs("p",{className:"font-medium",children:[ni(ne.inicio.toDate()).format("DD/MM/YYYY HH:mm")," -"," ",ni(ne.fin.toDate()).format("HH:mm")]}),ne.usuario&&_.jsxs("p",{className:"text-sm text-gray-700",children:[ne.usuario.apellido,", ",ne.usuario.nombre," |"," ",ne.usuario.telefono]}),ne.servicio&&_.jsxs("p",{className:"text-sm text-gray-500",children:[ne.servicio.nombre," - $",ne.servicio.precio]}),_.jsxs("div",{className:"flex gap-2 mt-3",children:[_.jsx("button",{onClick:async()=>G(ne.id),className:"btn-primary",children:"✅ Aceptar"}),_.jsx("button",{onClick:async()=>{window.confirm("¿Seguro que quieres rechazar este turno?")&&Q(ne.id)},className:"btn-danger",children:"❌ Rechazar"})]})]},ne.id))})]})})]})]})}function t4(){const n=pr(c=>c.user),e=n1(c=>c.fetchServicios),[t,i]=z.useState([]),[a,l]=z.useState(!0);return z.useEffect(()=>{(async()=>{try{l(!0);const d=await e();i(d)}catch(d){console.error(d)}finally{l(!1)}})()},[e]),_.jsxs(_.Fragment,{children:[_.jsxs("section",{className:"text-center mt-12 max-w-4xl mx-auto px-6",children:[_.jsx("h1",{className:"text-4xl font-extrabold text-indigo-600 mb-4",children:"Tu salón, organizado y sin estrés"}),_.jsx("p",{className:"text-gray-700 text-lg mb-6",children:"Gestioná tus turnos, servicios y clientes desde una sola app. Simple, rápido y profesional ✨"}),!n&&_.jsxs("div",{className:"flex justify-center gap-4",children:[_.jsx(vt,{to:"/login",className:"bg-indigo-600 text-white px-5 py-3 rounded-lg hover:bg-indigo-700 transition",children:"Iniciar sesión"}),_.jsx(vt,{to:"/register",className:"bg-gray-200 text-gray-800 px-5 py-3 rounded-lg hover:bg-gray-300 transition",children:"Registrarse"})]})]}),_.jsxs("section",{className:"mt-20 px-6 max-w-5xl mx-auto",children:[_.jsx("h2",{className:"text-2xl font-bold text-center mb-10 text-indigo-600",children:"¿Qué ofrecemos?"}),_.jsxs("div",{className:"grid gap-10 sm:grid-cols-2",children:[_.jsxs("div",{className:"bg-indigo-50 rounded p-5 flex items-start gap-4",children:[_.jsx("div",{className:"text-3xl",children:"📅"}),_.jsxs("div",{children:[_.jsx("h3",{className:"uppercase font-semibold text-indigo-700 mb-1",children:"Agendar citas"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Administrá tus reservas sobre la marcha y aceptá fácilmente turnos online."})]})]}),_.jsxs("div",{className:"bg-indigo-50 rounded p-5 flex items-start gap-4",children:[_.jsx("div",{className:"text-3xl",children:"📲"}),_.jsxs("div",{children:[_.jsx("h3",{className:"uppercase font-semibold text-indigo-700 mb-1",children:"Gestión desde el celular"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Controlá tu agenda, clientes y servicios desde cualquier dispositivo."})]})]}),_.jsxs("div",{className:"bg-indigo-50 rounded p-5 flex items-start gap-4",children:[_.jsx("div",{className:"text-3xl",children:"📈"}),_.jsxs("div",{children:[_.jsx("h3",{className:"uppercase font-semibold text-indigo-700 mb-1",children:"Estadísticas"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Visualizá el rendimiento de tu salón y tomá decisiones con datos reales."})]})]}),_.jsxs("div",{className:"bg-indigo-50 rounded p-5 flex items-start gap-4",children:[_.jsx("div",{className:"text-3xl",children:"💬"}),_.jsxs("div",{children:[_.jsx("h3",{className:"uppercase font-semibold text-indigo-700 mb-1",children:"Recordatorios automáticos"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Tus clientes reciben notificaciones para no olvidar sus turnos."})]})]})]})]}),_.jsx("div",{className:"bg-indigo-50 w-full mt-8 p-6",children:_.jsxs("section",{className:"px-6 max-w-6xl mx-auto",children:[_.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-indigo-600",children:"Servicios que ofrecemos"}),a?_.jsx("p",{className:"text-center text-gray-500",children:"Cargando servicios..."}):t.length===0?_.jsx("p",{className:"text-center text-gray-500",children:"Próximamente podrás ver nuestros servicios disponibles."}):_.jsx("ul",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3",children:t.map(c=>_.jsxs("li",{className:"bg-white border rounded-lg p-5 shadow-sm hover:shadow-lg transition flex flex-col",children:[_.jsx("h4",{className:"text-lg font-bold mb-1 text-indigo-600",children:c.nombre}),_.jsx("p",{className:"text-sm text-gray-600 flex-grow",children:c.descripcion||"Servicio personalizado para tu bienestar."}),_.jsxs("p",{className:"text-sm font-semibold mt-3",children:["⏳ ",c.duracionMinutos," min"]})]},c.id))})]})}),_.jsxs("section",{className:"mt-24 px-6 max-w-5xl mx-auto text-center",children:[_.jsx("h2",{className:"text-2xl font-bold mb-4 text-indigo-600",children:"¡Transformá tu forma de trabajar!"}),_.jsx("p",{className:"text-gray-600 mb-8",children:"Sumate a cientos de profesionales que ya gestionan su salón con nuestra app. Reservas, clientes y servicios en un solo lugar."}),_.jsx(vt,{to:"/turnos",className:"inline-block bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition",children:"Reservá tu turno ahora"})]}),_.jsx("section",{className:"mt-24 py-16 px-6 bg-gradient-to-r from-indigo-200 via-indigo-100 to-indigo-50",children:_.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[_.jsx("h2",{className:"text-2xl font-bold text-indigo-700 mb-10",children:"Usá tu app como quieras, donde quieras"}),_.jsxs("div",{className:"grid gap-10 sm:grid-cols-3 text-left sm:text-center",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-indigo-600 mb-2",children:"⏰ En cualquier momento"}),_.jsx("p",{className:"text-sm text-gray-700",children:"Gestioná tu salón las 24 horas, sin depender de horarios de atención."})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-indigo-600 mb-2",children:"🌍 En cualquier lugar"}),_.jsx("p",{className:"text-sm text-gray-700",children:"Accedé desde tu celular, estés en el salón o tomando un café."})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-indigo-600 mb-2",children:"🔐 Seguro y confiable"}),_.jsx("p",{className:"text-sm text-gray-700",children:"Tus datos están protegidos en la nube con tecnología de última generación."})]})]})]})})]})}function Go({allowedRoles:n,children:e}){const{user:t,info:i,isAuthReady:a}=pr();return a?!t||!n.includes(i.rolId)?_.jsx(ZR,{to:"/login"}):e:_.jsx("p",{className:"text-center mt-10",children:"Cargando sesión..."})}function qT(){const n=ed(),e=pr(i=>i.clearUser),t=async()=>{try{await yN(xl),e(),n("/login")}catch(i){console.error("Error al cerrar sesión:",i)}};return _.jsx("button",{onClick:t,className:"btn-danger",children:"Cerrar sesión"})}function n4({title:n,titleId:e,...t},i){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?z.createElement("title",{id:e},n):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const r4=z.forwardRef(n4);function i4({title:n,titleId:e,...t},i){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?z.createElement("title",{id:e},n):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const s4=z.forwardRef(i4);function a4({title:n,titleId:e,...t},i){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?z.createElement("title",{id:e},n):null,z.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const o4=z.forwardRef(a4);function l4(){const[n,e]=z.useState(null),[t,i]=z.useState(!1),[a,l]=z.useState(!1),c=pr(p=>p.info);z.useEffect(()=>{const p=Fw(xl,m=>{e(m)});return()=>p()},[]);const d=()=>l(!a);return _.jsxs("header",{className:"bg-indigo-600 text-white",children:[_.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center",children:[_.jsx("h1",{className:"text-xl font-bold",children:"Mi App"}),_.jsx("button",{className:"md:hidden",onClick:d,"aria-label":"Abrir menú",children:a?_.jsx(s4,{className:"h-6 w-6"}):_.jsx(r4,{className:"h-6 w-6"})}),_.jsxs("nav",{className:"hidden md:flex gap-4 items-center",children:[_.jsx(vt,{to:"/",className:"hover:underline",children:"Inicio"}),n&&c?_.jsxs(_.Fragment,{children:[c.rolId==="admin"&&_.jsxs(_.Fragment,{children:[_.jsx(vt,{to:"/admin/servicios",className:"hover:underline",children:"Servicios"}),_.jsx(vt,{to:"/admin/turnos",className:"hover:underline",children:"Turnos"}),_.jsx(vt,{to:"/admin/horarios",className:"hover:underline",children:"Configuración"})]}),c.rolId==="user"&&_.jsx(vt,{to:"/dashboard",className:"hover:underline",children:"Mis turnos"}),_.jsxs("div",{className:"relative",children:[_.jsxs("button",{onClick:()=>i(!t),className:"flex items-center gap-2 px-3 py-1 rounded hover:bg-indigo-700 transition font-semibold text-white",children:[_.jsx(o4,{className:"h-6 w-6"}),c.nombre,_.jsx("svg",{className:`w-4 h-4 transform transition-transform ${t?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&_.jsxs("div",{className:"absolute right-0 mt-2 bg-indigo-50 text-gray-800 rounded shadow-lg z-10 w-44 border animate-fadeIn",children:[_.jsx(vt,{to:"/perfil",className:"block px-4 py-2 hover:bg-indigo-50 transition",onClick:()=>i(!1),children:"Modificar perfil"}),_.jsx("div",{className:"border-t",children:_.jsx("div",{className:"px-4 py-2",children:_.jsx(qT,{})})})]})]})]}):_.jsx(vt,{to:"/login",className:"hover:underline",children:"Iniciar sesión"})]})]}),a&&_.jsxs("nav",{className:"md:hidden bg-indigo-700 px-4 pb-4 space-y-2",children:[_.jsx(vt,{to:"/",className:"block hover:underline",children:"Inicio"}),n&&c?_.jsxs(_.Fragment,{children:[c.rolId==="admin"&&_.jsxs(_.Fragment,{children:[_.jsx(vt,{to:"/admin/servicios",className:"block hover:underline",children:"Servicios"}),_.jsx(vt,{to:"/admin/turnos",className:"block hover:underline",children:"Turnos"}),_.jsx(vt,{to:"/admin/horarios",className:"block hover:underline",children:"Configuración"})]}),c.rolId==="user"&&_.jsx(vt,{to:"/dashboard",className:"block hover:underline",children:"Mis turnos"}),_.jsx(vt,{to:"/perfil",className:"block hover:underline",children:"Modificar perfil"}),_.jsx("div",{children:_.jsx(qT,{})})]}):_.jsx(vt,{to:"/login",className:"block hover:underline",children:"Iniciar sesión"})]})]})}function u4(){return _.jsxs("footer",{className:"bg-gray-100 text-gray-700 text-sm mt-auto",children:[_.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10 grid grid-cols-1 md:grid-cols-4 gap-8",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Mi App"}),_.jsx("p",{className:"text-gray-600",children:"Plataforma de gestión de turnos y servicios. Optimiza tu tiempo y el de tus clientes."})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Servicios"}),_.jsxs("ul",{className:"space-y-1",children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Turnos"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Agenda"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Reportes"})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Soporte"}),_.jsxs("ul",{className:"space-y-1",children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Preguntas frecuentes"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Contacto"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Documentación"})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Legal"}),_.jsxs("ul",{className:"space-y-1",children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Términos y condiciones"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Política de privacidad"})})]})]})]}),_.jsxs("div",{className:"border-t border-gray-300 text-center py-4 text-xs text-gray-500",children:["© ",new Date().getFullYear()," Mi App. Todos los derechos reservados."]})]})}function c4({children:n}){return _.jsxs("div",{className:"flex flex-col min-h-screen",children:[_.jsx(l4,{}),_.jsx("main",{className:"flex-grow ",children:n}),_.jsx(u4,{})]})}const I1=Xn(Ye,"servicios");async function h4(){return(await Dr(I1)).docs.map(e=>({id:e.id,...e.data()}))}function f4(n){return CA(I1,{...n,duracionMinutos:Number(n.duracionMinutos),precio:Number(n.precio)})}function d4(n,e){return Jy(pn(Ye,"servicios",n),{...e,duracionMinutos:Number(e.duracionMinutos),precio:Number(e.precio)})}function m4(n){return RA(pn(Ye,"servicios",n))}function p4(){const[n,e]=z.useState([]),[t,i]=z.useState({nombre:"",MinutosMinutos:0,precio:0,activo:!0}),[a,l]=z.useState(null),[c,d]=z.useState(null),[p,m]=z.useState(null),[v,T]=z.useState(!1);z.useEffect(()=>{try{w()}catch{d("Ocurrió un error al cargar los servicios"),T(!1)}},[]);async function w(){T(!0),e(await h4()),T(!1)}const x=N=>{const{name:G,value:Q,type:ne,checked:J}=N.target;i(fe=>({...fe,[G]:ne==="checkbox"?J:ne==="number"?Number(Q):Q}))},V=async N=>{N.preventDefault(),d("");try{T(!0),await zV.validate(t,{abortEarly:!1}),a?(await d4(a,t),l(null),m("Servicio editado")):(await f4(t),m("Servicio añadido")),i({nombre:"",duracionMinutos:0,precio:0,activo:!0}),w()}catch(G){G.name==="ValidationError"?(d(G.errors.join(" | ")),console.error("Errores de validación:",G.errors)):(d("Hubo un error al guardar el servicio"),console.error("Error al guardar servicio:",G))}finally{T(!1)}},M=N=>{i(N),l(N.id)},L=async N=>{try{if(T(!0),!window.confirm("¿Eliminar este servicio?"))return;await m4(N),e(n.filter(G=>G.id!==N)),m("Servicio eliminado")}catch{d("No se pude eliminar el servicio")}finally{T(!1)}};return _.jsx("div",{className:"page-container",children:v?_.jsx("div",{className:"flex justify-center items-center h-40",children:_.jsx(qa,{color:"#3498db",loading:!0,size:50})}):_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"page-title",children:"Administración de Servicios"}),c&&_.jsx(Wn,{type:"error",message:c,onClose:()=>d(null)}),p&&_.jsx(Wn,{type:"success",message:p,onClose:()=>m(null)}),_.jsxs("form",{onSubmit:V,className:"form-section",children:[_.jsx("h3",{children:"Agregar/Modificar servicio"}),_.jsx("label",{className:"form-label",children:"Nombre"}),_.jsx("input",{type:"text",name:"nombre",placeholder:"Nombre",value:t.nombre,onChange:x,required:!0,className:"form-control"}),_.jsx("label",{className:"form-label",children:"Precio"}),_.jsx("input",{type:"text",name:"precio",placeholder:"0",value:t.precio,onChange:x,required:!0,className:"form-control"}),_.jsx("label",{className:"form-label",children:"Duración"}),_.jsx("input",{type:"text",name:"duracionMinutos",placeholder:"30",value:t.duracionMinutos,onChange:x,required:!0,className:"form-control"}),_.jsxs("label",{className:"form-label flex items-center gap-2",children:[_.jsx("input",{className:"mr-1",type:"checkbox",name:"activo",checked:t.activo,onChange:x}),"Activo"]}),_.jsx("button",{type:"submit",className:"btn-primary",children:a?"Actualizar":"Agregar"})]}),_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Nombre"}),_.jsx("th",{children:"Duración"}),_.jsx("th",{children:"Precio"}),_.jsx("th",{children:"Activo"}),_.jsx("th",{children:"Acciones"})]})}),_.jsxs("tbody",{children:[n.map(N=>_.jsxs("tr",{children:[_.jsx("td",{children:N.nombre}),_.jsxs("td",{children:[N.duracionMinutos," min"]}),_.jsxs("td",{children:["$",N.precio]}),_.jsx("td",{children:N.activo?"✅":"❌"}),_.jsxs("td",{children:[_.jsx("button",{onClick:()=>M(N),className:"btn-secondary",children:"Editar"}),_.jsx("button",{onClick:()=>L(N.id),className:"btn-danger",children:"Eliminar"})]})]},N.id)),n.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:"5",children:"No hay servicios"})})]})]})]})})}function g4(){const[n,e]=z.useState(""),[t,i]=z.useState(""),[a,l]=z.useState(""),[c,d]=z.useState(""),[p,m]=z.useState(!0),v=pr(L=>L.user),[T,w]=z.useState(null),[x,V]=z.useState(null);z.useEffect(()=>{(async()=>{try{if(!v)return;m(!0);const N=pn(Ye,"users",v.uid),G=await Al(N);if(G.exists()){const Q=G.data();e(Q.nombre||""),i(Q.apellido||""),l(Q.telefono||""),d(Q.email||v.email)}}catch(N){console.error("Error al cargar datos:",N)}finally{m(!1)}})()},[]);const M=async L=>{L.preventDefault();try{m(!0),await ZA.validate({nombre:n,apellido:t,telefono:a,email:c,rolId:"user"},{abortEarly:!1});const N=xl.currentUser,G=pn(Ye,"users",N.uid);await Jy(G,{nombre:n,apellido:t,telefono:a,email:c}),V("Datos actualizados correctamente"),w("")}catch(N){V(""),N.name==="ValidationError"?(w(N.errors.join(" | ")),console.error("Errores de validación:",N.errors)):(console.error("Error al actualizar:",N),w("Hubo un error al actualizar"))}finally{m(!1)}};return _.jsx("div",{className:"page-container",children:p?_.jsx("div",{className:"flex justify-center items-center h-40",children:_.jsx(qa,{color:"#3498db",loading:!0,size:50})}):_.jsxs("div",{className:"form-section max-w-md mx-auto",children:[_.jsx("h2",{className:"page-subtitle",children:"Mi Perfil"}),T&&_.jsx(Wn,{type:"error",message:T}),x&&_.jsx(Wn,{type:"success",message:x}),_.jsxs("form",{onSubmit:M,children:[_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Nombre"}),_.jsx("input",{type:"text",value:n,onChange:L=>e(L.target.value),className:"form-control",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Apellido"}),_.jsx("input",{type:"text",value:t,onChange:L=>i(L.target.value),className:"form-control",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Teléfono"}),_.jsx("input",{type:"tel",value:a,onChange:L=>l(L.target.value),className:"form-control",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Email"}),_.jsx("input",{type:"email",value:c,onChange:L=>d(L.target.value),className:"form-control",required:!0})]}),_.jsx("div",{className:"mt-4",children:_.jsx("button",{type:"submit",className:"btn-primary",children:"Guardar cambios"})})]})]})})}function y4(){const[n,e]=z.useState(""),[t,i]=z.useState(""),[a,l]=z.useState(""),[c,d]=z.useState(!1),p=async m=>{m.preventDefault(),i(""),l(""),d(!0);try{await sendPasswordResetEmail(auth,n),i("Te enviamos un correo para restablecer tu contraseña.")}catch(v){l("Hubo un problema: "+v.message)}finally{d(!1)}};return _.jsx("div",{className:"page-container",children:_.jsxs("div",{className:"form-section max-w-sm mx-auto",children:[_.jsx("h2",{className:"page-subtitle text-center mb-4",children:"Recuperar contraseña"}),a&&_.jsx(InfoMessage,{type:"error",message:a,onClose:()=>l(null)}),t&&_.jsx(InfoMessage,{type:"success",message:t,onClose:()=>i("")}),_.jsxs("form",{onSubmit:p,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Email"}),_.jsx("input",{type:"email",placeholder:"tuemail@ejemplo.com",className:"form-control",value:n,onChange:m=>e(m.target.value),required:!0})]}),_.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:c,children:c?"Enviando...":"Enviar correo de recuperación"})]}),_.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:_.jsx("p",{children:_.jsx(vt,{to:"/login",className:"text-blue-600 hover:underline",children:"Volver a iniciar sesión"})})})]})})}function v4(){return _.jsx(Jk,{children:_.jsx(wC,{basename:"/TurnosApp",children:_.jsx(c4,{children:_.jsxs(eC,{children:[_.jsx(xr,{path:"/",element:_.jsx(t4,{})}),_.jsx(xr,{path:"/login",element:_.jsx(qV,{})}),_.jsx(xr,{path:"/register",element:_.jsx(BV,{})}),_.jsx(xr,{path:"/recuperar",element:_.jsx(y4,{})}),_.jsx(xr,{path:"/perfil",element:_.jsx(Go,{allowedRoles:["user","admin"],children:_.jsx(g4,{})})}),_.jsx(xr,{path:"/dashboard",element:_.jsx(Go,{allowedRoles:["user","admin"],children:_.jsx(XV,{})})}),_.jsx(xr,{path:"/turnos",element:_.jsx(Go,{allowedRoles:["user","admin"],children:_.jsx(iP,{})})}),_.jsx(xr,{path:"/admin/turnos",element:_.jsx(Go,{allowedRoles:["admin"],children:_.jsx(e4,{})})}),_.jsx(xr,{path:"/admin/horarios",element:_.jsx(Go,{allowedRoles:["admin"],children:_.jsx(_P,{})})}),_.jsx(xr,{path:"/admin/servicios",element:_.jsx(Go,{allowedRoles:["admin"],children:_.jsx(p4,{})})})]})})})})}uR.createRoot(document.getElementById("root")).render(_.jsx(z.StrictMode,{children:_.jsx(v4,{})}));
