(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=t(s);fetch(s.href,u)}})();function nT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ng={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function X1(){if(q0)return fu;q0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,u){var h=null;if(u!==void 0&&(h=""+u),s.key!==void 0&&(h=""+s.key),"key"in s){u={};for(var d in s)d!=="key"&&(u[d]=s[d])}else u=s;return s=u.ref,{$$typeof:r,type:i,key:h,ref:s!==void 0?s:null,props:u}}return fu.Fragment=e,fu.jsx=t,fu.jsxs=t,fu}var H0;function W1(){return H0||(H0=1,ng.exports=X1()),ng.exports}var v=W1(),rg={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function Z1(){if(F0)return Oe;F0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function S(I){return I===null||typeof I!="object"?null:(I=T&&I[T]||I["@@iterator"],typeof I=="function"?I:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,V={};function L(I,X,ce){this.props=I,this.context=X,this.refs=V,this.updater=ce||C}L.prototype.isReactComponent={},L.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},L.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function z(){}z.prototype=L.prototype;function J(I,X,ce){this.props=I,this.context=X,this.refs=V,this.updater=ce||C}var ee=J.prototype=new z;ee.constructor=J,j(ee,L.prototype),ee.isPureReactComponent=!0;var ie=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function U(I,X,ce,se,ge,Te){return ce=Te.ref,{$$typeof:r,type:I,key:X,ref:ce!==void 0?ce:null,props:Te}}function x(I,X){return U(I.type,X,void 0,void 0,void 0,I.props)}function N(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function O(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ce){return X[ce]})}var M=/\/+/g;function q(I,X){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):X.toString(36)}function R(){}function he(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(R,R):(I.status="pending",I.then(function(X){I.status==="pending"&&(I.status="fulfilled",I.value=X)},function(X){I.status==="pending"&&(I.status="rejected",I.reason=X)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ue(I,X,ce,se,ge){var Te=typeof I;(Te==="undefined"||Te==="boolean")&&(I=null);var _e=!1;if(I===null)_e=!0;else switch(Te){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(I.$$typeof){case r:case e:_e=!0;break;case _:return _e=I._init,ue(_e(I._payload),X,ce,se,ge)}}if(_e)return ge=ge(I),_e=se===""?"."+q(I,0):se,ie(ge)?(ce="",_e!=null&&(ce=_e.replace(M,"$&/")+"/"),ue(ge,X,ce,"",function(lt){return lt})):ge!=null&&(N(ge)&&(ge=x(ge,ce+(ge.key==null||I&&I.key===ge.key?"":(""+ge.key).replace(M,"$&/")+"/")+_e)),X.push(ge)),1;_e=0;var $e=se===""?".":se+":";if(ie(I))for(var Ve=0;Ve<I.length;Ve++)se=I[Ve],Te=$e+q(se,Ve),_e+=ue(se,X,ce,Te,ge);else if(Ve=S(I),typeof Ve=="function")for(I=Ve.call(I),Ve=0;!(se=I.next()).done;)se=se.value,Te=$e+q(se,Ve++),_e+=ue(se,X,ce,Te,ge);else if(Te==="object"){if(typeof I.then=="function")return ue(he(I),X,ce,se,ge);throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return _e}function P(I,X,ce){if(I==null)return I;var se=[],ge=0;return ue(I,se,"","",function(Te){return X.call(ce,Te,ge++)}),se}function K(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(ce){(I._status===0||I._status===-1)&&(I._status=1,I._result=ce)},function(ce){(I._status===0||I._status===-1)&&(I._status=2,I._result=ce)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var Z=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function fe(){}return Oe.Children={map:P,forEach:function(I,X,ce){P(I,function(){X.apply(this,arguments)},ce)},count:function(I){var X=0;return P(I,function(){X++}),X},toArray:function(I){return P(I,function(X){return X})||[]},only:function(I){if(!N(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Oe.Component=L,Oe.Fragment=t,Oe.Profiler=s,Oe.PureComponent=J,Oe.StrictMode=i,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(I){return te.H.useMemoCache(I)}},Oe.cache=function(I){return function(){return I.apply(null,arguments)}},Oe.cloneElement=function(I,X,ce){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var se=j({},I.props),ge=I.key,Te=void 0;if(X!=null)for(_e in X.ref!==void 0&&(Te=void 0),X.key!==void 0&&(ge=""+X.key),X)!pe.call(X,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&X.ref===void 0||(se[_e]=X[_e]);var _e=arguments.length-2;if(_e===1)se.children=ce;else if(1<_e){for(var $e=Array(_e),Ve=0;Ve<_e;Ve++)$e[Ve]=arguments[Ve+2];se.children=$e}return U(I.type,ge,void 0,void 0,Te,se)},Oe.createContext=function(I){return I={$$typeof:h,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Oe.createElement=function(I,X,ce){var se,ge={},Te=null;if(X!=null)for(se in X.key!==void 0&&(Te=""+X.key),X)pe.call(X,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=X[se]);var _e=arguments.length-2;if(_e===1)ge.children=ce;else if(1<_e){for(var $e=Array(_e),Ve=0;Ve<_e;Ve++)$e[Ve]=arguments[Ve+2];ge.children=$e}if(I&&I.defaultProps)for(se in _e=I.defaultProps,_e)ge[se]===void 0&&(ge[se]=_e[se]);return U(I,Te,void 0,void 0,null,ge)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(I){return{$$typeof:d,render:I}},Oe.isValidElement=N,Oe.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:K}},Oe.memo=function(I,X){return{$$typeof:g,type:I,compare:X===void 0?null:X}},Oe.startTransition=function(I){var X=te.T,ce={};te.T=ce;try{var se=I(),ge=te.S;ge!==null&&ge(ce,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(fe,Z)}catch(Te){Z(Te)}finally{te.T=X}},Oe.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Oe.use=function(I){return te.H.use(I)},Oe.useActionState=function(I,X,ce){return te.H.useActionState(I,X,ce)},Oe.useCallback=function(I,X){return te.H.useCallback(I,X)},Oe.useContext=function(I){return te.H.useContext(I)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(I,X){return te.H.useDeferredValue(I,X)},Oe.useEffect=function(I,X,ce){var se=te.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(I,X)},Oe.useId=function(){return te.H.useId()},Oe.useImperativeHandle=function(I,X,ce){return te.H.useImperativeHandle(I,X,ce)},Oe.useInsertionEffect=function(I,X){return te.H.useInsertionEffect(I,X)},Oe.useLayoutEffect=function(I,X){return te.H.useLayoutEffect(I,X)},Oe.useMemo=function(I,X){return te.H.useMemo(I,X)},Oe.useOptimistic=function(I,X){return te.H.useOptimistic(I,X)},Oe.useReducer=function(I,X,ce){return te.H.useReducer(I,X,ce)},Oe.useRef=function(I){return te.H.useRef(I)},Oe.useState=function(I){return te.H.useState(I)},Oe.useSyncExternalStore=function(I,X,ce){return te.H.useSyncExternalStore(I,X,ce)},Oe.useTransition=function(){return te.H.useTransition()},Oe.version="19.1.1",Oe}var G0;function mp(){return G0||(G0=1,rg.exports=Z1()),rg.exports}var k=mp();const Ch=nT(k);var ig={exports:{}},du={},ag={exports:{}},sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function J1(){return Y0||(Y0=1,function(r){function e(P,K){var Z=P.length;P.push(K);e:for(;0<Z;){var fe=Z-1>>>1,I=P[fe];if(0<s(I,K))P[fe]=K,P[Z]=I,Z=fe;else break e}}function t(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var K=P[0],Z=P.pop();if(Z!==K){P[0]=Z;e:for(var fe=0,I=P.length,X=I>>>1;fe<X;){var ce=2*(fe+1)-1,se=P[ce],ge=ce+1,Te=P[ge];if(0>s(se,Z))ge<I&&0>s(Te,se)?(P[fe]=Te,P[ge]=Z,fe=ge):(P[fe]=se,P[ce]=Z,fe=ce);else if(ge<I&&0>s(Te,Z))P[fe]=Te,P[ge]=Z,fe=ge;else break e}}return K}function s(P,K){var Z=P.sortIndex-K.sortIndex;return Z!==0?Z:P.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,T=null,S=3,C=!1,j=!1,V=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ie(P){for(var K=t(g);K!==null;){if(K.callback===null)i(g);else if(K.startTime<=P)i(g),K.sortIndex=K.expirationTime,e(p,K);else break;K=t(g)}}function te(P){if(V=!1,ie(P),!j)if(t(p)!==null)j=!0,pe||(pe=!0,q());else{var K=t(g);K!==null&&ue(te,K.startTime-P)}}var pe=!1,U=-1,x=5,N=-1;function O(){return L?!0:!(r.unstable_now()-N<x)}function M(){if(L=!1,pe){var P=r.unstable_now();N=P;var K=!0;try{e:{j=!1,V&&(V=!1,J(U),U=-1),C=!0;var Z=S;try{t:{for(ie(P),T=t(p);T!==null&&!(T.expirationTime>P&&O());){var fe=T.callback;if(typeof fe=="function"){T.callback=null,S=T.priorityLevel;var I=fe(T.expirationTime<=P);if(P=r.unstable_now(),typeof I=="function"){T.callback=I,ie(P),K=!0;break t}T===t(p)&&i(p),ie(P)}else i(p);T=t(p)}if(T!==null)K=!0;else{var X=t(g);X!==null&&ue(te,X.startTime-P),K=!1}}break e}finally{T=null,S=Z,C=!1}K=void 0}}finally{K?q():pe=!1}}}var q;if(typeof ee=="function")q=function(){ee(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,he=R.port2;R.port1.onmessage=M,q=function(){he.postMessage(null)}}else q=function(){z(M,0)};function ue(P,K){U=z(function(){P(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(P){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var Z=S;S=K;try{return P()}finally{S=Z}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Z=S;S=P;try{return K()}finally{S=Z}},r.unstable_scheduleCallback=function(P,K,Z){var fe=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?fe+Z:fe):Z=fe,P){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=Z+I,P={id:_++,callback:K,priorityLevel:P,startTime:Z,expirationTime:I,sortIndex:-1},Z>fe?(P.sortIndex=Z,e(g,P),t(p)===null&&P===t(g)&&(V?(J(U),U=-1):V=!0,ue(te,Z-fe))):(P.sortIndex=I,e(p,P),j||C||(j=!0,pe||(pe=!0,q()))),P},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(P){var K=S;return function(){var Z=S;S=K;try{return P.apply(this,arguments)}finally{S=Z}}}}(sg)),sg}var $0;function eR(){return $0||($0=1,ag.exports=J1()),ag.exports}var og={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function tR(){if(Q0)return _n;Q0=1;var r=mp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},_n.flushSync=function(p){var g=h.T,_=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=g,i.p=_,i.d.f()}},_n.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},_n.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},_n.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):_==="script"&&i.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},_n.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);i.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},_n.requestFormReset=function(p){i.d.r(p)},_n.unstable_batchedUpdates=function(p,g){return p(g)},_n.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},_n.useFormStatus=function(){return h.H.useHostTransitionStatus()},_n.version="19.1.1",_n}var K0;function nR(){if(K0)return og.exports;K0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),og.exports=tR(),og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function rR(){if(X0)return du;X0=1;var r=eR(),e=mp(),t=nR();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var a=n,o=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(o=a.return),n=a.return;while(n)}return a.tag===3?o:null}function h(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(i(188))}function p(n){var a=n.alternate;if(!a){if(a=u(n),a===null)throw Error(i(188));return a!==n?null:n}for(var o=n,l=a;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),n;if(m===l)return d(f),a;m=m.sibling}throw Error(i(188))}if(o.return!==l.return)o=f,l=m;else{for(var b=!1,w=f.child;w;){if(w===o){b=!0,o=f,l=m;break}if(w===l){b=!0,l=f,o=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===o){b=!0,o=m,l=f;break}if(w===l){b=!0,l=m,o=f;break}w=w.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==l)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:a}function g(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=g(n),a!==null)return a;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function he(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case L:return"Profiler";case V:return"StrictMode";case te:return"Suspense";case pe:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case ee:return(n.displayName||"Context")+".Provider";case J:return(n._context.displayName||"Context")+".Consumer";case ie:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return a=n.displayName||null,a!==null?a:he(n.type)||"Memo";case x:a=n._payload,n=n._init;try{return he(n(a))}catch{}}return null}var ue=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},fe=[],I=-1;function X(n){return{current:n}}function ce(n){0>I||(n.current=fe[I],fe[I]=null,I--)}function se(n,a){I++,fe[I]=n.current,n.current=a}var ge=X(null),Te=X(null),_e=X(null),$e=X(null);function Ve(n,a){switch(se(_e,a),se(Te,n),se(ge,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?p0(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=p0(a),n=y0(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(ge),se(ge,n)}function lt(){ce(ge),ce(Te),ce(_e)}function ut(n){n.memoizedState!==null&&se($e,n);var a=ge.current,o=y0(a,n.type);a!==o&&(se(Te,n),se(ge,o))}function wt(n){Te.current===n&&(ce(ge),ce(Te)),$e.current===n&&(ce($e),ou._currentValue=Z)}var Yt=Object.prototype.hasOwnProperty,yn=r.unstable_scheduleCallback,ct=r.unstable_cancelCallback,hr=r.unstable_shouldYield,tn=r.unstable_requestPaint,nn=r.unstable_now,js=r.unstable_getCurrentPriorityLevel,qi=r.unstable_ImmediatePriority,Hi=r.unstable_UserBlockingPriority,ai=r.unstable_NormalPriority,dl=r.unstable_LowPriority,si=r.unstable_IdlePriority,qa=r.log,Ls=r.unstable_setDisableYieldValue,gt=null,Xe=null;function wn(n){if(typeof qa=="function"&&Ls(n),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(gt,n)}catch{}}var Ot=Math.clz32?Math.clz32:oi,Ha=Math.log,Us=Math.LN2;function oi(n){return n>>>=0,n===0?32:31-(Ha(n)/Us|0)|0}var Qn=256,Dr=4194304;function Pn(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function li(n,a,o){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?f=Pn(l):(b&=w,b!==0?f=Pn(b):o||(o=w&~n,o!==0&&(f=Pn(o))))):(w=l&~m,w!==0?f=Pn(w):b!==0?f=Pn(b):o||(o=l&~n,o!==0&&(f=Pn(o)))),f===0?0:a!==0&&a!==f&&(a&m)===0&&(m=f&-f,o=a&-a,m>=o||m===32&&(o&4194048)!==0)?a:f}function Or(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function ui(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fa(){var n=Qn;return Qn<<=1,(Qn&4194048)===0&&(Qn=256),n}function Fi(){var n=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),n}function fr(n){for(var a=[],o=0;31>o;o++)a.push(n);return a}function Kn(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Mt(n,a,o,l,f,m){var b=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var w=n.entanglements,D=n.expirationTimes,Y=n.hiddenUpdates;for(o=b&~o;0<o;){var ne=31-Ot(o),oe=1<<ne;w[ne]=0,D[ne]=-1;var $=Y[ne];if($!==null)for(Y[ne]=null,ne=0;ne<$.length;ne++){var Q=$[ne];Q!==null&&(Q.lane&=-536870913)}o&=~oe}l!==0&&mt(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(b&~a))}function mt(n,a,o){n.pendingLanes|=a,n.suspendedLanes&=~a;var l=31-Ot(a);n.entangledLanes|=a,n.entanglements[l]=n.entanglements[l]|1073741824|o&4194090}function Mr(n,a){var o=n.entangledLanes|=a;for(n=n.entanglements;o;){var l=31-Ot(o),f=1<<l;f&a|n[l]&a&&(n[l]|=a),o&=~f}}function Qe(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function rn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Vr(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:k0(n.type))}function Gi(n,a){var o=K.p;try{return K.p=n,a()}finally{K.p=o}}var ht=Math.random().toString(36).slice(2),At="__reactFiber$"+ht,pt="__reactProps$"+ht,an="__reactContainer$"+ht,ci="__reactEvents$"+ht,Ga="__reactListeners$"+ht,Xn="__reactHandles$"+ht,zs="__reactResources$"+ht,dr="__reactMarker$"+ht;function mr(n){delete n[At],delete n[pt],delete n[ci],delete n[Ga],delete n[Xn]}function gr(n){var a=n[At];if(a)return a;for(var o=n.parentNode;o;){if(a=o[an]||o[At]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(n=b0(n);n!==null;){if(o=n[At])return o;n=b0(n)}return a}n=o,o=n.parentNode}return null}function Wn(n){if(n=n[At]||n[an]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Ce(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function Pe(n){var a=n[zs];return a||(a=n[zs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function De(n){n[dr]=!0}var sn=new Set,$t={};function An(n,a){pr(n,a),pr(n+"Capture",a)}function pr(n,a){for($t[n]=a,n=0;n<a.length;n++)sn.add(a[n])}var Bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hc={},Ya={};function fc(n){return Yt.call(Ya,n)?!0:Yt.call(hc,n)?!1:Bs.test(n)?Ya[n]=!0:(hc[n]=!0,!1)}function Yi(n,a,o){if(fc(a))if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+o)}}function Pr(n,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+o)}}function on(n,a,o,l){if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(a,o,""+l)}}var $a,dc;function hi(n){if($a===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);$a=a&&a[1]||"",dc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+n+dc}var qs=!1;function Hs(n,a){if(!n||qs)return"";qs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Q){var $=Q}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(Q){$=Q}n.call(oe.prototype)}}else{try{throw Error()}catch(Q){$=Q}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var D=b.split(`
`),Y=w.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===Y.length)for(l=D.length-1,f=Y.length-1;1<=l&&0<=f&&D[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==Y[f]){var ne=`
`+D[l].replace(" at new "," at ");return n.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",n.displayName)),ne}while(1<=l&&0<=f);break}}}finally{qs=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?hi(o):""}function ml(n){switch(n.tag){case 26:case 27:case 5:return hi(n.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Hs(n.type,!1);case 11:return Hs(n.type.render,!1);case 1:return Hs(n.type,!0);case 31:return hi("Activity");default:return""}}function Fs(n){try{var a="";do a+=ml(n),n=n.return;while(n);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gl(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function sd(n){var a=gl(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),l=""+n[a];if(!n.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(n,a,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Gs(n){n._valueTracker||(n._valueTracker=sd(n))}function pl(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var o=a.getValue(),l="";return n&&(l=gl(n)?n.checked?"true":"false":n.value),n=l,n!==o?(a.setValue(n),!0):!1}function Qa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var od=/[\n"\\]/g;function Vt(n){return n.replace(od,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function kn(n,a,o,l,f,m,b,w){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),a!=null?b==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Rn(a)):n.value!==""+Rn(a)&&(n.value=""+Rn(a)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),a!=null?$i(n,b,Rn(a)):o!=null?$i(n,b,Rn(o)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+Rn(w):n.removeAttribute("name")}function Ka(n,a,o,l,f,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),a!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||a!=null))return;o=o!=null?""+Rn(o):"",a=a!=null?""+Rn(a):o,w||a===n.value||(n.value=a),n.defaultValue=a}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function $i(n,a,o){a==="number"&&Qa(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function fi(n,a,o,l){if(n=n.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=a.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&l&&(n[o].defaultSelected=!0)}else{for(o=""+Rn(o),a=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function rt(n,a,o){if(a!=null&&(a=""+Rn(a),a!==n.value&&(n.value=a),o==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=o!=null?""+Rn(o):""}function Xa(n,a,o,l){if(a==null){if(l!=null){if(o!=null)throw Error(i(92));if(ue(l)){if(1<l.length)throw Error(i(93));l=l[0]}o=l}o==null&&(o=""),a=o}o=Rn(a),n.defaultValue=o,l=n.textContent,l===o&&l!==""&&l!==null&&(n.value=l)}function Zn(n,a){if(a){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=a;return}}n.textContent=a}var Wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mc(n,a,o){var l=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":l?n.setProperty(a,o):typeof o!="number"||o===0||Wa.has(a)?a==="float"?n.cssFloat=o:n[a]=(""+o).trim():n[a]=o+"px"}function yl(n,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in a)l=a[f],a.hasOwnProperty(f)&&o[f]!==l&&mc(n,f,l)}else for(var m in a)a.hasOwnProperty(m)&&mc(n,m,a[m])}function vl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ud=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(n){return ud.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var di=null;function Jn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var mi=null,gi=null;function _l(n){var a=Wn(n);if(a&&(n=a.stateNode)){var o=n[pt]||null;e:switch(n=a.stateNode,a.type){case"input":if(kn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var l=o[a];if(l!==n&&l.form===n.form){var f=l[pt]||null;if(!f)throw Error(i(90));kn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)l=o[a],l.form===n.form&&pl(l)}break e;case"textarea":rt(n,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&fi(n,!!o.multiple,a,!1)}}}var kr=!1;function gc(n,a,o){if(kr)return n(a,o);kr=!0;try{var l=n(a);return l}finally{if(kr=!1,(mi!==null||gi!==null)&&(lh(),mi&&(a=mi,n=gi,gi=mi=null,_l(a),n)))for(a=0;a<n.length;a++)_l(n[a])}}function Za(n,a){var o=n.stateNode;if(o===null)return null;var l=o[pt]||null;if(l===null)return null;o=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=!1;if(yr)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){er=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{er=!1}var jr=null,Qi=null,pi=null;function El(){if(pi)return pi;var n,a=Qi,o=a.length,l,f="value"in jr?jr.value:jr.textContent,m=f.length;for(n=0;n<o&&a[n]===f[n];n++);var b=o-n;for(l=1;l<=b&&a[o-l]===f[m-l];l++);return pi=f.slice(n,1<l?1-l:void 0)}function Lr(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Ur(){return!0}function bl(){return!1}function Qt(n){function a(o,l,f,m,b){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(o=n[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ur:bl,this.isPropagationStopped=bl,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),a}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Qt(Je),es=_({},Je,{view:0,detail:0}),pc=Qt(es),Qs,Ks,zr,ts=_({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zr&&(zr&&n.type==="mousemove"?(Qs=n.screenX-zr.screenX,Ks=n.screenY-zr.screenY):Ks=Qs=0,zr=n),Qs)},movementY:function(n){return"movementY"in n?n.movementY:Ks}}),tr=Qt(ts),yc=_({},ts,{dataTransfer:0}),cd=Qt(yc),ns=_({},es,{relatedTarget:0}),Xs=Qt(ns),Tl=_({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),Ws=Qt(Tl),vc=_({},Je,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Zs=Qt(vc),hd=_({},Je,{data:0}),Sl=Qt(hd),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Ec[n])?!!a[n]:!1}function is(){return wl}var bc=_({},es,{key:function(n){if(n.key){var a=rs[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Lr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_c[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(n){return n.type==="keypress"?Lr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Lr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Js=Qt(bc),Tc=_({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=Qt(Tc),yi=_({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),Sc=Qt(yi),wc=_({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ac=Qt(wc),Rc=_({},ts,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),eo=Qt(Rc),xn=_({},Je,{newState:0,oldState:0}),xc=Qt(xn),Ic=[9,13,27,32],Br=yr&&"CompositionEvent"in window,c=null;yr&&"documentMode"in document&&(c=document.documentMode);var y=yr&&"TextEvent"in window&&!c,E=yr&&(!Br||c&&8<c&&11>=c),A=" ",F=!1;function W(n,a){switch(n){case"keyup":return Ic.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qe=!1;function Bt(n,a){switch(n){case"compositionend":return de(a);case"keypress":return a.which!==32?null:(F=!0,A);case"textInput":return n=a.data,n===A&&F?null:n;default:return null}}function He(n,a){if(qe)return n==="compositionend"||!Br&&W(n,a)?(n=El(),pi=Qi=jr=null,qe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Kt[n.type]:a==="textarea"}function vi(n,a,o,l){mi?gi?gi.push(l):gi=[l]:mi=l,a=mh(a,"onChange"),0<a.length&&(o=new $s("onChange","change",null,o,l),n.push({event:o,listeners:a}))}var ln=null,qr=null;function Rl(n){h0(n,0)}function Cc(n){var a=Ce(n);if(pl(a))return n}function Oy(n,a){if(n==="change")return a}var My=!1;if(yr){var fd;if(yr){var dd="oninput"in document;if(!dd){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),dd=typeof Vy.oninput=="function"}fd=dd}else fd=!1;My=fd&&(!document.documentMode||9<document.documentMode)}function Py(){ln&&(ln.detachEvent("onpropertychange",ky),qr=ln=null)}function ky(n){if(n.propertyName==="value"&&Cc(qr)){var a=[];vi(a,qr,n,Jn(n)),gc(Rl,a)}}function RA(n,a,o){n==="focusin"?(Py(),ln=a,qr=o,ln.attachEvent("onpropertychange",ky)):n==="focusout"&&Py()}function xA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cc(qr)}function IA(n,a){if(n==="click")return Cc(a)}function CA(n,a){if(n==="input"||n==="change")return Cc(a)}function NA(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var jn=typeof Object.is=="function"?Object.is:NA;function xl(n,a){if(jn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var o=Object.keys(n),l=Object.keys(a);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!Yt.call(a,f)||!jn(n[f],a[f]))return!1}return!0}function jy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ly(n,a){var o=jy(n);n=0;for(var l;o;){if(o.nodeType===3){if(l=n+o.textContent.length,n<=a&&l>=a)return{node:o,offset:a-n};n=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jy(o)}}function Uy(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Uy(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function zy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Qa(n.document);a instanceof n.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)n=a.contentWindow;else break;a=Qa(n.document)}return a}function md(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var DA=yr&&"documentMode"in document&&11>=document.documentMode,to=null,gd=null,Il=null,pd=!1;function By(n,a,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pd||to==null||to!==Qa(l)||(l=to,"selectionStart"in l&&md(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Il&&xl(Il,l)||(Il=l,l=mh(gd,"onSelect"),0<l.length&&(a=new $s("onSelect","select",null,a,o),n.push({event:a,listeners:l}),a.target=to)))}function as(n,a){var o={};return o[n.toLowerCase()]=a.toLowerCase(),o["Webkit"+n]="webkit"+a,o["Moz"+n]="moz"+a,o}var no={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},yd={},qy={};yr&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function ss(n){if(yd[n])return yd[n];if(!no[n])return n;var a=no[n],o;for(o in a)if(a.hasOwnProperty(o)&&o in qy)return yd[n]=a[o];return n}var Hy=ss("animationend"),Fy=ss("animationiteration"),Gy=ss("animationstart"),OA=ss("transitionrun"),MA=ss("transitionstart"),VA=ss("transitioncancel"),Yy=ss("transitionend"),$y=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function vr(n,a){$y.set(n,a),An(a,[n])}var Qy=new WeakMap;function nr(n,a){if(typeof n=="object"&&n!==null){var o=Qy.get(n);return o!==void 0?o:(a={value:n,source:a,stack:Fs(a)},Qy.set(n,a),a)}return{value:n,source:a,stack:Fs(a)}}var rr=[],ro=0,_d=0;function Nc(){for(var n=ro,a=_d=ro=0;a<n;){var o=rr[a];rr[a++]=null;var l=rr[a];rr[a++]=null;var f=rr[a];rr[a++]=null;var m=rr[a];if(rr[a++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}m!==0&&Ky(o,f,m)}}function Dc(n,a,o,l){rr[ro++]=n,rr[ro++]=a,rr[ro++]=o,rr[ro++]=l,_d|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Ed(n,a,o,l){return Dc(n,a,o,l),Oc(n)}function io(n,a){return Dc(n,null,null,a),Oc(n)}function Ky(n,a,o){n.lanes|=o;var l=n.alternate;l!==null&&(l.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&a!==null&&(f=31-Ot(o),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[a]:l.push(a),a.lane=o|536870912),m):null}function Oc(n){if(50<Jl)throw Jl=0,Rm=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var ao={};function PA(n,a,o,l){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(n,a,o,l){return new PA(n,a,o,l)}function bd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _i(n,a){var o=n.alternate;return o===null?(o=Ln(n.tag,a,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=a,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,a=n.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Xy(n,a){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,a=o.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Mc(n,a,o,l,f,m){var b=0;if(l=n,typeof n=="function")bd(n)&&(b=1);else if(typeof n=="string")b=j1(n,o,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case N:return n=Ln(31,o,a,f),n.elementType=N,n.lanes=m,n;case j:return os(o.children,f,m,a);case V:b=8,f|=24;break;case L:return n=Ln(12,o,a,f|2),n.elementType=L,n.lanes=m,n;case te:return n=Ln(13,o,a,f),n.elementType=te,n.lanes=m,n;case pe:return n=Ln(19,o,a,f),n.elementType=pe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:case ee:b=10;break e;case J:b=9;break e;case ie:b=11;break e;case U:b=14;break e;case x:b=16,l=null;break e}b=29,o=Error(i(130,n===null?"null":typeof n,"")),l=null}return a=Ln(b,o,a,f),a.elementType=n,a.type=l,a.lanes=m,a}function os(n,a,o,l){return n=Ln(7,n,l,a),n.lanes=o,n}function Td(n,a,o){return n=Ln(6,n,null,a),n.lanes=o,n}function Sd(n,a,o){return a=Ln(4,n.children!==null?n.children:[],n.key,a),a.lanes=o,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var so=[],oo=0,Vc=null,Pc=0,ir=[],ar=0,ls=null,Ei=1,bi="";function us(n,a){so[oo++]=Pc,so[oo++]=Vc,Vc=n,Pc=a}function Wy(n,a,o){ir[ar++]=Ei,ir[ar++]=bi,ir[ar++]=ls,ls=n;var l=Ei;n=bi;var f=32-Ot(l)-1;l&=~(1<<f),o+=1;var m=32-Ot(a)+f;if(30<m){var b=f-f%5;m=(l&(1<<b)-1).toString(32),l>>=b,f-=b,Ei=1<<32-Ot(a)+f|o<<f|l,bi=m+n}else Ei=1<<m|o<<f|l,bi=n}function wd(n){n.return!==null&&(us(n,1),Wy(n,1,0))}function Ad(n){for(;n===Vc;)Vc=so[--oo],so[oo]=null,Pc=so[--oo],so[oo]=null;for(;n===ls;)ls=ir[--ar],ir[ar]=null,bi=ir[--ar],ir[ar]=null,Ei=ir[--ar],ir[ar]=null}var In=null,Rt=null,We=!1,cs=null,Hr=!1,Rd=Error(i(519));function hs(n){var a=Error(i(418,""));throw Dl(nr(a,n)),Rd}function Zy(n){var a=n.stateNode,o=n.type,l=n.memoizedProps;switch(a[At]=n,a[pt]=l,o){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(o=0;o<tu.length;o++)Le(tu[o],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),Ka(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Gs(a);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),Xa(a,l.value,l.defaultValue,l.children),Gs(a)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||l.suppressHydrationWarning===!0||g0(a.textContent,o)?(l.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),l.onScroll!=null&&Le("scroll",a),l.onScrollEnd!=null&&Le("scrollend",a),l.onClick!=null&&(a.onclick=gh),a=!0):a=!1,a||hs(n)}function Jy(n){for(In=n.return;In;)switch(In.tag){case 5:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:In=In.return}}function Cl(n){if(n!==In)return!1;if(!We)return Jy(n),We=!0,!1;var a=n.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||qm(n.type,n.memoizedProps)),o=!o),o&&Rt&&hs(n),Jy(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(a===0){Rt=Er(n.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;n=n.nextSibling}Rt=null}}else a===27?(a=Rt,ca(n.type)?(n=Ym,Ym=null,Rt=n):Rt=a):Rt=In?Er(n.stateNode.nextSibling):null;return!0}function Nl(){Rt=In=null,We=!1}function ev(){var n=cs;return n!==null&&(On===null?On=n:On.push.apply(On,n),cs=null),n}function Dl(n){cs===null?cs=[n]:cs.push(n)}var xd=X(null),fs=null,Ti=null;function Ki(n,a,o){se(xd,a._currentValue),a._currentValue=o}function Si(n){n._currentValue=xd.current,ce(xd)}function Id(n,a,o){for(;n!==null;){var l=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),n===o)break;n=n.return}}function Cd(n,a,o,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var D=0;D<a.length;D++)if(w.context===a[D]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),Id(m.return,o,n),l||(b=null);break e}m=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=o,m=b.alternate,m!==null&&(m.lanes|=o),Id(b,o,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ol(n,a,o,l){n=null;for(var f=a,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=f.type;jn(f.pendingProps.value,b.value)||(n!==null?n.push(w):n=[w])}}else if(f===$e.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ou):n=[ou])}f=f.return}n!==null&&Cd(a,n,o,l),a.flags|=262144}function kc(n){for(n=n.firstContext;n!==null;){if(!jn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ds(n){fs=n,Ti=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function vn(n){return tv(fs,n)}function jc(n,a){return fs===null&&ds(n),tv(n,a)}function tv(n,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Ti===null){if(n===null)throw Error(i(308));Ti=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Ti=Ti.next=a;return o}var kA=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(o,l){n.push(l)}};this.abort=function(){a.aborted=!0,n.forEach(function(o){return o()})}},jA=r.unstable_scheduleCallback,LA=r.unstable_NormalPriority,Ht={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new kA,data:new Map,refCount:0}}function Ml(n){n.refCount--,n.refCount===0&&jA(LA,function(){n.controller.abort()})}var Vl=null,Dd=0,lo=0,uo=null;function UA(n,a){if(Vl===null){var o=Vl=[];Dd=0,lo=Mm(),uo={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Dd++,a.then(nv,nv),a}function nv(){if(--Dd===0&&Vl!==null){uo!==null&&(uo.status="fulfilled");var n=Vl;Vl=null,lo=0,uo=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function zA(n,a){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){l.status="fulfilled",l.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var rv=P.S;P.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&UA(n,a),rv!==null&&rv(n,a)};var ms=X(null);function Od(){var n=ms.current;return n!==null?n:dt.pooledCache}function Lc(n,a){a===null?se(ms,ms.current):se(ms,a.pool)}function iv(){var n=Od();return n===null?null:{parent:Ht._currentValue,pool:n}}var Pl=Error(i(460)),av=Error(i(474)),Uc=Error(i(542)),Md={then:function(){}};function sv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function zc(){}function ov(n,a,o){switch(o=n[o],o===void 0?n.push(a):o!==a&&(a.then(zc,zc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,uv(n),n;default:if(typeof a.status=="string")a.then(zc,zc);else{if(n=dt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(l){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=l}},function(l){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,uv(n),n}throw kl=a,Pl}}var kl=null;function lv(){if(kl===null)throw Error(i(459));var n=kl;return kl=null,n}function uv(n){if(n===Pl||n===Uc)throw Error(i(483))}var Xi=!1;function Vd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Wi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zi(n,a,o){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var f=l.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a,a=Oc(n),Ky(n,null,o),a}return Dc(n,l,a,o),Oc(n)}function jl(n,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var l=a.lanes;l&=n.pendingLanes,o|=l,a.lanes=o,Mr(n,o)}}function kd(n,a){var o=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,o=o.next}while(o!==null);m===null?f=m=a:m=m.next=a}else f=m=a;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=a:n.next=a,o.lastBaseUpdate=a}var jd=!1;function Ll(){if(jd){var n=uo;if(n!==null)throw n}}function Ul(n,a,o,l){jd=!1;var f=n.updateQueue;Xi=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,Y=D.next;D.next=null,b===null?m=Y:b.next=Y,b=D;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==b&&(w===null?ne.firstBaseUpdate=Y:w.next=Y,ne.lastBaseUpdate=D))}if(m!==null){var oe=f.baseState;b=0,ne=Y=D=null,w=m;do{var $=w.lane&-536870913,Q=$!==w.lane;if(Q?(Fe&$)===$:(l&$)===$){$!==0&&$===lo&&(jd=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ie=n,we=w;$=a;var st=o;switch(we.tag){case 1:if(Ie=we.payload,typeof Ie=="function"){oe=Ie.call(st,oe,$);break e}oe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=we.payload,$=typeof Ie=="function"?Ie.call(st,oe,$):Ie,$==null)break e;oe=_({},oe,$);break e;case 2:Xi=!0}}$=w.callback,$!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?(Y=ne=Q,D=oe):ne=ne.next=Q,b|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);ne===null&&(D=oe),f.baseState=D,f.firstBaseUpdate=Y,f.lastBaseUpdate=ne,m===null&&(f.shared.lanes=0),sa|=b,n.lanes=b,n.memoizedState=oe}}function cv(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function hv(n,a){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)cv(o[n],a)}var co=X(null),Bc=X(0);function fv(n,a){n=Ni,se(Bc,n),se(co,a),Ni=n|a.baseLanes}function Ld(){se(Bc,Ni),se(co,co.current)}function Ud(){Ni=Bc.current,ce(co),ce(Bc)}var Ji=0,Me=null,it=null,Pt=null,qc=!1,ho=!1,gs=!1,Hc=0,zl=0,fo=null,BA=0;function Ct(){throw Error(i(321))}function zd(n,a){if(a===null)return!1;for(var o=0;o<a.length&&o<n.length;o++)if(!jn(n[o],a[o]))return!1;return!0}function Bd(n,a,o,l,f,m){return Ji=m,Me=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=n===null||n.memoizedState===null?Kv:Xv,gs=!1,m=o(l,f),gs=!1,ho&&(m=mv(a,o,l,f)),dv(n),m}function dv(n){P.H=Kc;var a=it!==null&&it.next!==null;if(Ji=0,Pt=it=Me=null,qc=!1,zl=0,fo=null,a)throw Error(i(300));n===null||Xt||(n=n.dependencies,n!==null&&kc(n)&&(Xt=!0))}function mv(n,a,o,l){Me=n;var f=0;do{if(ho&&(fo=null),zl=0,ho=!1,25<=f)throw Error(i(301));if(f+=1,Pt=it=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}P.H=QA,m=a(o,l)}while(ho);return m}function qA(){var n=P.H,a=n.useState()[0];return a=typeof a.then=="function"?Bl(a):a,n=n.useState()[0],(it!==null?it.memoizedState:null)!==n&&(Me.flags|=1024),a}function qd(){var n=Hc!==0;return Hc=0,n}function Hd(n,a,o){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~o}function Fd(n){if(qc){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}qc=!1}Ji=0,Pt=it=Me=null,ho=!1,zl=Hc=0,fo=null}function Nn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Me.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function kt(){if(it===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var a=Pt===null?Me.memoizedState:Pt.next;if(a!==null)Pt=a,it=n;else{if(n===null)throw Me.alternate===null?Error(i(467)):Error(i(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Pt===null?Me.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function Gd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(n){var a=zl;return zl+=1,fo===null&&(fo=[]),n=ov(fo,n,a),a=Me,(Pt===null?a.memoizedState:Pt.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?Kv:Xv),n}function Fc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bl(n);if(n.$$typeof===ee)return vn(n)}throw Error(i(438,String(n)))}function Yd(n){var a=null,o=Me.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Gd(),Me.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(n),l=0;l<n;l++)o[l]=O;return a.index++,o}function wi(n,a){return typeof a=="function"?a(n):a}function Gc(n){var a=kt();return $d(a,it,n)}function $d(n,a,o){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}a.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{a=f.next;var w=b=null,D=null,Y=a,ne=!1;do{var oe=Y.lane&-536870913;if(oe!==Y.lane?(Fe&oe)===oe:(Ji&oe)===oe){var $=Y.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),oe===lo&&(ne=!0);else if((Ji&$)===$){Y=Y.next,$===lo&&(ne=!0);continue}else oe={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(w=D=oe,b=m):D=D.next=oe,Me.lanes|=$,sa|=$;oe=Y.action,gs&&o(m,oe),m=Y.hasEagerState?Y.eagerState:o(m,oe)}else $={lane:oe,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(w=D=$,b=m):D=D.next=$,Me.lanes|=oe,sa|=oe;Y=Y.next}while(Y!==null&&Y!==a);if(D===null?b=m:D.next=w,!jn(m,n.memoizedState)&&(Xt=!0,ne&&(o=uo,o!==null)))throw o;n.memoizedState=m,n.baseState=b,n.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Qd(n){var a=kt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var l=o.dispatch,f=o.pending,m=a.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do m=n(m,b.action),b=b.next;while(b!==f);jn(m,a.memoizedState)||(Xt=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),o.lastRenderedState=m}return[m,l]}function gv(n,a,o){var l=Me,f=kt(),m=We;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=a();var b=!jn((it||f).memoizedState,o);b&&(f.memoizedState=o,Xt=!0),f=f.queue;var w=vv.bind(null,l,f,n);if(ql(2048,8,w,[n]),f.getSnapshot!==a||b||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,mo(9,Yc(),yv.bind(null,l,f,o,a),null),dt===null)throw Error(i(349));m||(Ji&124)!==0||pv(l,a,o)}return o}function pv(n,a,o){n.flags|=16384,n={getSnapshot:a,value:o},a=Me.updateQueue,a===null?(a=Gd(),Me.updateQueue=a,a.stores=[n]):(o=a.stores,o===null?a.stores=[n]:o.push(n))}function yv(n,a,o,l){a.value=o,a.getSnapshot=l,_v(a)&&Ev(n)}function vv(n,a,o){return o(function(){_v(a)&&Ev(n)})}function _v(n){var a=n.getSnapshot;n=n.value;try{var o=a();return!jn(n,o)}catch{return!0}}function Ev(n){var a=io(n,2);a!==null&&Hn(a,n,2)}function Kd(n){var a=Nn();if(typeof n=="function"){var o=n;if(n=o(),gs){wn(!0);try{o()}finally{wn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:n},a}function bv(n,a,o,l){return n.baseState=o,$d(n,it,typeof l=="function"?l:wi)}function HA(n,a,o,l,f){if(Qc(n))throw Error(i(485));if(n=a.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};P.T!==null?o(!0):m.isTransition=!1,l(m),o=a.pending,o===null?(m.next=a.pending=m,Tv(a,m)):(m.next=o.next,a.pending=o.next=m)}}function Tv(n,a){var o=a.action,l=a.payload,f=n.state;if(a.isTransition){var m=P.T,b={};P.T=b;try{var w=o(f,l),D=P.S;D!==null&&D(b,w),Sv(n,a,w)}catch(Y){Xd(n,a,Y)}finally{P.T=m}}else try{m=o(f,l),Sv(n,a,m)}catch(Y){Xd(n,a,Y)}}function Sv(n,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){wv(n,a,l)},function(l){return Xd(n,a,l)}):wv(n,a,o)}function wv(n,a,o){a.status="fulfilled",a.value=o,Av(a),n.state=o,a=n.pending,a!==null&&(o=a.next,o===a?n.pending=null:(o=o.next,a.next=o,Tv(n,o)))}function Xd(n,a,o){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=o,Av(a),a=a.next;while(a!==l)}n.action=null}function Av(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Rv(n,a){return a}function xv(n,a){if(We){var o=dt.formState;if(o!==null){e:{var l=Me;if(We){if(Rt){t:{for(var f=Rt,m=Hr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Er(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Rt=Er(f.nextSibling),l=f.data==="F!";break e}}hs(l)}l=!1}l&&(a=o[0])}}return o=Nn(),o.memoizedState=o.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rv,lastRenderedState:a},o.queue=l,o=Yv.bind(null,Me,l),l.dispatch=o,l=Kd(!1),m=tm.bind(null,Me,!1,l.queue),l=Nn(),f={state:a,dispatch:null,action:n,pending:null},l.queue=f,o=HA.bind(null,Me,f,m,o),f.dispatch=o,l.memoizedState=n,[a,o,!1]}function Iv(n){var a=kt();return Cv(a,it,n)}function Cv(n,a,o){if(a=$d(n,a,Rv)[0],n=Gc(wi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Bl(a)}catch(b){throw b===Pl?Uc:b}else l=a;a=kt();var f=a.queue,m=f.dispatch;return o!==a.memoizedState&&(Me.flags|=2048,mo(9,Yc(),FA.bind(null,f,o),null)),[l,m,n]}function FA(n,a){n.action=a}function Nv(n){var a=kt(),o=it;if(o!==null)return Cv(a,o,n);kt(),a=a.memoizedState,o=kt();var l=o.queue.dispatch;return o.memoizedState=n,[a,l,!1]}function mo(n,a,o,l){return n={tag:n,create:o,deps:l,inst:a,next:null},a=Me.updateQueue,a===null&&(a=Gd(),Me.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=n.next=n:(l=o.next,o.next=n,n.next=l,a.lastEffect=n),n}function Yc(){return{destroy:void 0,resource:void 0}}function Dv(){return kt().memoizedState}function $c(n,a,o,l){var f=Nn();l=l===void 0?null:l,Me.flags|=n,f.memoizedState=mo(1|a,Yc(),o,l)}function ql(n,a,o,l){var f=kt();l=l===void 0?null:l;var m=f.memoizedState.inst;it!==null&&l!==null&&zd(l,it.memoizedState.deps)?f.memoizedState=mo(a,m,o,l):(Me.flags|=n,f.memoizedState=mo(1|a,m,o,l))}function Ov(n,a){$c(8390656,8,n,a)}function Mv(n,a){ql(2048,8,n,a)}function Vv(n,a){return ql(4,2,n,a)}function Pv(n,a){return ql(4,4,n,a)}function kv(n,a){if(typeof a=="function"){n=n();var o=a(n);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function jv(n,a,o){o=o!=null?o.concat([n]):null,ql(4,4,kv.bind(null,a,n),o)}function Wd(){}function Lv(n,a){var o=kt();a=a===void 0?null:a;var l=o.memoizedState;return a!==null&&zd(a,l[1])?l[0]:(o.memoizedState=[n,a],n)}function Uv(n,a){var o=kt();a=a===void 0?null:a;var l=o.memoizedState;if(a!==null&&zd(a,l[1]))return l[0];if(l=n(),gs){wn(!0);try{n()}finally{wn(!1)}}return o.memoizedState=[l,a],l}function Zd(n,a,o){return o===void 0||(Ji&1073741824)!==0?n.memoizedState=a:(n.memoizedState=o,n=q_(),Me.lanes|=n,sa|=n,o)}function zv(n,a,o,l){return jn(o,a)?o:co.current!==null?(n=Zd(n,o,l),jn(n,a)||(Xt=!0),n):(Ji&42)===0?(Xt=!0,n.memoizedState=o):(n=q_(),Me.lanes|=n,sa|=n,a)}function Bv(n,a,o,l,f){var m=K.p;K.p=m!==0&&8>m?m:8;var b=P.T,w={};P.T=w,tm(n,!1,a,o);try{var D=f(),Y=P.S;if(Y!==null&&Y(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ne=zA(D,l);Hl(n,a,ne,qn(n))}else Hl(n,a,l,qn(n))}catch(oe){Hl(n,a,{then:function(){},status:"rejected",reason:oe},qn())}finally{K.p=m,P.T=b}}function GA(){}function Jd(n,a,o,l){if(n.tag!==5)throw Error(i(476));var f=qv(n).queue;Bv(n,f,a,Z,o===null?GA:function(){return Hv(n),o(l)})}function qv(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:Z},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:o},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Hv(n){var a=qv(n).next.queue;Hl(n,a,{},qn())}function em(){return vn(ou)}function Fv(){return kt().memoizedState}function Gv(){return kt().memoizedState}function YA(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var o=qn();n=Wi(o);var l=Zi(a,n,o);l!==null&&(Hn(l,a,o),jl(l,a,o)),a={cache:Nd()},n.payload=a;return}a=a.return}}function $A(n,a,o){var l=qn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Qc(n)?$v(a,o):(o=Ed(n,a,o,l),o!==null&&(Hn(o,n,l),Qv(o,a,l)))}function Yv(n,a,o){var l=qn();Hl(n,a,o,l)}function Hl(n,a,o,l){var f={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Qc(n))$v(a,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var b=a.lastRenderedState,w=m(b,o);if(f.hasEagerState=!0,f.eagerState=w,jn(w,b))return Dc(n,a,f,0),dt===null&&Nc(),!1}catch{}finally{}if(o=Ed(n,a,f,l),o!==null)return Hn(o,n,l),Qv(o,a,l),!0}return!1}function tm(n,a,o,l){if(l={lane:2,revertLane:Mm(),action:l,hasEagerState:!1,eagerState:null,next:null},Qc(n)){if(a)throw Error(i(479))}else a=Ed(n,o,l,2),a!==null&&Hn(a,n,2)}function Qc(n){var a=n.alternate;return n===Me||a!==null&&a===Me}function $v(n,a){ho=qc=!0;var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}function Qv(n,a,o){if((o&4194048)!==0){var l=a.lanes;l&=n.pendingLanes,o|=l,a.lanes=o,Mr(n,o)}}var Kc={readContext:vn,use:Fc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},Kv={readContext:vn,use:Fc,useCallback:function(n,a){return Nn().memoizedState=[n,a===void 0?null:a],n},useContext:vn,useEffect:Ov,useImperativeHandle:function(n,a,o){o=o!=null?o.concat([n]):null,$c(4194308,4,kv.bind(null,a,n),o)},useLayoutEffect:function(n,a){return $c(4194308,4,n,a)},useInsertionEffect:function(n,a){$c(4,2,n,a)},useMemo:function(n,a){var o=Nn();a=a===void 0?null:a;var l=n();if(gs){wn(!0);try{n()}finally{wn(!1)}}return o.memoizedState=[l,a],l},useReducer:function(n,a,o){var l=Nn();if(o!==void 0){var f=o(a);if(gs){wn(!0);try{o(a)}finally{wn(!1)}}}else f=a;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=$A.bind(null,Me,n),[l.memoizedState,n]},useRef:function(n){var a=Nn();return n={current:n},a.memoizedState=n},useState:function(n){n=Kd(n);var a=n.queue,o=Yv.bind(null,Me,a);return a.dispatch=o,[n.memoizedState,o]},useDebugValue:Wd,useDeferredValue:function(n,a){var o=Nn();return Zd(o,n,a)},useTransition:function(){var n=Kd(!1);return n=Bv.bind(null,Me,n.queue,!0,!1),Nn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,o){var l=Me,f=Nn();if(We){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),dt===null)throw Error(i(349));(Fe&124)!==0||pv(l,a,o)}f.memoizedState=o;var m={value:o,getSnapshot:a};return f.queue=m,Ov(vv.bind(null,l,m,n),[n]),l.flags|=2048,mo(9,Yc(),yv.bind(null,l,m,o,a),null),o},useId:function(){var n=Nn(),a=dt.identifierPrefix;if(We){var o=bi,l=Ei;o=(l&~(1<<32-Ot(l)-1)).toString(32)+o,a="«"+a+"R"+o,o=Hc++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=BA++,a="«"+a+"r"+o.toString(32)+"»";return n.memoizedState=a},useHostTransitionStatus:em,useFormState:xv,useActionState:xv,useOptimistic:function(n){var a=Nn();a.memoizedState=a.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=tm.bind(null,Me,!0,o),o.dispatch=a,[n,a]},useMemoCache:Yd,useCacheRefresh:function(){return Nn().memoizedState=YA.bind(null,Me)}},Xv={readContext:vn,use:Fc,useCallback:Lv,useContext:vn,useEffect:Mv,useImperativeHandle:jv,useInsertionEffect:Vv,useLayoutEffect:Pv,useMemo:Uv,useReducer:Gc,useRef:Dv,useState:function(){return Gc(wi)},useDebugValue:Wd,useDeferredValue:function(n,a){var o=kt();return zv(o,it.memoizedState,n,a)},useTransition:function(){var n=Gc(wi)[0],a=kt().memoizedState;return[typeof n=="boolean"?n:Bl(n),a]},useSyncExternalStore:gv,useId:Fv,useHostTransitionStatus:em,useFormState:Iv,useActionState:Iv,useOptimistic:function(n,a){var o=kt();return bv(o,it,n,a)},useMemoCache:Yd,useCacheRefresh:Gv},QA={readContext:vn,use:Fc,useCallback:Lv,useContext:vn,useEffect:Mv,useImperativeHandle:jv,useInsertionEffect:Vv,useLayoutEffect:Pv,useMemo:Uv,useReducer:Qd,useRef:Dv,useState:function(){return Qd(wi)},useDebugValue:Wd,useDeferredValue:function(n,a){var o=kt();return it===null?Zd(o,n,a):zv(o,it.memoizedState,n,a)},useTransition:function(){var n=Qd(wi)[0],a=kt().memoizedState;return[typeof n=="boolean"?n:Bl(n),a]},useSyncExternalStore:gv,useId:Fv,useHostTransitionStatus:em,useFormState:Nv,useActionState:Nv,useOptimistic:function(n,a){var o=kt();return it!==null?bv(o,it,n,a):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Yd,useCacheRefresh:Gv},go=null,Fl=0;function Xc(n){var a=Fl;return Fl+=1,go===null&&(go=[]),ov(go,n,a)}function Gl(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Wc(n,a){throw a.$$typeof===T?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Wv(n){var a=n._init;return a(n._payload)}function Zv(n){function a(H,B){if(n){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function o(H,B){if(!n)return null;for(;B!==null;)a(H,B),B=B.sibling;return null}function l(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=_i(H,B),H.index=0,H.sibling=null,H}function m(H,B,G){return H.index=G,n?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=67108866,B):G):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function b(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function w(H,B,G,ae){return B===null||B.tag!==6?(B=Td(G,H.mode,ae),B.return=H,B):(B=f(B,G),B.return=H,B)}function D(H,B,G,ae){var ve=G.type;return ve===j?ne(H,B,G.props.children,ae,G.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&Wv(ve)===B.type)?(B=f(B,G.props),Gl(B,G),B.return=H,B):(B=Mc(G.type,G.key,G.props,null,H.mode,ae),Gl(B,G),B.return=H,B)}function Y(H,B,G,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Sd(G,H.mode,ae),B.return=H,B):(B=f(B,G.children||[]),B.return=H,B)}function ne(H,B,G,ae,ve){return B===null||B.tag!==7?(B=os(G,H.mode,ae,ve),B.return=H,B):(B=f(B,G),B.return=H,B)}function oe(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Td(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return G=Mc(B.type,B.key,B.props,null,H.mode,G),Gl(G,B),G.return=H,G;case C:return B=Sd(B,H.mode,G),B.return=H,B;case x:var ae=B._init;return B=ae(B._payload),oe(H,B,G)}if(ue(B)||q(B))return B=os(B,H.mode,G,null),B.return=H,B;if(typeof B.then=="function")return oe(H,Xc(B),G);if(B.$$typeof===ee)return oe(H,jc(H,B),G);Wc(H,B)}return null}function $(H,B,G,ae){var ve=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:w(H,B,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===ve?D(H,B,G,ae):null;case C:return G.key===ve?Y(H,B,G,ae):null;case x:return ve=G._init,G=ve(G._payload),$(H,B,G,ae)}if(ue(G)||q(G))return ve!==null?null:ne(H,B,G,ae,null);if(typeof G.then=="function")return $(H,B,Xc(G),ae);if(G.$$typeof===ee)return $(H,B,jc(H,G),ae);Wc(H,G)}return null}function Q(H,B,G,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return H=H.get(G)||null,w(B,H,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case S:return H=H.get(ae.key===null?G:ae.key)||null,D(B,H,ae,ve);case C:return H=H.get(ae.key===null?G:ae.key)||null,Y(B,H,ae,ve);case x:var ke=ae._init;return ae=ke(ae._payload),Q(H,B,G,ae,ve)}if(ue(ae)||q(ae))return H=H.get(G)||null,ne(B,H,ae,ve,null);if(typeof ae.then=="function")return Q(H,B,G,Xc(ae),ve);if(ae.$$typeof===ee)return Q(H,B,G,jc(B,ae),ve);Wc(B,ae)}return null}function Ie(H,B,G,ae){for(var ve=null,ke=null,Ee=B,Ae=B=0,Zt=null;Ee!==null&&Ae<G.length;Ae++){Ee.index>Ae?(Zt=Ee,Ee=null):Zt=Ee.sibling;var Ke=$(H,Ee,G[Ae],ae);if(Ke===null){Ee===null&&(Ee=Zt);break}n&&Ee&&Ke.alternate===null&&a(H,Ee),B=m(Ke,B,Ae),ke===null?ve=Ke:ke.sibling=Ke,ke=Ke,Ee=Zt}if(Ae===G.length)return o(H,Ee),We&&us(H,Ae),ve;if(Ee===null){for(;Ae<G.length;Ae++)Ee=oe(H,G[Ae],ae),Ee!==null&&(B=m(Ee,B,Ae),ke===null?ve=Ee:ke.sibling=Ee,ke=Ee);return We&&us(H,Ae),ve}for(Ee=l(Ee);Ae<G.length;Ae++)Zt=Q(Ee,H,Ae,G[Ae],ae),Zt!==null&&(n&&Zt.alternate!==null&&Ee.delete(Zt.key===null?Ae:Zt.key),B=m(Zt,B,Ae),ke===null?ve=Zt:ke.sibling=Zt,ke=Zt);return n&&Ee.forEach(function(ga){return a(H,ga)}),We&&us(H,Ae),ve}function we(H,B,G,ae){if(G==null)throw Error(i(151));for(var ve=null,ke=null,Ee=B,Ae=B=0,Zt=null,Ke=G.next();Ee!==null&&!Ke.done;Ae++,Ke=G.next()){Ee.index>Ae?(Zt=Ee,Ee=null):Zt=Ee.sibling;var ga=$(H,Ee,Ke.value,ae);if(ga===null){Ee===null&&(Ee=Zt);break}n&&Ee&&ga.alternate===null&&a(H,Ee),B=m(ga,B,Ae),ke===null?ve=ga:ke.sibling=ga,ke=ga,Ee=Zt}if(Ke.done)return o(H,Ee),We&&us(H,Ae),ve;if(Ee===null){for(;!Ke.done;Ae++,Ke=G.next())Ke=oe(H,Ke.value,ae),Ke!==null&&(B=m(Ke,B,Ae),ke===null?ve=Ke:ke.sibling=Ke,ke=Ke);return We&&us(H,Ae),ve}for(Ee=l(Ee);!Ke.done;Ae++,Ke=G.next())Ke=Q(Ee,H,Ae,Ke.value,ae),Ke!==null&&(n&&Ke.alternate!==null&&Ee.delete(Ke.key===null?Ae:Ke.key),B=m(Ke,B,Ae),ke===null?ve=Ke:ke.sibling=Ke,ke=Ke);return n&&Ee.forEach(function(K1){return a(H,K1)}),We&&us(H,Ae),ve}function st(H,B,G,ae){if(typeof G=="object"&&G!==null&&G.type===j&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:e:{for(var ve=G.key;B!==null;){if(B.key===ve){if(ve=G.type,ve===j){if(B.tag===7){o(H,B.sibling),ae=f(B,G.props.children),ae.return=H,H=ae;break e}}else if(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&Wv(ve)===B.type){o(H,B.sibling),ae=f(B,G.props),Gl(ae,G),ae.return=H,H=ae;break e}o(H,B);break}else a(H,B);B=B.sibling}G.type===j?(ae=os(G.props.children,H.mode,ae,G.key),ae.return=H,H=ae):(ae=Mc(G.type,G.key,G.props,null,H.mode,ae),Gl(ae,G),ae.return=H,H=ae)}return b(H);case C:e:{for(ve=G.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){o(H,B.sibling),ae=f(B,G.children||[]),ae.return=H,H=ae;break e}else{o(H,B);break}else a(H,B);B=B.sibling}ae=Sd(G,H.mode,ae),ae.return=H,H=ae}return b(H);case x:return ve=G._init,G=ve(G._payload),st(H,B,G,ae)}if(ue(G))return Ie(H,B,G,ae);if(q(G)){if(ve=q(G),typeof ve!="function")throw Error(i(150));return G=ve.call(G),we(H,B,G,ae)}if(typeof G.then=="function")return st(H,B,Xc(G),ae);if(G.$$typeof===ee)return st(H,B,jc(H,G),ae);Wc(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(o(H,B.sibling),ae=f(B,G),ae.return=H,H=ae):(o(H,B),ae=Td(G,H.mode,ae),ae.return=H,H=ae),b(H)):o(H,B)}return function(H,B,G,ae){try{Fl=0;var ve=st(H,B,G,ae);return go=null,ve}catch(Ee){if(Ee===Pl||Ee===Uc)throw Ee;var ke=Ln(29,Ee,null,H.mode);return ke.lanes=ae,ke.return=H,ke}finally{}}}var po=Zv(!0),Jv=Zv(!1),sr=X(null),Fr=null;function ea(n){var a=n.alternate;se(Ft,Ft.current&1),se(sr,n),Fr===null&&(a===null||co.current!==null||a.memoizedState!==null)&&(Fr=n)}function e_(n){if(n.tag===22){if(se(Ft,Ft.current),se(sr,n),Fr===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(Fr=n)}}else ta()}function ta(){se(Ft,Ft.current),se(sr,sr.current)}function Ai(n){ce(sr),Fr===n&&(Fr=null),ce(Ft)}var Ft=X(0);function Zc(n){for(var a=n;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Gm(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function nm(n,a,o,l){a=n.memoizedState,o=o(l,a),o=o==null?a:_({},a,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var rm={enqueueSetState:function(n,a,o){n=n._reactInternals;var l=qn(),f=Wi(l);f.payload=a,o!=null&&(f.callback=o),a=Zi(n,f,l),a!==null&&(Hn(a,n,l),jl(a,n,l))},enqueueReplaceState:function(n,a,o){n=n._reactInternals;var l=qn(),f=Wi(l);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=Zi(n,f,l),a!==null&&(Hn(a,n,l),jl(a,n,l))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var o=qn(),l=Wi(o);l.tag=2,a!=null&&(l.callback=a),a=Zi(n,l,o),a!==null&&(Hn(a,n,o),jl(a,n,o))}};function t_(n,a,o,l,f,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,b):a.prototype&&a.prototype.isPureReactComponent?!xl(o,l)||!xl(f,m):!0}function n_(n,a,o,l){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,l),a.state!==n&&rm.enqueueReplaceState(a,a.state,null)}function ps(n,a){var o=a;if("ref"in a){o={};for(var l in a)l!=="ref"&&(o[l]=a[l])}if(n=n.defaultProps){o===a&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function r_(n){Jc(n)}function i_(n){console.error(n)}function a_(n){Jc(n)}function eh(n,a){try{var o=n.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function s_(n,a,o){try{var l=n.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function im(n,a,o){return o=Wi(o),o.tag=3,o.payload={element:null},o.callback=function(){eh(n,a)},o}function o_(n){return n=Wi(n),n.tag=3,n}function l_(n,a,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){s_(a,o,l)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){s_(a,o,l),typeof f!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function KA(n,a,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=o.alternate,a!==null&&Ol(a,o,f,!0),o=sr.current,o!==null){switch(o.tag){case 13:return Fr===null?Im():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===Md?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([l]):a.add(l),Nm(n,l,f)),!1;case 22:return o.flags|=65536,l===Md?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([l]):o.add(l)),Nm(n,l,f)),!1}throw Error(i(435,o.tag))}return Nm(n,l,f),Im(),!1}if(We)return a=sr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,l!==Rd&&(n=Error(i(422),{cause:l}),Dl(nr(n,o)))):(l!==Rd&&(a=Error(i(423),{cause:l}),Dl(nr(a,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=nr(l,o),f=im(n.stateNode,l,f),kd(n,f),xt!==4&&(xt=2)),!1;var m=Error(i(520),{cause:l});if(m=nr(m,o),Zl===null?Zl=[m]:Zl.push(m),xt!==4&&(xt=2),a===null)return!0;l=nr(l,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=im(o.stateNode,l,n),kd(o,n),!1;case 1:if(a=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(oa===null||!oa.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=o_(f),l_(f,n,o,l),kd(o,f),!1}o=o.return}while(o!==null);return!1}var u_=Error(i(461)),Xt=!1;function un(n,a,o,l){a.child=n===null?Jv(a,null,o,l):po(a,n.child,o,l)}function c_(n,a,o,l,f){o=o.render;var m=a.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return ds(a),l=Bd(n,a,o,b,m,f),w=qd(),n!==null&&!Xt?(Hd(n,a,f),Ri(n,a,f)):(We&&w&&wd(a),a.flags|=1,un(n,a,l,f),a.child)}function h_(n,a,o,l,f){if(n===null){var m=o.type;return typeof m=="function"&&!bd(m)&&m.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=m,f_(n,a,m,l,f)):(n=Mc(o.type,null,l,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(m=n.child,!fm(n,f)){var b=m.memoizedProps;if(o=o.compare,o=o!==null?o:xl,o(b,l)&&n.ref===a.ref)return Ri(n,a,f)}return a.flags|=1,n=_i(m,l),n.ref=a.ref,n.return=a,a.child=n}function f_(n,a,o,l,f){if(n!==null){var m=n.memoizedProps;if(xl(m,l)&&n.ref===a.ref)if(Xt=!1,a.pendingProps=l=m,fm(n,f))(n.flags&131072)!==0&&(Xt=!0);else return a.lanes=n.lanes,Ri(n,a,f)}return am(n,a,o,l,f)}function d_(n,a,o){var l=a.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((a.flags&128)!==0){if(l=m!==null?m.baseLanes|o:o,n!==null){for(f=a.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;a.childLanes=m&~l}else a.childLanes=0,a.child=null;return m_(n,a,l,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Lc(a,m!==null?m.cachePool:null),m!==null?fv(a,m):Ld(),e_(a);else return a.lanes=a.childLanes=536870912,m_(n,a,m!==null?m.baseLanes|o:o,o)}else m!==null?(Lc(a,m.cachePool),fv(a,m),ta(),a.memoizedState=null):(n!==null&&Lc(a,null),Ld(),ta());return un(n,a,f,o),a.child}function m_(n,a,o,l){var f=Od();return f=f===null?null:{parent:Ht._currentValue,pool:f},a.memoizedState={baseLanes:o,cachePool:f},n!==null&&Lc(a,null),Ld(),e_(a),n!==null&&Ol(n,a,l,!0),null}function th(n,a){var o=a.ref;if(o===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(a.flags|=4194816)}}function am(n,a,o,l,f){return ds(a),o=Bd(n,a,o,l,void 0,f),l=qd(),n!==null&&!Xt?(Hd(n,a,f),Ri(n,a,f)):(We&&l&&wd(a),a.flags|=1,un(n,a,o,f),a.child)}function g_(n,a,o,l,f,m){return ds(a),a.updateQueue=null,o=mv(a,l,o,f),dv(n),l=qd(),n!==null&&!Xt?(Hd(n,a,m),Ri(n,a,m)):(We&&l&&wd(a),a.flags|=1,un(n,a,o,m),a.child)}function p_(n,a,o,l,f){if(ds(a),a.stateNode===null){var m=ao,b=o.contextType;typeof b=="object"&&b!==null&&(m=vn(b)),m=new o(l,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=rm,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=l,m.state=a.memoizedState,m.refs={},Vd(a),b=o.contextType,m.context=typeof b=="object"&&b!==null?vn(b):ao,m.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(nm(a,o,b,l),m.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&rm.enqueueReplaceState(m,m.state,null),Ul(a,l,m,f),Ll(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(n===null){m=a.stateNode;var w=a.memoizedProps,D=ps(o,w);m.props=D;var Y=m.context,ne=o.contextType;b=ao,typeof ne=="object"&&ne!==null&&(b=vn(ne));var oe=o.getDerivedStateFromProps;ne=typeof oe=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,ne||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||Y!==b)&&n_(a,m,l,b),Xi=!1;var $=a.memoizedState;m.state=$,Ul(a,l,m,f),Ll(),Y=a.memoizedState,w||$!==Y||Xi?(typeof oe=="function"&&(nm(a,o,oe,l),Y=a.memoizedState),(D=Xi||t_(a,o,D,l,$,Y,b))?(ne||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=Y),m.props=l,m.state=Y,m.context=b,l=D):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{m=a.stateNode,Pd(n,a),b=a.memoizedProps,ne=ps(o,b),m.props=ne,oe=a.pendingProps,$=m.context,Y=o.contextType,D=ao,typeof Y=="object"&&Y!==null&&(D=vn(Y)),w=o.getDerivedStateFromProps,(Y=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==oe||$!==D)&&n_(a,m,l,D),Xi=!1,$=a.memoizedState,m.state=$,Ul(a,l,m,f),Ll();var Q=a.memoizedState;b!==oe||$!==Q||Xi||n!==null&&n.dependencies!==null&&kc(n.dependencies)?(typeof w=="function"&&(nm(a,o,w,l),Q=a.memoizedState),(ne=Xi||t_(a,o,ne,l,$,Q,D)||n!==null&&n.dependencies!==null&&kc(n.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,D)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=Q),m.props=l,m.state=Q,m.context=D,l=ne):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(a.flags|=1024),l=!1)}return m=l,th(n,a),l=(a.flags&128)!==0,m||l?(m=a.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,n!==null&&l?(a.child=po(a,n.child,null,f),a.child=po(a,null,o,f)):un(n,a,o,f),a.memoizedState=m.state,n=a.child):n=Ri(n,a,f),n}function y_(n,a,o,l){return Nl(),a.flags|=256,un(n,a,o,l),a.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function om(n){return{baseLanes:n,cachePool:iv()}}function lm(n,a,o){return n=n!==null?n.childLanes&~o:0,a&&(n|=or),n}function v_(n,a,o){var l=a.pendingProps,f=!1,m=(a.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(Ft.current&2)!==0),b&&(f=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,n===null){if(We){if(f?ea(a):ta(),We){var w=Rt,D;if(D=w){e:{for(D=w,w=Hr;D.nodeType!==8;){if(!w){w=null;break e}if(D=Er(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(a.memoizedState={dehydrated:w,treeContext:ls!==null?{id:Ei,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},D=Ln(18,null,null,0),D.stateNode=w,D.return=a,a.child=D,In=a,Rt=null,D=!0):D=!1}D||hs(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Gm(w)?a.lanes=32:a.lanes=536870912,null;Ai(a)}return w=l.children,l=l.fallback,f?(ta(),f=a.mode,w=nh({mode:"hidden",children:w},f),l=os(l,f,o,null),w.return=a,l.return=a,w.sibling=l,a.child=w,f=a.child,f.memoizedState=om(o),f.childLanes=lm(n,b,o),a.memoizedState=sm,l):(ea(a),um(a,w))}if(D=n.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(m)a.flags&256?(ea(a),a.flags&=-257,a=cm(n,a,o)):a.memoizedState!==null?(ta(),a.child=n.child,a.flags|=128,a=null):(ta(),f=l.fallback,w=a.mode,l=nh({mode:"visible",children:l.children},w),f=os(f,w,o,null),f.flags|=2,l.return=a,f.return=a,l.sibling=f,a.child=l,po(a,n.child,null,o),l=a.child,l.memoizedState=om(o),l.childLanes=lm(n,b,o),a.memoizedState=sm,a=f);else if(ea(a),Gm(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Y=b.dgst;b=Y,l=Error(i(419)),l.stack="",l.digest=b,Dl({value:l,source:null,stack:null}),a=cm(n,a,o)}else if(Xt||Ol(n,a,o,!1),b=(o&n.childLanes)!==0,Xt||b){if(b=dt,b!==null&&(l=o&-o,l=(l&42)!==0?1:Qe(l),l=(l&(b.suspendedLanes|o))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,io(n,l),Hn(b,n,l),u_;w.data==="$?"||Im(),a=cm(n,a,o)}else w.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=D.treeContext,Rt=Er(w.nextSibling),In=a,We=!0,cs=null,Hr=!1,n!==null&&(ir[ar++]=Ei,ir[ar++]=bi,ir[ar++]=ls,Ei=n.id,bi=n.overflow,ls=a),a=um(a,l.children),a.flags|=4096);return a}return f?(ta(),f=l.fallback,w=a.mode,D=n.child,Y=D.sibling,l=_i(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,Y!==null?f=_i(Y,f):(f=os(f,w,o,null),f.flags|=2),f.return=a,l.return=a,l.sibling=f,a.child=l,l=f,f=a.child,w=n.child.memoizedState,w===null?w=om(o):(D=w.cachePool,D!==null?(Y=Ht._currentValue,D=D.parent!==Y?{parent:Y,pool:Y}:D):D=iv(),w={baseLanes:w.baseLanes|o,cachePool:D}),f.memoizedState=w,f.childLanes=lm(n,b,o),a.memoizedState=sm,l):(ea(a),o=n.child,n=o.sibling,o=_i(o,{mode:"visible",children:l.children}),o.return=a,o.sibling=null,n!==null&&(b=a.deletions,b===null?(a.deletions=[n],a.flags|=16):b.push(n)),a.child=o,a.memoizedState=null,o)}function um(n,a){return a=nh({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function nh(n,a){return n=Ln(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function cm(n,a,o){return po(a,n.child,null,o),n=um(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function __(n,a,o){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a),Id(n.return,a,o)}function hm(n,a,o,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=o,m.tailMode=f)}function E_(n,a,o){var l=a.pendingProps,f=l.revealOrder,m=l.tail;if(un(n,a,l.children,o),l=Ft.current,(l&2)!==0)l=l&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&__(n,o,a);else if(n.tag===19)__(n,o,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Ft,l),f){case"forwards":for(o=a.child,f=null;o!==null;)n=o.alternate,n!==null&&Zc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),hm(a,!1,f,o,m);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&Zc(n)===null){a.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}hm(a,!0,o,null,m);break;case"together":hm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ri(n,a,o){if(n!==null&&(a.dependencies=n.dependencies),sa|=a.lanes,(o&a.childLanes)===0)if(n!==null){if(Ol(n,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,o=_i(n,n.pendingProps),a.child=o,o.return=a;n.sibling!==null;)n=n.sibling,o=o.sibling=_i(n,n.pendingProps),o.return=a;o.sibling=null}return a.child}function fm(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&kc(n)))}function XA(n,a,o){switch(a.tag){case 3:Ve(a,a.stateNode.containerInfo),Ki(a,Ht,n.memoizedState.cache),Nl();break;case 27:case 5:ut(a);break;case 4:Ve(a,a.stateNode.containerInfo);break;case 10:Ki(a,a.type,a.memoizedProps.value);break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(ea(a),a.flags|=128,null):(o&a.child.childLanes)!==0?v_(n,a,o):(ea(a),n=Ri(n,a,o),n!==null?n.sibling:null);ea(a);break;case 19:var f=(n.flags&128)!==0;if(l=(o&a.childLanes)!==0,l||(Ol(n,a,o,!1),l=(o&a.childLanes)!==0),f){if(l)return E_(n,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Ft,Ft.current),l)break;return null;case 22:case 23:return a.lanes=0,d_(n,a,o);case 24:Ki(a,Ht,n.memoizedState.cache)}return Ri(n,a,o)}function b_(n,a,o){if(n!==null)if(n.memoizedProps!==a.pendingProps)Xt=!0;else{if(!fm(n,o)&&(a.flags&128)===0)return Xt=!1,XA(n,a,o);Xt=(n.flags&131072)!==0}else Xt=!1,We&&(a.flags&1048576)!==0&&Wy(a,Pc,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var l=a.elementType,f=l._init;if(l=f(l._payload),a.type=l,typeof l=="function")bd(l)?(n=ps(l,n),a.tag=1,a=p_(null,a,l,n,o)):(a.tag=0,a=am(null,a,l,n,o));else{if(l!=null){if(f=l.$$typeof,f===ie){a.tag=11,a=c_(null,a,l,n,o);break e}else if(f===U){a.tag=14,a=h_(null,a,l,n,o);break e}}throw a=he(l)||l,Error(i(306,a,""))}}return a;case 0:return am(n,a,a.type,a.pendingProps,o);case 1:return l=a.type,f=ps(l,a.pendingProps),p_(n,a,l,f,o);case 3:e:{if(Ve(a,a.stateNode.containerInfo),n===null)throw Error(i(387));l=a.pendingProps;var m=a.memoizedState;f=m.element,Pd(n,a),Ul(a,l,null,o);var b=a.memoizedState;if(l=b.cache,Ki(a,Ht,l),l!==m.cache&&Cd(a,[Ht],o,!0),Ll(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=y_(n,a,l,o);break e}else if(l!==f){f=nr(Error(i(424)),a),Dl(f),a=y_(n,a,l,o);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Rt=Er(n.firstChild),In=a,We=!0,cs=null,Hr=!0,o=Jv(a,null,l,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Nl(),l===f){a=Ri(n,a,o);break e}un(n,a,l,o)}a=a.child}return a;case 26:return th(n,a),n===null?(o=A0(a.type,null,a.pendingProps,null))?a.memoizedState=o:We||(o=a.type,n=a.pendingProps,l=ph(_e.current).createElement(o),l[At]=a,l[pt]=n,hn(l,o,n),De(l),a.stateNode=l):a.memoizedState=A0(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return ut(a),n===null&&We&&(l=a.stateNode=T0(a.type,a.pendingProps,_e.current),In=a,Hr=!0,f=Rt,ca(a.type)?(Ym=f,Rt=Er(l.firstChild)):Rt=f),un(n,a,a.pendingProps.children,o),th(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&We&&((f=l=Rt)&&(l=w1(l,a.type,a.pendingProps,Hr),l!==null?(a.stateNode=l,In=a,Rt=Er(l.firstChild),Hr=!1,f=!0):f=!1),f||hs(a)),ut(a),f=a.type,m=a.pendingProps,b=n!==null?n.memoizedProps:null,l=m.children,qm(f,m)?l=null:b!==null&&qm(f,b)&&(a.flags|=32),a.memoizedState!==null&&(f=Bd(n,a,qA,null,null,o),ou._currentValue=f),th(n,a),un(n,a,l,o),a.child;case 6:return n===null&&We&&((n=o=Rt)&&(o=A1(o,a.pendingProps,Hr),o!==null?(a.stateNode=o,In=a,Rt=null,n=!0):n=!1),n||hs(a)),null;case 13:return v_(n,a,o);case 4:return Ve(a,a.stateNode.containerInfo),l=a.pendingProps,n===null?a.child=po(a,null,l,o):un(n,a,l,o),a.child;case 11:return c_(n,a,a.type,a.pendingProps,o);case 7:return un(n,a,a.pendingProps,o),a.child;case 8:return un(n,a,a.pendingProps.children,o),a.child;case 12:return un(n,a,a.pendingProps.children,o),a.child;case 10:return l=a.pendingProps,Ki(a,a.type,l.value),un(n,a,l.children,o),a.child;case 9:return f=a.type._context,l=a.pendingProps.children,ds(a),f=vn(f),l=l(f),a.flags|=1,un(n,a,l,o),a.child;case 14:return h_(n,a,a.type,a.pendingProps,o);case 15:return f_(n,a,a.type,a.pendingProps,o);case 19:return E_(n,a,o);case 31:return l=a.pendingProps,o=a.mode,l={mode:l.mode,children:l.children},n===null?(o=nh(l,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=_i(n.child,l),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return d_(n,a,o);case 24:return ds(a),l=vn(Ht),n===null?(f=Od(),f===null&&(f=dt,m=Nd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),a.memoizedState={parent:l,cache:f},Vd(a),Ki(a,Ht,f)):((n.lanes&o)!==0&&(Pd(n,a),Ul(a,null,null,o),Ll()),f=n.memoizedState,m=a.memoizedState,f.parent!==l?(f={parent:l,cache:l},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Ki(a,Ht,l)):(l=m.cache,Ki(a,Ht,l),l!==f.cache&&Cd(a,[Ht],o,!0))),un(n,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function xi(n){n.flags|=4}function T_(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!N0(a)){if(a=sr.current,a!==null&&((Fe&4194048)===Fe?Fr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||a!==Fr))throw kl=Md,av;n.flags|=8192}}function rh(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Fi():536870912,n.lanes|=a,Eo|=a)}function Yl(n,a){if(!We)switch(n.tailMode){case"hidden":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function bt(n){var a=n.alternate!==null&&n.alternate.child===n.child,o=0,l=0;if(a)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=o,a}function WA(n,a,o){var l=a.pendingProps;switch(Ad(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(a),null;case 1:return bt(a),null;case 3:return o=a.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Si(Ht),lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Cl(a)?xi(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ev())),bt(a),null;case 26:return o=a.memoizedState,n===null?(xi(a),o!==null?(bt(a),T_(a,o)):(bt(a),a.flags&=-16777217)):o?o!==n.memoizedState?(xi(a),bt(a),T_(a,o)):(bt(a),a.flags&=-16777217):(n.memoizedProps!==l&&xi(a),bt(a),a.flags&=-16777217),null;case 27:wt(a),o=_e.current;var f=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==l&&xi(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return bt(a),null}n=ge.current,Cl(a)?Zy(a):(n=T0(f,l,o),a.stateNode=n,xi(a))}return bt(a),null;case 5:if(wt(a),o=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==l&&xi(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return bt(a),null}if(n=ge.current,Cl(a))Zy(a);else{switch(f=ph(_e.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(o,{is:l.is}):f.createElement(o)}}n[At]=a,n[pt]=l;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=n;e:switch(hn(n,o,l),o){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&xi(a)}}return bt(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==l&&xi(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(i(166));if(n=_e.current,Cl(a)){if(n=a.stateNode,o=a.memoizedProps,l=null,f=In,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[At]=a,n=!!(n.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||g0(n.nodeValue,o)),n||hs(a)}else n=ph(n).createTextNode(l),n[At]=a,a.stateNode=n}return bt(a),null;case 13:if(l=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Cl(a),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[At]=a}else Nl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),f=!1}else f=ev(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Ai(a),a):(Ai(a),null)}if(Ai(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=l!==null,n=n!==null&&n.memoizedState!==null,o){l=a.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return o!==n&&o&&(a.child.flags|=8192),rh(a,a.updateQueue),bt(a),null;case 4:return lt(),n===null&&jm(a.stateNode.containerInfo),bt(a),null;case 10:return Si(a.type),bt(a),null;case 19:if(ce(Ft),f=a.memoizedState,f===null)return bt(a),null;if(l=(a.flags&128)!==0,m=f.rendering,m===null)if(l)Yl(f,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(m=Zc(n),m!==null){for(a.flags|=128,Yl(f,!1),n=m.updateQueue,a.updateQueue=n,rh(a,n),a.subtreeFlags=0,n=o,o=a.child;o!==null;)Xy(o,n),o=o.sibling;return se(Ft,Ft.current&1|2),a.child}n=n.sibling}f.tail!==null&&nn()>sh&&(a.flags|=128,l=!0,Yl(f,!1),a.lanes=4194304)}else{if(!l)if(n=Zc(m),n!==null){if(a.flags|=128,l=!0,n=n.updateQueue,a.updateQueue=n,rh(a,n),Yl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!We)return bt(a),null}else 2*nn()-f.renderingStartTime>sh&&o!==536870912&&(a.flags|=128,l=!0,Yl(f,!1),a.lanes=4194304);f.isBackwards?(m.sibling=a.child,a.child=m):(n=f.last,n!==null?n.sibling=m:a.child=m,f.last=m)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=nn(),a.sibling=null,n=Ft.current,se(Ft,l?n&1|2:n&1),a):(bt(a),null);case 22:case 23:return Ai(a),Ud(),l=a.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(o&536870912)!==0&&(a.flags&128)===0&&(bt(a),a.subtreeFlags&6&&(a.flags|=8192)):bt(a),o=a.updateQueue,o!==null&&rh(a,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==o&&(a.flags|=2048),n!==null&&ce(ms),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Si(Ht),bt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function ZA(n,a){switch(Ad(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Si(Ht),lt(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return wt(a),null;case 13:if(Ai(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Nl()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return ce(Ft),null;case 4:return lt(),null;case 10:return Si(a.type),null;case 22:case 23:return Ai(a),Ud(),n!==null&&ce(ms),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Si(Ht),null;case 25:return null;default:return null}}function S_(n,a){switch(Ad(a),a.tag){case 3:Si(Ht),lt();break;case 26:case 27:case 5:wt(a);break;case 4:lt();break;case 13:Ai(a);break;case 19:ce(Ft);break;case 10:Si(a.type);break;case 22:case 23:Ai(a),Ud(),n!==null&&ce(ms);break;case 24:Si(Ht)}}function $l(n,a){try{var o=a.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&n)===n){l=void 0;var m=o.create,b=o.inst;l=m(),b.destroy=l}o=o.next}while(o!==f)}}catch(w){ft(a,a.return,w)}}function na(n,a,o){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=a;var D=o,Y=w;try{Y()}catch(ne){ft(f,D,ne)}}}l=l.next}while(l!==m)}}catch(ne){ft(a,a.return,ne)}}function w_(n){var a=n.updateQueue;if(a!==null){var o=n.stateNode;try{hv(a,o)}catch(l){ft(n,n.return,l)}}}function A_(n,a,o){o.props=ps(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(l){ft(n,a,l)}}function Ql(n,a){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof o=="function"?n.refCleanup=o(l):o.current=l}}catch(f){ft(n,a,f)}}function Gr(n,a){var o=n.ref,l=n.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){ft(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ft(n,a,f)}else o.current=null}function R_(n){var a=n.type,o=n.memoizedProps,l=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){ft(n,n.return,f)}}function dm(n,a,o){try{var l=n.stateNode;_1(l,n.type,o,a),l[pt]=a}catch(f){ft(n,n.return,f)}}function x_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ca(n.type)||n.tag===4}function mm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||x_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ca(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gm(n,a,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(n),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=gh));else if(l!==4&&(l===27&&ca(n.type)&&(o=n.stateNode,a=null),n=n.child,n!==null))for(gm(n,a,o),n=n.sibling;n!==null;)gm(n,a,o),n=n.sibling}function ih(n,a,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,a?o.insertBefore(n,a):o.appendChild(n);else if(l!==4&&(l===27&&ca(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(ih(n,a,o),n=n.sibling;n!==null;)ih(n,a,o),n=n.sibling}function I_(n){var a=n.stateNode,o=n.memoizedProps;try{for(var l=n.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);hn(a,l,o),a[At]=n,a[pt]=o}catch(m){ft(n,n.return,m)}}var Ii=!1,Nt=!1,pm=!1,C_=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function JA(n,a){if(n=n.containerInfo,zm=Th,n=zy(n),md(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var b=0,w=-1,D=-1,Y=0,ne=0,oe=n,$=null;t:for(;;){for(var Q;oe!==o||f!==0&&oe.nodeType!==3||(w=b+f),oe!==m||l!==0&&oe.nodeType!==3||(D=b+l),oe.nodeType===3&&(b+=oe.nodeValue.length),(Q=oe.firstChild)!==null;)$=oe,oe=Q;for(;;){if(oe===n)break t;if($===o&&++Y===f&&(w=b),$===m&&++ne===l&&(D=b),(Q=oe.nextSibling)!==null)break;oe=$,$=oe.parentNode}oe=Q}o=w===-1||D===-1?null:{start:w,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bm={focusedElem:n,selectionRange:o},Th=!1,Wt=a;Wt!==null;)if(a=Wt,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,Wt=n;else for(;Wt!==null;){switch(a=Wt,m=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=a,f=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var Ie=ps(o.type,f,o.elementType===o.type);n=l.getSnapshotBeforeUpdate(Ie,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(we){ft(o,o.return,we)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,o=n.nodeType,o===9)Fm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,Wt=n;break}Wt=a.return}}function N_(n,a,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:ra(n,o),l&4&&$l(5,o);break;case 1:if(ra(n,o),l&4)if(n=o.stateNode,a===null)try{n.componentDidMount()}catch(b){ft(o,o.return,b)}else{var f=ps(o.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(b){ft(o,o.return,b)}}l&64&&w_(o),l&512&&Ql(o,o.return);break;case 3:if(ra(n,o),l&64&&(n=o.updateQueue,n!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{hv(n,a)}catch(b){ft(o,o.return,b)}}break;case 27:a===null&&l&4&&I_(o);case 26:case 5:ra(n,o),a===null&&l&4&&R_(o),l&512&&Ql(o,o.return);break;case 12:ra(n,o);break;case 13:ra(n,o),l&4&&M_(n,o),l&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=l1.bind(null,o),R1(n,o))));break;case 22:if(l=o.memoizedState!==null||Ii,!l){a=a!==null&&a.memoizedState!==null||Nt,f=Ii;var m=Nt;Ii=l,(Nt=a)&&!m?ia(n,o,(o.subtreeFlags&8772)!==0):ra(n,o),Ii=f,Nt=m}break;case 30:break;default:ra(n,o)}}function D_(n){var a=n.alternate;a!==null&&(n.alternate=null,D_(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&mr(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yt=null,Dn=!1;function Ci(n,a,o){for(o=o.child;o!==null;)O_(n,a,o),o=o.sibling}function O_(n,a,o){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(gt,o)}catch{}switch(o.tag){case 26:Nt||Gr(o,a),Ci(n,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Nt||Gr(o,a);var l=yt,f=Dn;ca(o.type)&&(yt=o.stateNode,Dn=!1),Ci(n,a,o),ru(o.stateNode),yt=l,Dn=f;break;case 5:Nt||Gr(o,a);case 6:if(l=yt,f=Dn,yt=null,Ci(n,a,o),yt=l,Dn=f,yt!==null)if(Dn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(o.stateNode)}catch(m){ft(o,a,m)}else try{yt.removeChild(o.stateNode)}catch(m){ft(o,a,m)}break;case 18:yt!==null&&(Dn?(n=yt,E0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),hu(n)):E0(yt,o.stateNode));break;case 4:l=yt,f=Dn,yt=o.stateNode.containerInfo,Dn=!0,Ci(n,a,o),yt=l,Dn=f;break;case 0:case 11:case 14:case 15:Nt||na(2,o,a),Nt||na(4,o,a),Ci(n,a,o);break;case 1:Nt||(Gr(o,a),l=o.stateNode,typeof l.componentWillUnmount=="function"&&A_(o,a,l)),Ci(n,a,o);break;case 21:Ci(n,a,o);break;case 22:Nt=(l=Nt)||o.memoizedState!==null,Ci(n,a,o),Nt=l;break;default:Ci(n,a,o)}}function M_(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{hu(n)}catch(o){ft(a,a.return,o)}}function e1(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new C_),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new C_),a;default:throw Error(i(435,n.tag))}}function ym(n,a){var o=e1(n);a.forEach(function(l){var f=u1.bind(null,n,l);o.has(l)||(o.add(l),l.then(f,f))})}function Un(n,a){var o=a.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],m=n,b=a,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ca(w.type)){yt=w.stateNode,Dn=!1;break e}break;case 5:yt=w.stateNode,Dn=!1;break e;case 3:case 4:yt=w.stateNode.containerInfo,Dn=!0;break e}w=w.return}if(yt===null)throw Error(i(160));O_(m,b,f),yt=null,Dn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)V_(a,n),a=a.sibling}var _r=null;function V_(n,a){var o=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Un(a,n),zn(n),l&4&&(na(3,n,n.return),$l(3,n),na(5,n,n.return));break;case 1:Un(a,n),zn(n),l&512&&(Nt||o===null||Gr(o,o.return)),l&64&&Ii&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=_r;if(Un(a,n),zn(n),l&512&&(Nt||o===null||Gr(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=n.memoizedState,o===null)if(l===null)if(n.stateNode===null){e:{l=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[dr]||m[At]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),hn(m,l,o),m[At]=n,De(m),l=m;break e;case"link":var b=I0("link","href",f).get(l+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break t}}m=f.createElement(l),hn(m,l,o),f.head.appendChild(m);break;case"meta":if(b=I0("meta","content",f).get(l+(o.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break t}}m=f.createElement(l),hn(m,l,o),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[At]=n,De(m),l=m}n.stateNode=l}else C0(f,n.type,n.stateNode);else n.stateNode=x0(f,l,n.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?C0(f,n.type,n.stateNode):x0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&dm(n,n.memoizedProps,o.memoizedProps)}break;case 27:Un(a,n),zn(n),l&512&&(Nt||o===null||Gr(o,o.return)),o!==null&&l&4&&dm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Un(a,n),zn(n),l&512&&(Nt||o===null||Gr(o,o.return)),n.flags&32){f=n.stateNode;try{Zn(f,"")}catch(Q){ft(n,n.return,Q)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,dm(n,f,o!==null?o.memoizedProps:f)),l&1024&&(pm=!0);break;case 6:if(Un(a,n),zn(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,o=n.stateNode;try{o.nodeValue=l}catch(Q){ft(n,n.return,Q)}}break;case 3:if(_h=null,f=_r,_r=yh(a.containerInfo),Un(a,n),_r=f,zn(n),l&4&&o!==null&&o.memoizedState.isDehydrated)try{hu(a.containerInfo)}catch(Q){ft(n,n.return,Q)}pm&&(pm=!1,P_(n));break;case 4:l=_r,_r=yh(n.stateNode.containerInfo),Un(a,n),zn(n),_r=l;break;case 12:Un(a,n),zn(n);break;case 13:Un(a,n),zn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Sm=nn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ym(n,l)));break;case 22:f=n.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,Y=Ii,ne=Nt;if(Ii=Y||f,Nt=ne||D,Un(a,n),Nt=ne,Ii=Y,zn(n),l&8192)e:for(a=n.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||D||Ii||Nt||ys(n)),o=null,a=n;;){if(a.tag===5||a.tag===26){if(o===null){D=o=a;try{if(m=D.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=D.stateNode;var oe=D.memoizedProps.style,$=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){ft(D,D.return,Q)}}}else if(a.tag===6){if(o===null){D=a;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(Q){ft(D,D.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=n.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,ym(n,o))));break;case 19:Un(a,n),zn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ym(n,l)));break;case 30:break;case 21:break;default:Un(a,n),zn(n)}}function zn(n){var a=n.flags;if(a&2){try{for(var o,l=n.return;l!==null;){if(x_(l)){o=l;break}l=l.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=mm(n);ih(n,m,f);break;case 5:var b=o.stateNode;o.flags&32&&(Zn(b,""),o.flags&=-33);var w=mm(n);ih(n,w,b);break;case 3:case 4:var D=o.stateNode.containerInfo,Y=mm(n);gm(n,Y,D);break;default:throw Error(i(161))}}catch(ne){ft(n,n.return,ne)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function P_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;P_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function ra(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)N_(n,a.alternate,a),a=a.sibling}function ys(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:na(4,a,a.return),ys(a);break;case 1:Gr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&A_(a,a.return,o),ys(a);break;case 27:ru(a.stateNode);case 26:case 5:Gr(a,a.return),ys(a);break;case 22:a.memoizedState===null&&ys(a);break;case 30:ys(a);break;default:ys(a)}n=n.sibling}}function ia(n,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,f=n,m=a,b=m.flags;switch(m.tag){case 0:case 11:case 15:ia(f,m,o),$l(4,m);break;case 1:if(ia(f,m,o),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){ft(l,l.return,Y)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)cv(D[f],w)}catch(Y){ft(l,l.return,Y)}}o&&b&64&&w_(m),Ql(m,m.return);break;case 27:I_(m);case 26:case 5:ia(f,m,o),o&&l===null&&b&4&&R_(m),Ql(m,m.return);break;case 12:ia(f,m,o);break;case 13:ia(f,m,o),o&&b&4&&M_(f,m);break;case 22:m.memoizedState===null&&ia(f,m,o),Ql(m,m.return);break;case 30:break;default:ia(f,m,o)}a=a.sibling}}function vm(n,a){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Ml(o))}function _m(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ml(n))}function Yr(n,a,o,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)k_(n,a,o,l),a=a.sibling}function k_(n,a,o,l){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Yr(n,a,o,l),f&2048&&$l(9,a);break;case 1:Yr(n,a,o,l);break;case 3:Yr(n,a,o,l),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ml(n)));break;case 12:if(f&2048){Yr(n,a,o,l),n=a.stateNode;try{var m=a.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){ft(a,a.return,D)}}else Yr(n,a,o,l);break;case 13:Yr(n,a,o,l);break;case 23:break;case 22:m=a.stateNode,b=a.alternate,a.memoizedState!==null?m._visibility&2?Yr(n,a,o,l):Kl(n,a):m._visibility&2?Yr(n,a,o,l):(m._visibility|=2,yo(n,a,o,l,(a.subtreeFlags&10256)!==0)),f&2048&&vm(b,a);break;case 24:Yr(n,a,o,l),f&2048&&_m(a.alternate,a);break;default:Yr(n,a,o,l)}}function yo(n,a,o,l,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var m=n,b=a,w=o,D=l,Y=b.flags;switch(b.tag){case 0:case 11:case 15:yo(m,b,w,D,f),$l(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?yo(m,b,w,D,f):Kl(m,b):(ne._visibility|=2,yo(m,b,w,D,f)),f&&Y&2048&&vm(b.alternate,b);break;case 24:yo(m,b,w,D,f),f&&Y&2048&&_m(b.alternate,b);break;default:yo(m,b,w,D,f)}a=a.sibling}}function Kl(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=n,l=a,f=l.flags;switch(l.tag){case 22:Kl(o,l),f&2048&&vm(l.alternate,l);break;case 24:Kl(o,l),f&2048&&_m(l.alternate,l);break;default:Kl(o,l)}a=a.sibling}}var Xl=8192;function vo(n){if(n.subtreeFlags&Xl)for(n=n.child;n!==null;)j_(n),n=n.sibling}function j_(n){switch(n.tag){case 26:vo(n),n.flags&Xl&&n.memoizedState!==null&&U1(_r,n.memoizedState,n.memoizedProps);break;case 5:vo(n);break;case 3:case 4:var a=_r;_r=yh(n.stateNode.containerInfo),vo(n),_r=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Xl,Xl=16777216,vo(n),Xl=a):vo(n));break;default:vo(n)}}function L_(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Wl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var l=a[o];Wt=l,z_(l,n)}L_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)U_(n),n=n.sibling}function U_(n){switch(n.tag){case 0:case 11:case 15:Wl(n),n.flags&2048&&na(9,n,n.return);break;case 3:Wl(n);break;case 12:Wl(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,ah(n)):Wl(n);break;default:Wl(n)}}function ah(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var l=a[o];Wt=l,z_(l,n)}L_(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:na(8,a,a.return),ah(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,ah(a));break;default:ah(a)}n=n.sibling}}function z_(n,a){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:na(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ml(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Wt=l;else e:for(o=n;Wt!==null;){l=Wt;var f=l.sibling,m=l.return;if(D_(l),l===o){Wt=null;break e}if(f!==null){f.return=m,Wt=f;break e}Wt=m}}}var t1={getCacheForType:function(n){var a=vn(Ht),o=a.data.get(n);return o===void 0&&(o=n(),a.data.set(n,o)),o}},n1=typeof WeakMap=="function"?WeakMap:Map,tt=0,dt=null,je=null,Fe=0,nt=0,Bn=null,aa=!1,_o=!1,Em=!1,Ni=0,xt=0,sa=0,vs=0,bm=0,or=0,Eo=0,Zl=null,On=null,Tm=!1,Sm=0,sh=1/0,oh=null,oa=null,cn=0,la=null,bo=null,To=0,wm=0,Am=null,B_=null,Jl=0,Rm=null;function qn(){if((tt&2)!==0&&Fe!==0)return Fe&-Fe;if(P.T!==null){var n=lo;return n!==0?n:Mm()}return Vr()}function q_(){or===0&&(or=(Fe&536870912)===0||We?Fa():536870912);var n=sr.current;return n!==null&&(n.flags|=32),or}function Hn(n,a,o){(n===dt&&(nt===2||nt===9)||n.cancelPendingCommit!==null)&&(So(n,0),ua(n,Fe,or,!1)),Kn(n,o),((tt&2)===0||n!==dt)&&(n===dt&&((tt&2)===0&&(vs|=o),xt===4&&ua(n,Fe,or,!1)),$r(n))}function H_(n,a,o){if((tt&6)!==0)throw Error(i(327));var l=!o&&(a&124)===0&&(a&n.expiredLanes)===0||Or(n,a),f=l?a1(n,a):Cm(n,a,!0),m=l;do{if(f===0){_o&&!l&&ua(n,a,0,!1);break}else{if(o=n.current.alternate,m&&!r1(o)){f=Cm(n,a,!1),m=!1;continue}if(f===2){if(m=a,n.errorRecoveryDisabledLanes&m)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var w=n;f=Zl;var D=w.current.memoizedState.isDehydrated;if(D&&(So(w,b).flags|=256),b=Cm(w,b,!1),b!==2){if(Em&&!D){w.errorRecoveryDisabledLanes|=m,vs|=m,f=4;break e}m=On,On=f,m!==null&&(On===null?On=m:On.push.apply(On,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){So(n,0),ua(n,a,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ua(l,a,or,!aa);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=Sm+300-nn(),10<f)){if(ua(l,a,or,!aa),li(l,0,!0)!==0)break e;l.timeoutHandle=v0(F_.bind(null,l,o,On,oh,Tm,a,or,vs,Eo,aa,m,2,-0,0),f);break e}F_(l,o,On,oh,Tm,a,or,vs,Eo,aa,m,0,-0,0)}}break}while(!0);$r(n)}function F_(n,a,o,l,f,m,b,w,D,Y,ne,oe,$,Q){if(n.timeoutHandle=-1,oe=a.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(su={stylesheets:null,count:0,unsuspend:L1},j_(a),oe=z1(),oe!==null)){n.cancelPendingCommit=oe(W_.bind(null,n,a,m,o,l,f,b,w,D,ne,1,$,Q)),ua(n,m,b,!Y);return}W_(n,a,m,o,l,f,b,w,D)}function r1(n){for(var a=n;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],m=f.getSnapshot;f=f.value;try{if(!jn(m(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ua(n,a,o,l){a&=~bm,a&=~vs,n.suspendedLanes|=a,n.pingedLanes&=~a,l&&(n.warmLanes|=a),l=n.expirationTimes;for(var f=a;0<f;){var m=31-Ot(f),b=1<<m;l[m]=-1,f&=~b}o!==0&&mt(n,o,a)}function lh(){return(tt&6)===0?(eu(0),!1):!0}function xm(){if(je!==null){if(nt===0)var n=je.return;else n=je,Ti=fs=null,Fd(n),go=null,Fl=0,n=je;for(;n!==null;)S_(n.alternate,n),n=n.return;je=null}}function So(n,a){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,b1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),xm(),dt=n,je=o=_i(n.current,null),Fe=a,nt=0,Bn=null,aa=!1,_o=Or(n,a),Em=!1,Eo=or=bm=vs=sa=xt=0,On=Zl=null,Tm=!1,(a&8)!==0&&(a|=a&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=a;0<l;){var f=31-Ot(l),m=1<<f;a|=n[f],l&=~m}return Ni=a,Nc(),o}function G_(n,a){Me=null,P.H=Kc,a===Pl||a===Uc?(a=lv(),nt=3):a===av?(a=lv(),nt=4):nt=a===u_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Bn=a,je===null&&(xt=1,eh(n,nr(a,n.current)))}function Y_(){var n=P.H;return P.H=Kc,n===null?Kc:n}function $_(){var n=P.A;return P.A=t1,n}function Im(){xt=4,aa||(Fe&4194048)!==Fe&&sr.current!==null||(_o=!0),(sa&134217727)===0&&(vs&134217727)===0||dt===null||ua(dt,Fe,or,!1)}function Cm(n,a,o){var l=tt;tt|=2;var f=Y_(),m=$_();(dt!==n||Fe!==a)&&(oh=null,So(n,a)),a=!1;var b=xt;e:do try{if(nt!==0&&je!==null){var w=je,D=Bn;switch(nt){case 8:xm(),b=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(a=!0);var Y=nt;if(nt=0,Bn=null,wo(n,w,D,Y),o&&_o){b=0;break e}break;default:Y=nt,nt=0,Bn=null,wo(n,w,D,Y)}}i1(),b=xt;break}catch(ne){G_(n,ne)}while(!0);return a&&n.shellSuspendCounter++,Ti=fs=null,tt=l,P.H=f,P.A=m,je===null&&(dt=null,Fe=0,Nc()),b}function i1(){for(;je!==null;)Q_(je)}function a1(n,a){var o=tt;tt|=2;var l=Y_(),f=$_();dt!==n||Fe!==a?(oh=null,sh=nn()+500,So(n,a)):_o=Or(n,a);e:do try{if(nt!==0&&je!==null){a=je;var m=Bn;t:switch(nt){case 1:nt=0,Bn=null,wo(n,a,m,1);break;case 2:case 9:if(sv(m)){nt=0,Bn=null,K_(a);break}a=function(){nt!==2&&nt!==9||dt!==n||(nt=7),$r(n)},m.then(a,a);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:sv(m)?(nt=0,Bn=null,K_(a)):(nt=0,Bn=null,wo(n,a,m,7));break;case 5:var b=null;switch(je.tag){case 26:b=je.memoizedState;case 5:case 27:var w=je;if(!b||N0(b)){nt=0,Bn=null;var D=w.sibling;if(D!==null)je=D;else{var Y=w.return;Y!==null?(je=Y,uh(Y)):je=null}break t}}nt=0,Bn=null,wo(n,a,m,5);break;case 6:nt=0,Bn=null,wo(n,a,m,6);break;case 8:xm(),xt=6;break e;default:throw Error(i(462))}}s1();break}catch(ne){G_(n,ne)}while(!0);return Ti=fs=null,P.H=l,P.A=f,tt=o,je!==null?0:(dt=null,Fe=0,Nc(),xt)}function s1(){for(;je!==null&&!hr();)Q_(je)}function Q_(n){var a=b_(n.alternate,n,Ni);n.memoizedProps=n.pendingProps,a===null?uh(n):je=a}function K_(n){var a=n,o=a.alternate;switch(a.tag){case 15:case 0:a=g_(o,a,a.pendingProps,a.type,void 0,Fe);break;case 11:a=g_(o,a,a.pendingProps,a.type.render,a.ref,Fe);break;case 5:Fd(a);default:S_(o,a),a=je=Xy(a,Ni),a=b_(o,a,Ni)}n.memoizedProps=n.pendingProps,a===null?uh(n):je=a}function wo(n,a,o,l){Ti=fs=null,Fd(a),go=null,Fl=0;var f=a.return;try{if(KA(n,f,a,o,Fe)){xt=1,eh(n,nr(o,n.current)),je=null;return}}catch(m){if(f!==null)throw je=f,m;xt=1,eh(n,nr(o,n.current)),je=null;return}a.flags&32768?(We||l===1?n=!0:_o||(Fe&536870912)!==0?n=!1:(aa=n=!0,(l===2||l===9||l===3||l===6)&&(l=sr.current,l!==null&&l.tag===13&&(l.flags|=16384))),X_(a,n)):uh(a)}function uh(n){var a=n;do{if((a.flags&32768)!==0){X_(a,aa);return}n=a.return;var o=WA(a.alternate,a,Ni);if(o!==null){je=o;return}if(a=a.sibling,a!==null){je=a;return}je=a=n}while(a!==null);xt===0&&(xt=5)}function X_(n,a){do{var o=ZA(n.alternate,n);if(o!==null){o.flags&=32767,je=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(n=n.sibling,n!==null)){je=n;return}je=n=o}while(n!==null);xt=6,je=null}function W_(n,a,o,l,f,m,b,w,D){n.cancelPendingCommit=null;do ch();while(cn!==0);if((tt&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=_d,Mt(n,o,m,b,w,D),n===dt&&(je=dt=null,Fe=0),bo=a,la=n,To=o,wm=m,Am=f,B_=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,c1(ai,function(){return n0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,f=K.p,K.p=2,b=tt,tt|=4;try{JA(n,a,o)}finally{tt=b,K.p=f,P.T=l}}cn=1,Z_(),J_(),e0()}}function Z_(){if(cn===1){cn=0;var n=la,a=bo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=P.T,P.T=null;var l=K.p;K.p=2;var f=tt;tt|=4;try{V_(a,n);var m=Bm,b=zy(n.containerInfo),w=m.focusedElem,D=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&Uy(w.ownerDocument.documentElement,w)){if(D!==null&&md(w)){var Y=D.start,ne=D.end;if(ne===void 0&&(ne=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(ne,w.value.length);else{var oe=w.ownerDocument||document,$=oe&&oe.defaultView||window;if($.getSelection){var Q=$.getSelection(),Ie=w.textContent.length,we=Math.min(D.start,Ie),st=D.end===void 0?we:Math.min(D.end,Ie);!Q.extend&&we>st&&(b=st,st=we,we=b);var H=Ly(w,we),B=Ly(w,st);if(H&&B&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var G=oe.createRange();G.setStart(H.node,H.offset),Q.removeAllRanges(),we>st?(Q.addRange(G),Q.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),Q.addRange(G))}}}}for(oe=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&oe.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<oe.length;w++){var ae=oe[w];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Th=!!zm,Bm=zm=null}finally{tt=f,K.p=l,P.T=o}}n.current=a,cn=2}}function J_(){if(cn===2){cn=0;var n=la,a=bo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=P.T,P.T=null;var l=K.p;K.p=2;var f=tt;tt|=4;try{N_(n,a.alternate,a)}finally{tt=f,K.p=l,P.T=o}}cn=3}}function e0(){if(cn===4||cn===3){cn=0,tn();var n=la,a=bo,o=To,l=B_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?cn=5:(cn=0,bo=la=null,t0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(oa=null),rn(o),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(gt,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=P.T,f=K.p,K.p=2,P.T=null;try{for(var m=n.onRecoverableError,b=0;b<l.length;b++){var w=l[b];m(w.value,{componentStack:w.stack})}}finally{P.T=a,K.p=f}}(To&3)!==0&&ch(),$r(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Rm?Jl++:(Jl=0,Rm=n):Jl=0,eu(0)}}function t0(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Ml(a)))}function ch(n){return Z_(),J_(),e0(),n0()}function n0(){if(cn!==5)return!1;var n=la,a=wm;wm=0;var o=rn(To),l=P.T,f=K.p;try{K.p=32>o?32:o,P.T=null,o=Am,Am=null;var m=la,b=To;if(cn=0,bo=la=null,To=0,(tt&6)!==0)throw Error(i(331));var w=tt;if(tt|=4,U_(m.current),k_(m,m.current,b,o),tt=w,eu(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(gt,m)}catch{}return!0}finally{K.p=f,P.T=l,t0(n,a)}}function r0(n,a,o){a=nr(o,a),a=im(n.stateNode,a,2),n=Zi(n,a,2),n!==null&&(Kn(n,2),$r(n))}function ft(n,a,o){if(n.tag===3)r0(n,n,o);else for(;a!==null;){if(a.tag===3){r0(a,n,o);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(oa===null||!oa.has(l))){n=nr(o,n),o=o_(2),l=Zi(a,o,2),l!==null&&(l_(o,l,a,n),Kn(l,2),$r(l));break}}a=a.return}}function Nm(n,a,o){var l=n.pingCache;if(l===null){l=n.pingCache=new n1;var f=new Set;l.set(a,f)}else f=l.get(a),f===void 0&&(f=new Set,l.set(a,f));f.has(o)||(Em=!0,f.add(o),n=o1.bind(null,n,a,o),a.then(n,n))}function o1(n,a,o){var l=n.pingCache;l!==null&&l.delete(a),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,dt===n&&(Fe&o)===o&&(xt===4||xt===3&&(Fe&62914560)===Fe&&300>nn()-Sm?(tt&2)===0&&So(n,0):bm|=o,Eo===Fe&&(Eo=0)),$r(n)}function i0(n,a){a===0&&(a=Fi()),n=io(n,a),n!==null&&(Kn(n,a),$r(n))}function l1(n){var a=n.memoizedState,o=0;a!==null&&(o=a.retryLane),i0(n,o)}function u1(n,a){var o=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(a),i0(n,o)}function c1(n,a){return yn(n,a)}var hh=null,Ao=null,Dm=!1,fh=!1,Om=!1,_s=0;function $r(n){n!==Ao&&n.next===null&&(Ao===null?hh=Ao=n:Ao=Ao.next=n),fh=!0,Dm||(Dm=!0,f1())}function eu(n,a){if(!Om&&fh){Om=!0;do for(var o=!1,l=hh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var b=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-Ot(42|n)+1)-1,m&=f&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,l0(l,m))}else m=Fe,m=li(l,l===dt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Or(l,m)||(o=!0,l0(l,m));l=l.next}while(o);Om=!1}}function h1(){a0()}function a0(){fh=Dm=!1;var n=0;_s!==0&&(E1()&&(n=_s),_s=0);for(var a=nn(),o=null,l=hh;l!==null;){var f=l.next,m=s0(l,a);m===0?(l.next=null,o===null?hh=f:o.next=f,f===null&&(Ao=o)):(o=l,(n!==0||(m&3)!==0)&&(fh=!0)),l=f}eu(n)}function s0(n,a){for(var o=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var b=31-Ot(m),w=1<<b,D=f[b];D===-1?((w&o)===0||(w&l)!==0)&&(f[b]=ui(w,a)):D<=a&&(n.expiredLanes|=w),m&=~w}if(a=dt,o=Fe,o=li(n,n===a?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,o===0||n===a&&(nt===2||nt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ct(l),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Or(n,o)){if(a=o&-o,a===n.callbackPriority)return a;switch(l!==null&&ct(l),rn(o)){case 2:case 8:o=Hi;break;case 32:o=ai;break;case 268435456:o=si;break;default:o=ai}return l=o0.bind(null,n),o=yn(o,l),n.callbackPriority=a,n.callbackNode=o,a}return l!==null&&l!==null&&ct(l),n.callbackPriority=2,n.callbackNode=null,2}function o0(n,a){if(cn!==0&&cn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ch()&&n.callbackNode!==o)return null;var l=Fe;return l=li(n,n===dt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(H_(n,l,a),s0(n,nn()),n.callbackNode!=null&&n.callbackNode===o?o0.bind(null,n):null)}function l0(n,a){if(ch())return null;H_(n,a,!0)}function f1(){T1(function(){(tt&6)!==0?yn(qi,h1):a0()})}function Mm(){return _s===0&&(_s=Fa()),_s}function u0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ys(""+n)}function c0(n,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,n.id&&o.setAttribute("form",n.id),a.parentNode.insertBefore(o,a),n=new FormData(n),o.parentNode.removeChild(o),n}function d1(n,a,o,l,f){if(a==="submit"&&o&&o.stateNode===f){var m=u0((f[pt]||null).action),b=l.submitter;b&&(a=(a=b[pt]||null)?u0(a.formAction):b.getAttribute("formAction"),a!==null&&(m=a,b=null));var w=new $s("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_s!==0){var D=b?c0(f,b):new FormData(f);Jd(o,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(w.preventDefault(),D=b?c0(f,b):new FormData(f),Jd(o,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Vm=0;Vm<vd.length;Vm++){var Pm=vd[Vm],m1=Pm.toLowerCase(),g1=Pm[0].toUpperCase()+Pm.slice(1);vr(m1,"on"+g1)}vr(Hy,"onAnimationEnd"),vr(Fy,"onAnimationIteration"),vr(Gy,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(OA,"onTransitionRun"),vr(MA,"onTransitionStart"),vr(VA,"onTransitionCancel"),vr(Yy,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function h0(n,a){a=(a&4)!==0;for(var o=0;o<n.length;o++){var l=n[o],f=l.event;l=l.listeners;e:{var m=void 0;if(a)for(var b=l.length-1;0<=b;b--){var w=l[b],D=w.instance,Y=w.currentTarget;if(w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=Y;try{m(f)}catch(ne){Jc(ne)}f.currentTarget=null,m=D}else for(b=0;b<l.length;b++){if(w=l[b],D=w.instance,Y=w.currentTarget,w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=Y;try{m(f)}catch(ne){Jc(ne)}f.currentTarget=null,m=D}}}}function Le(n,a){var o=a[ci];o===void 0&&(o=a[ci]=new Set);var l=n+"__bubble";o.has(l)||(f0(a,n,2,!1),o.add(l))}function km(n,a,o){var l=0;a&&(l|=4),f0(o,n,l,a)}var dh="_reactListening"+Math.random().toString(36).slice(2);function jm(n){if(!n[dh]){n[dh]=!0,sn.forEach(function(o){o!=="selectionchange"&&(p1.has(o)||km(o,!1,n),km(o,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[dh]||(a[dh]=!0,km("selectionchange",!1,a))}}function f0(n,a,o,l){switch(k0(a)){case 2:var f=H1;break;case 8:f=F1;break;default:f=Wm}o=f.bind(null,a,o,n),f=void 0,!er||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(a,o,{capture:!0,passive:f}):n.addEventListener(a,o,!0):f!==void 0?n.addEventListener(a,o,{passive:f}):n.addEventListener(a,o,!1)}function Lm(n,a,o,l,f){var m=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=gr(w),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){l=m=b;continue e}w=w.parentNode}}l=l.return}gc(function(){var Y=m,ne=Jn(o),oe=[];e:{var $=$y.get(n);if($!==void 0){var Q=$s,Ie=n;switch(n){case"keypress":if(Lr(o)===0)break e;case"keydown":case"keyup":Q=Js;break;case"focusin":Ie="focus",Q=Xs;break;case"focusout":Ie="blur",Q=Xs;break;case"beforeblur":case"afterblur":Q=Xs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Sc;break;case Hy:case Fy:case Gy:Q=Ws;break;case Yy:Q=Ac;break;case"scroll":case"scrollend":Q=pc;break;case"wheel":Q=eo;break;case"copy":case"cut":case"paste":Q=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Al;break;case"toggle":case"beforetoggle":Q=xc}var we=(a&4)!==0,st=!we&&(n==="scroll"||n==="scrollend"),H=we?$!==null?$+"Capture":null:$;we=[];for(var B=Y,G;B!==null;){var ae=B;if(G=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||G===null||H===null||(ae=Za(B,H),ae!=null&&we.push(nu(B,ae,G))),st)break;B=B.return}0<we.length&&($=new Q($,Ie,null,o,ne),oe.push({event:$,listeners:we}))}}if((a&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",$&&o!==di&&(Ie=o.relatedTarget||o.fromElement)&&(gr(Ie)||Ie[an]))break e;if((Q||$)&&($=ne.window===ne?ne:($=ne.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(Ie=o.relatedTarget||o.toElement,Q=Y,Ie=Ie?gr(Ie):null,Ie!==null&&(st=u(Ie),we=Ie.tag,Ie!==st||we!==5&&we!==27&&we!==6)&&(Ie=null)):(Q=null,Ie=Y),Q!==Ie)){if(we=tr,ae="onMouseLeave",H="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(we=Al,ae="onPointerLeave",H="onPointerEnter",B="pointer"),st=Q==null?$:Ce(Q),G=Ie==null?$:Ce(Ie),$=new we(ae,B+"leave",Q,o,ne),$.target=st,$.relatedTarget=G,ae=null,gr(ne)===Y&&(we=new we(H,B+"enter",Ie,o,ne),we.target=G,we.relatedTarget=st,ae=we),st=ae,Q&&Ie)t:{for(we=Q,H=Ie,B=0,G=we;G;G=Ro(G))B++;for(G=0,ae=H;ae;ae=Ro(ae))G++;for(;0<B-G;)we=Ro(we),B--;for(;0<G-B;)H=Ro(H),G--;for(;B--;){if(we===H||H!==null&&we===H.alternate)break t;we=Ro(we),H=Ro(H)}we=null}else we=null;Q!==null&&d0(oe,$,Q,we,!1),Ie!==null&&st!==null&&d0(oe,st,Ie,we,!0)}}e:{if($=Y?Ce(Y):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var ve=Oy;else if(qt($))if(My)ve=CA;else{ve=xA;var ke=RA}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&vl(Y.elementType)&&(ve=Oy):ve=IA;if(ve&&(ve=ve(n,Y))){vi(oe,ve,o,ne);break e}ke&&ke(n,$,Y),n==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&$i($,"number",$.value)}switch(ke=Y?Ce(Y):window,n){case"focusin":(qt(ke)||ke.contentEditable==="true")&&(to=ke,gd=Y,Il=null);break;case"focusout":Il=gd=to=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,By(oe,o,ne);break;case"selectionchange":if(DA)break;case"keydown":case"keyup":By(oe,o,ne)}var Ee;if(Br)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else qe?W(n,o)&&(Ae="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(E&&o.locale!=="ko"&&(qe||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&qe&&(Ee=El()):(jr=ne,Qi="value"in jr?jr.value:jr.textContent,qe=!0)),ke=mh(Y,Ae),0<ke.length&&(Ae=new Sl(Ae,n,null,o,ne),oe.push({event:Ae,listeners:ke}),Ee?Ae.data=Ee:(Ee=de(o),Ee!==null&&(Ae.data=Ee)))),(Ee=y?Bt(n,o):He(n,o))&&(Ae=mh(Y,"onBeforeInput"),0<Ae.length&&(ke=new Sl("onBeforeInput","beforeinput",null,o,ne),oe.push({event:ke,listeners:Ae}),ke.data=Ee)),d1(oe,n,Y,o,ne)}h0(oe,a)})}function nu(n,a,o){return{instance:n,listener:a,currentTarget:o}}function mh(n,a){for(var o=a+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Za(n,o),f!=null&&l.unshift(nu(n,f,m)),f=Za(n,a),f!=null&&l.push(nu(n,f,m))),n.tag===3)return l;n=n.return}return[]}function Ro(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function d0(n,a,o,l,f){for(var m=a._reactName,b=[];o!==null&&o!==l;){var w=o,D=w.alternate,Y=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||Y===null||(D=Y,f?(Y=Za(o,m),Y!=null&&b.unshift(nu(o,Y,D))):f||(Y=Za(o,m),Y!=null&&b.push(nu(o,Y,D)))),o=o.return}b.length!==0&&n.push({event:a,listeners:b})}var y1=/\r\n?/g,v1=/\u0000|\uFFFD/g;function m0(n){return(typeof n=="string"?n:""+n).replace(y1,`
`).replace(v1,"")}function g0(n,a){return a=m0(a),m0(n)===a}function gh(){}function at(n,a,o,l,f,m){switch(o){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||Zn(n,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&Zn(n,""+l);break;case"className":Pr(n,"class",l);break;case"tabIndex":Pr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pr(n,o,l);break;case"style":yl(n,l,m);break;case"data":if(a!=="object"){Pr(n,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||o!=="href")){n.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(o);break}l=Ys(""+l),n.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(a!=="input"&&at(n,a,"name",f.name,f,null),at(n,a,"formEncType",f.formEncType,f,null),at(n,a,"formMethod",f.formMethod,f,null),at(n,a,"formTarget",f.formTarget,f,null)):(at(n,a,"encType",f.encType,f,null),at(n,a,"method",f.method,f,null),at(n,a,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(o);break}l=Ys(""+l),n.setAttribute(o,l);break;case"onClick":l!=null&&(n.onclick=gh);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}o=Ys(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(o,""+l):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":l===!0?n.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(o,l):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(o,l):n.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(o):n.setAttribute(o,l);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Yi(n,"popover",l);break;case"xlinkActuate":on(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":on(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":on(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":on(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":on(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":on(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":on(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":on(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":on(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ld.get(o)||o,Yi(n,o,l))}}function Um(n,a,o,l,f,m){switch(o){case"style":yl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof l=="string"?Zn(n,l):(typeof l=="number"||typeof l=="bigint")&&Zn(n,""+l);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"onClick":l!=null&&(n.onclick=gh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$t.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),m=n[pt]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(a,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(a,l,f);break e}o in n?n[o]=l:l===!0?n.setAttribute(o,""):Yi(n,o,l)}}}function hn(n,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var l=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var b=o[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:at(n,a,m,b,o,null)}}f&&at(n,a,"srcSet",o.srcSet,o,null),l&&at(n,a,"src",o.src,o,null);return;case"input":Le("invalid",n);var w=m=b=f=null,D=null,Y=null;for(l in o)if(o.hasOwnProperty(l)){var ne=o[l];if(ne!=null)switch(l){case"name":f=ne;break;case"type":b=ne;break;case"checked":D=ne;break;case"defaultChecked":Y=ne;break;case"value":m=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:at(n,a,l,ne,o,null)}}Ka(n,m,w,D,Y,b,f,!1),Gs(n);return;case"select":Le("invalid",n),l=b=m=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:at(n,a,f,w,o,null)}a=m,o=b,n.multiple=!!l,a!=null?fi(n,!!l,a,!1):o!=null&&fi(n,!!l,o,!0);return;case"textarea":Le("invalid",n),m=f=l=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:at(n,a,b,w,o,null)}Xa(n,l,f,m),Gs(n);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(l=o[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(n,a,D,l,o,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(l=0;l<tu.length;l++)Le(tu[l],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(l=o[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:at(n,a,Y,l,o,null)}return;default:if(vl(a)){for(ne in o)o.hasOwnProperty(ne)&&(l=o[ne],l!==void 0&&Um(n,a,ne,l,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(l=o[w],l!=null&&at(n,a,w,l,o,null))}function _1(n,a,o,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,w=null,D=null,Y=null,ne=null;for(Q in o){var oe=o[Q];if(o.hasOwnProperty(Q)&&oe!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=oe;default:l.hasOwnProperty(Q)||at(n,a,Q,null,l,oe)}}for(var $ in l){var Q=l[$];if(oe=o[$],l.hasOwnProperty($)&&(Q!=null||oe!=null))switch($){case"type":m=Q;break;case"name":f=Q;break;case"checked":Y=Q;break;case"defaultChecked":ne=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==oe&&at(n,a,$,Q,l,oe)}}kn(n,b,w,D,Y,ne,m,f);return;case"select":Q=b=w=$=null;for(m in o)if(D=o[m],o.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(m)||at(n,a,m,null,l,D)}for(f in l)if(m=l[f],D=o[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":$=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==D&&at(n,a,f,m,l,D)}a=w,o=b,l=Q,$!=null?fi(n,!!o,$,!1):!!l!=!!o&&(a!=null?fi(n,!!o,a,!0):fi(n,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:at(n,a,w,null,l,f)}for(b in l)if(f=l[b],m=o[b],l.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&at(n,a,b,f,l,m)}rt(n,$,Q);return;case"option":for(var Ie in o)if($=o[Ie],o.hasOwnProperty(Ie)&&$!=null&&!l.hasOwnProperty(Ie))switch(Ie){case"selected":n.selected=!1;break;default:at(n,a,Ie,null,l,$)}for(D in l)if($=l[D],Q=o[D],l.hasOwnProperty(D)&&$!==Q&&($!=null||Q!=null))switch(D){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:at(n,a,D,$,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)$=o[we],o.hasOwnProperty(we)&&$!=null&&!l.hasOwnProperty(we)&&at(n,a,we,null,l,$);for(Y in l)if($=l[Y],Q=o[Y],l.hasOwnProperty(Y)&&$!==Q&&($!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:at(n,a,Y,$,l,Q)}return;default:if(vl(a)){for(var st in o)$=o[st],o.hasOwnProperty(st)&&$!==void 0&&!l.hasOwnProperty(st)&&Um(n,a,st,void 0,l,$);for(ne in l)$=l[ne],Q=o[ne],!l.hasOwnProperty(ne)||$===Q||$===void 0&&Q===void 0||Um(n,a,ne,$,l,Q);return}}for(var H in o)$=o[H],o.hasOwnProperty(H)&&$!=null&&!l.hasOwnProperty(H)&&at(n,a,H,null,l,$);for(oe in l)$=l[oe],Q=o[oe],!l.hasOwnProperty(oe)||$===Q||$==null&&Q==null||at(n,a,oe,$,l,Q)}var zm=null,Bm=null;function ph(n){return n.nodeType===9?n:n.ownerDocument}function p0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y0(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function qm(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hm=null;function E1(){var n=window.event;return n&&n.type==="popstate"?n===Hm?!1:(Hm=n,!0):(Hm=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(n){return _0.resolve(null).then(n).catch(S1)}:v0;function S1(n){setTimeout(function(){throw n})}function ca(n){return n==="head"}function E0(n,a){var o=a,l=0,f=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<l&&8>l){o=l;var b=n.ownerDocument;if(o&1&&ru(b.documentElement),o&2&&ru(b.body),o&4)for(o=b.head,ru(o),b=o.firstChild;b;){var w=b.nextSibling,D=b.nodeName;b[dr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(f===0){n.removeChild(m),hu(a);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:l=o.charCodeAt(0)-48;else l=0;o=m}while(o);hu(a)}function Fm(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Fm(o),mr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function w1(n,a,o,l){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[dr])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Er(n.nextSibling),n===null)break}return null}function A1(n,a,o){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Er(n.nextSibling),n===null))return null;return n}function Gm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function R1(n,a){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")a();else{var l=function(){a(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Er(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Ym=null;function b0(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return n;a--}else o==="/$"&&a++}n=n.previousSibling}return null}function T0(n,a,o){switch(a=ph(o),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function ru(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);mr(n)}var lr=new Map,S0=new Set;function yh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Di=K.d;K.d={f:x1,r:I1,D:C1,C:N1,L:D1,m:O1,X:V1,S:M1,M:P1};function x1(){var n=Di.f(),a=lh();return n||a}function I1(n){var a=Wn(n);a!==null&&a.tag===5&&a.type==="form"?Hv(a):Di.r(n)}var xo=typeof document>"u"?null:document;function w0(n,a,o){var l=xo;if(l&&typeof a=="string"&&a){var f=Vt(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),S0.has(f)||(S0.add(f),n={rel:n,crossOrigin:o,href:a},l.querySelector(f)===null&&(a=l.createElement("link"),hn(a,"link",n),De(a),l.head.appendChild(a)))}}function C1(n){Di.D(n),w0("dns-prefetch",n,null)}function N1(n,a){Di.C(n,a),w0("preconnect",n,a)}function D1(n,a,o){Di.L(n,a,o);var l=xo;if(l&&n&&a){var f='link[rel="preload"][as="'+Vt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Vt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Vt(o.imageSizes)+'"]')):f+='[href="'+Vt(n)+'"]';var m=f;switch(a){case"style":m=Io(n);break;case"script":m=Co(n)}lr.has(m)||(n=_({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:n,as:a},o),lr.set(m,n),l.querySelector(f)!==null||a==="style"&&l.querySelector(iu(m))||a==="script"&&l.querySelector(au(m))||(a=l.createElement("link"),hn(a,"link",n),De(a),l.head.appendChild(a)))}}function O1(n,a){Di.m(n,a);var o=xo;if(o&&n){var l=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Vt(l)+'"][href="'+Vt(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Co(n)}if(!lr.has(m)&&(n=_({rel:"modulepreload",href:n},a),lr.set(m,n),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(au(m)))return}l=o.createElement("link"),hn(l,"link",n),De(l),o.head.appendChild(l)}}}function M1(n,a,o){Di.S(n,a,o);var l=xo;if(l&&n){var f=Pe(l).hoistableStyles,m=Io(n);a=a||"default";var b=f.get(m);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(iu(m)))w.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":a},o),(o=lr.get(m))&&$m(n,o);var D=b=l.createElement("link");De(D),hn(D,"link",n),D._p=new Promise(function(Y,ne){D.onload=Y,D.onerror=ne}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,vh(b,a,l)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(m,b)}}}function V1(n,a){Di.X(n,a);var o=xo;if(o&&n){var l=Pe(o).hoistableScripts,f=Co(n),m=l.get(f);m||(m=o.querySelector(au(f)),m||(n=_({src:n,async:!0},a),(a=lr.get(f))&&Qm(n,a),m=o.createElement("script"),De(m),hn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function P1(n,a){Di.M(n,a);var o=xo;if(o&&n){var l=Pe(o).hoistableScripts,f=Co(n),m=l.get(f);m||(m=o.querySelector(au(f)),m||(n=_({src:n,async:!0,type:"module"},a),(a=lr.get(f))&&Qm(n,a),m=o.createElement("script"),De(m),hn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function A0(n,a,o,l){var f=(f=_e.current)?yh(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Io(o.href),o=Pe(f).hoistableStyles,l=o.get(a),l||(l={type:"style",instance:null,count:0,state:null},o.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Io(o.href);var m=Pe(f).hoistableStyles,b=m.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,b),(m=f.querySelector(iu(n)))&&!m._p&&(b.instance=m,b.state.loading=5),lr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},lr.set(n,o),m||k1(f,n,o,b.state))),a&&l===null)throw Error(i(528,""));return b}if(a&&l!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Co(o),o=Pe(f).hoistableScripts,l=o.get(a),l||(l={type:"script",instance:null,count:0,state:null},o.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Io(n){return'href="'+Vt(n)+'"'}function iu(n){return'link[rel="stylesheet"]['+n+"]"}function R0(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function k1(n,a,o,l){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=n.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),hn(a,"link",o),De(a),n.head.appendChild(a))}function Co(n){return'[src="'+Vt(n)+'"]'}function au(n){return"script[async]"+n}function x0(n,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var l=n.querySelector('style[data-href~="'+Vt(o.href)+'"]');if(l)return a.instance=l,De(l),l;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),De(l),hn(l,"style",f),vh(l,o.precedence,n),a.instance=l;case"stylesheet":f=Io(o.href);var m=n.querySelector(iu(f));if(m)return a.state.loading|=4,a.instance=m,De(m),m;l=R0(o),(f=lr.get(f))&&$m(l,f),m=(n.ownerDocument||n).createElement("link"),De(m);var b=m;return b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),hn(m,"link",l),a.state.loading|=4,vh(m,o.precedence,n),a.instance=m;case"script":return m=Co(o.src),(f=n.querySelector(au(m)))?(a.instance=f,De(f),f):(l=o,(f=lr.get(m))&&(l=_({},o),Qm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),De(f),hn(f,"link",l),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,vh(l,o.precedence,n));return a.instance}function vh(n,a,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===a)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(n,a.firstChild))}function $m(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Qm(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var _h=null;function I0(n,a,o){if(_h===null){var l=new Map,f=_h=new Map;f.set(o,l)}else f=_h,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(n))return l;for(l.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[dr]||m[At]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(a)||"";b=n+b;var w=l.get(b);w?w.push(m):l.set(b,[m])}}return l}function C0(n,a,o){n=n.ownerDocument||n,n.head.insertBefore(o,a==="title"?n.querySelector("head > title"):null)}function j1(n,a,o){if(o===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function N0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var su=null;function L1(){}function U1(n,a,o){if(su===null)throw Error(i(475));var l=su;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Io(o.href),m=n.querySelector(iu(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Eh.bind(l),n.then(l,l)),a.state.loading|=4,a.instance=m,De(m);return}m=n.ownerDocument||n,o=R0(o),(f=lr.get(f))&&$m(o,f),m=m.createElement("link"),De(m);var b=m;b._p=new Promise(function(w,D){b.onload=w,b.onerror=D}),hn(m,"link",o),a.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(l.count++,a=Eh.bind(l),n.addEventListener("load",a),n.addEventListener("error",a))}}function z1(){if(su===null)throw Error(i(475));var n=su;return n.stylesheets&&n.count===0&&Km(n,n.stylesheets),0<n.count?function(a){var o=setTimeout(function(){if(n.stylesheets&&Km(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Eh(){if(this.count--,this.count===0){if(this.stylesheets)Km(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var bh=null;function Km(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,bh=new Map,a.forEach(B1,n),bh=null,Eh.call(n))}function B1(n,a){if(!(a.state.loading&4)){var o=bh.get(n);if(o)var l=o.get(null);else{o=new Map,bh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),l=b)}l&&o.set(null,l)}f=a.instance,b=f.getAttribute("data-precedence"),m=o.get(b)||l,m===l&&o.set(null,f),o.set(b,f),this.count++,l=Eh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var ou={$$typeof:ee,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function q1(n,a,o,l,f,m,b,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function D0(n,a,o,l,f,m,b,w,D,Y,ne,oe){return n=new q1(n,a,o,b,w,D,Y,oe),a=1,m===!0&&(a|=24),m=Ln(3,null,null,a),n.current=m,m.stateNode=n,a=Nd(),a.refCount++,n.pooledCache=a,a.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:a},Vd(m),n}function O0(n){return n?(n=ao,n):ao}function M0(n,a,o,l,f,m){f=O0(f),l.context===null?l.context=f:l.pendingContext=f,l=Wi(a),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=Zi(n,l,a),o!==null&&(Hn(o,n,a),jl(o,n,a))}function V0(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<a?o:a}}function Xm(n,a){V0(n,a),(n=n.alternate)&&V0(n,a)}function P0(n){if(n.tag===13){var a=io(n,67108864);a!==null&&Hn(a,n,67108864),Xm(n,67108864)}}var Th=!0;function H1(n,a,o,l){var f=P.T;P.T=null;var m=K.p;try{K.p=2,Wm(n,a,o,l)}finally{K.p=m,P.T=f}}function F1(n,a,o,l){var f=P.T;P.T=null;var m=K.p;try{K.p=8,Wm(n,a,o,l)}finally{K.p=m,P.T=f}}function Wm(n,a,o,l){if(Th){var f=Zm(l);if(f===null)Lm(n,a,l,Sh,o),j0(n,l);else if(Y1(f,n,a,o,l))l.stopPropagation();else if(j0(n,l),a&4&&-1<G1.indexOf(n)){for(;f!==null;){var m=Wn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Pn(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var D=1<<31-Ot(b);w.entanglements[1]|=D,b&=~D}$r(m),(tt&6)===0&&(sh=nn()+500,eu(0))}}break;case 13:w=io(m,2),w!==null&&Hn(w,m,2),lh(),Xm(m,2)}if(m=Zm(l),m===null&&Lm(n,a,l,Sh,o),m===f)break;f=m}f!==null&&l.stopPropagation()}else Lm(n,a,l,null,o)}}function Zm(n){return n=Jn(n),Jm(n)}var Sh=null;function Jm(n){if(Sh=null,n=gr(n),n!==null){var a=u(n);if(a===null)n=null;else{var o=a.tag;if(o===13){if(n=h(a),n!==null)return n;n=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Sh=n,null}function k0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case qi:return 2;case Hi:return 8;case ai:case dl:return 32;case si:return 268435456;default:return 32}default:return 32}}var eg=!1,ha=null,fa=null,da=null,lu=new Map,uu=new Map,ma=[],G1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(n,a){switch(n){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":lu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(a.pointerId)}}function cu(n,a,o,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:a,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},a!==null&&(a=Wn(a),a!==null&&P0(a)),n):(n.eventSystemFlags|=l,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function Y1(n,a,o,l,f){switch(a){case"focusin":return ha=cu(ha,n,a,o,l,f),!0;case"dragenter":return fa=cu(fa,n,a,o,l,f),!0;case"mouseover":return da=cu(da,n,a,o,l,f),!0;case"pointerover":var m=f.pointerId;return lu.set(m,cu(lu.get(m)||null,n,a,o,l,f)),!0;case"gotpointercapture":return m=f.pointerId,uu.set(m,cu(uu.get(m)||null,n,a,o,l,f)),!0}return!1}function L0(n){var a=gr(n.target);if(a!==null){var o=u(a);if(o!==null){if(a=o.tag,a===13){if(a=h(o),a!==null){n.blockedOn=a,Gi(n.priority,function(){if(o.tag===13){var l=qn();l=Qe(l);var f=io(o,l);f!==null&&Hn(f,o,l),Xm(o,l)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wh(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var o=Zm(n.nativeEvent);if(o===null){o=n.nativeEvent;var l=new o.constructor(o.type,o);di=l,o.target.dispatchEvent(l),di=null}else return a=Wn(o),a!==null&&P0(a),n.blockedOn=o,!1;a.shift()}return!0}function U0(n,a,o){wh(n)&&o.delete(a)}function $1(){eg=!1,ha!==null&&wh(ha)&&(ha=null),fa!==null&&wh(fa)&&(fa=null),da!==null&&wh(da)&&(da=null),lu.forEach(U0),uu.forEach(U0)}function Ah(n,a){n.blockedOn===a&&(n.blockedOn=null,eg||(eg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$1)))}var Rh=null;function z0(n){Rh!==n&&(Rh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rh===n&&(Rh=null);for(var a=0;a<n.length;a+=3){var o=n[a],l=n[a+1],f=n[a+2];if(typeof l!="function"){if(Jm(l||o)===null)continue;break}var m=Wn(o);m!==null&&(n.splice(a,3),a-=3,Jd(m,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function hu(n){function a(D){return Ah(D,n)}ha!==null&&Ah(ha,n),fa!==null&&Ah(fa,n),da!==null&&Ah(da,n),lu.forEach(a),uu.forEach(a);for(var o=0;o<ma.length;o++){var l=ma[o];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ma.length&&(o=ma[0],o.blockedOn===null);)L0(o),o.blockedOn===null&&ma.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],m=o[l+1],b=f[pt]||null;if(typeof m=="function")b||z0(o);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[pt]||null)w=b.formAction;else if(Jm(f)!==null)continue}else w=b.action;typeof w=="function"?o[l+1]=w:(o.splice(l,3),l-=3),z0(o)}}}function tg(n){this._internalRoot=n}xh.prototype.render=tg.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,l=qn();M0(o,l,n,a,null,null)},xh.prototype.unmount=tg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;M0(n.current,2,null,n,null,null),lh(),a[an]=null}};function xh(n){this._internalRoot=n}xh.prototype.unstable_scheduleHydration=function(n){if(n){var a=Vr();n={blockedOn:null,target:n,priority:a};for(var o=0;o<ma.length&&a!==0&&a<ma[o].priority;o++);ma.splice(o,0,n),o===0&&L0(n)}};var B0=e.version;if(B0!=="19.1.1")throw Error(i(527,B0,"19.1.1"));K.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=p(a),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var Q1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{gt=Ih.inject(Q1),Xe=Ih}catch{}}return du.createRoot=function(n,a){if(!s(n))throw Error(i(299));var o=!1,l="",f=r_,m=i_,b=a_,w=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=D0(n,1,!1,null,null,o,l,f,m,b,w,null),n[an]=a.current,jm(n),new tg(a)},du.hydrateRoot=function(n,a,o){if(!s(n))throw Error(i(299));var l=!1,f="",m=r_,b=i_,w=a_,D=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),a=D0(n,1,!0,a,o??null,l,f,m,b,w,D,Y),a.context=O0(null),o=a.current,l=qn(),l=Qe(l),f=Wi(l),f.callback=null,Zi(o,f,l),o=l,a.current.lanes=o,Kn(a,o),$r(a),n[an]=a.current,jm(n),new xh(a)},du.version="19.1.1",du}var W0;function iR(){if(W0)return ig.exports;W0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ig.exports=rR(),ig.exports}var aR=iR();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Z0="popstate";function sR(r={}){function e(i,s){let{pathname:u,search:h,hash:d}=i.location;return Ag("",{pathname:u,search:h,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Iu(s)}return lR(e,t,null,r)}function _t(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Rr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oR(){return Math.random().toString(36).substring(2,10)}function J0(r,e){return{usr:r.state,key:r.key,idx:e}}function Ag(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:t,key:e&&e.key||i||oR()}}function Iu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Wo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function lR(r,e,t,i={}){let{window:s=document.defaultView,v5Compat:u=!1}=i,h=s.history,d="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function T(){d="POP";let L=_(),z=L==null?null:L-g;g=L,p&&p({action:d,location:V.location,delta:z})}function S(L,z){d="PUSH";let J=Ag(V.location,L,z);g=_()+1;let ee=J0(J,g),ie=V.createHref(J);try{h.pushState(ee,"",ie)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign(ie)}u&&p&&p({action:d,location:V.location,delta:1})}function C(L,z){d="REPLACE";let J=Ag(V.location,L,z);g=_();let ee=J0(J,g),ie=V.createHref(J);h.replaceState(ee,"",ie),u&&p&&p({action:d,location:V.location,delta:0})}function j(L){return uR(L)}let V={get action(){return d},get location(){return r(s,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Z0,T),p=L,()=>{s.removeEventListener(Z0,T),p=null}},createHref(L){return e(s,L)},createURL:j,encodeLocation(L){let z=j(L);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:C,go(L){return h.go(L)}};return V}function uR(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_t(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Iu(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function rT(r,e,t="/"){return cR(r,e,t,!1)}function cR(r,e,t,i){let s=typeof e=="string"?Wo(e):e,u=Pi(s.pathname||"/",t);if(u==null)return null;let h=iT(r);hR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=TR(u);d=ER(h[p],g,i)}return d}function iT(r,e=[],t=[],i=""){let s=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(_t(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=Vi([i,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(_t(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),iT(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:vR(g,u.index),routesMeta:_})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))s(u,h);else for(let d of aT(u.path))s(u,h,d)}),e}function aT(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return s?[u,""]:[u];let h=aT(i.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),s&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function hR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:_R(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var fR=/^:[\w-]+$/,dR=3,mR=2,gR=1,pR=10,yR=-2,eE=r=>r==="*";function vR(r,e){let t=r.split("/"),i=t.length;return t.some(eE)&&(i+=yR),e&&(i+=mR),t.filter(s=>!eE(s)).reduce((s,u)=>s+(fR.test(u)?dR:u===""?gR:pR),i)}function _R(r,e){return r.length===e.length&&r.slice(0,-1).every((i,s)=>i===e[s])?r[r.length-1]-e[e.length-1]:0}function ER(r,e,t=!1){let{routesMeta:i}=r,s={},u="/",h=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=tf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=tf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(s,T.params),h.push({params:s,pathname:Vi([u,T.pathname]),pathnameBase:RR(Vi([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Vi([u,T.pathnameBase]))}return h}function tf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=bR(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let u=s[0],h=u.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:T},S)=>{if(_==="*"){let j=d[S]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const C=d[S];return T&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function bR(r,e=!1,t=!0){Rr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function TR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Pi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function SR(r,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof r=="string"?Wo(r):r;return{pathname:t?t.startsWith("/")?t:wR(t,e):e,search:xR(i),hash:IR(s)}}function wR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function lg(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gp(r){let e=AR(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function pp(r,e,t,i=!1){let s;typeof r=="string"?s=Wo(r):(s={...r},_t(!s.pathname||!s.pathname.includes("?"),lg("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),lg("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),lg("#","search","hash",s)));let u=r===""||s.pathname==="",h=u?"/":s.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;s.pathname=S.join("/")}d=T>=0?e[T]:"/"}let p=SR(s,d),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Vi=r=>r.join("/").replace(/\/\/+/g,"/"),RR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),xR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,IR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function CR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var sT=["POST","PUT","PATCH","DELETE"];new Set(sT);var NR=["GET",...sT];new Set(NR);var Zo=k.createContext(null);Zo.displayName="DataRouter";var xf=k.createContext(null);xf.displayName="DataRouterState";k.createContext(!1);var oT=k.createContext({isTransitioning:!1});oT.displayName="ViewTransition";var DR=k.createContext(new Map);DR.displayName="Fetchers";var OR=k.createContext(null);OR.displayName="Await";var Nr=k.createContext(null);Nr.displayName="Navigation";var qu=k.createContext(null);qu.displayName="Location";var ii=k.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var yp=k.createContext(null);yp.displayName="RouteError";function MR(r,{relative:e}={}){_t(Jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=k.useContext(Nr),{hash:s,pathname:u,search:h}=Hu(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:Vi([t,u])),i.createHref({pathname:d,search:h,hash:s})}function Jo(){return k.useContext(qu)!=null}function ka(){return _t(Jo(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(qu).location}var lT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uT(r){k.useContext(Nr).static||k.useLayoutEffect(r)}function If(){let{isDataRoute:r}=k.useContext(ii);return r?YR():VR()}function VR(){_t(Jo(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(Zo),{basename:e,navigator:t}=k.useContext(Nr),{matches:i}=k.useContext(ii),{pathname:s}=ka(),u=JSON.stringify(gp(i)),h=k.useRef(!1);return uT(()=>{h.current=!0}),k.useCallback((p,g={})=>{if(Rr(h.current,lT),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=pp(p,JSON.parse(u),s,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Vi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,s,r])}k.createContext(null);function Hu(r,{relative:e}={}){let{matches:t}=k.useContext(ii),{pathname:i}=ka(),s=JSON.stringify(gp(t));return k.useMemo(()=>pp(r,JSON.parse(s),i,e==="path"),[r,s,i,e])}function PR(r,e){return cT(r,e)}function cT(r,e,t,i){_t(Jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(Nr),{matches:u}=k.useContext(ii),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let z=_&&_.path||"";hT(p,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let T=ka(),S;if(e){let z=typeof e=="string"?Wo(e):e;_t(g==="/"||z.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=T;let C=S.pathname||"/",j=C;if(g!=="/"){let z=g.replace(/^\//,"").split("/");j="/"+C.replace(/^\//,"").split("/").slice(z.length).join("/")}let V=rT(r,{pathname:j});Rr(_||V!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Rr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=zR(V&&V.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:Vi([g,s.encodeLocation?s.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:Vi([g,s.encodeLocation?s.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),u,t,i);return e&&L?k.createElement(qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function kR(){let r=GR(),e=CR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:s},t):null,h)}var jR=k.createElement(kR,null),LR=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?k.createElement(ii.Provider,{value:this.props.routeContext},k.createElement(yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UR({routeContext:r,match:e,children:t}){let i=k.useContext(Zo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ii.Provider,{value:r},t)}function zR(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,u=t?.errors;if(u!=null){let p=s.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);_t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:T}=t,S=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||S){h=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,g,_)=>{let T,S=!1,C=null,j=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||jR,h&&(d<0&&_===0?(hT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,j=null):d===_&&(S=!0,j=g.route.hydrateFallbackElement||null)));let V=e.concat(s.slice(0,_+1)),L=()=>{let z;return T?z=C:S?z=j:g.route.Component?z=k.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=p,k.createElement(UR,{match:g,routeContext:{outlet:p,matches:V,isDataRoute:t!=null},children:z})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?k.createElement(LR,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:L(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):L()},null)}function vp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BR(r){let e=k.useContext(Zo);return _t(e,vp(r)),e}function qR(r){let e=k.useContext(xf);return _t(e,vp(r)),e}function HR(r){let e=k.useContext(ii);return _t(e,vp(r)),e}function _p(r){let e=HR(r),t=e.matches[e.matches.length-1];return _t(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function FR(){return _p("useRouteId")}function GR(){let r=k.useContext(yp),e=qR("useRouteError"),t=_p("useRouteError");return r!==void 0?r:e.errors?.[t]}function YR(){let{router:r}=BR("useNavigate"),e=_p("useNavigate"),t=k.useRef(!1);return uT(()=>{t.current=!0}),k.useCallback(async(s,u={})=>{Rr(t.current,lT),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...u}))},[r,e])}var tE={};function hT(r,e,t){!e&&!tE[r]&&(tE[r]=!0,Rr(!1,t))}k.memo($R);function $R({routes:r,future:e,state:t}){return cT(r,void 0,t,e)}function QR({to:r,replace:e,state:t,relative:i}){_t(Jo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(Nr);Rr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(ii),{pathname:h}=ka(),d=If(),p=pp(r,gp(u),h,i==="path"),g=JSON.stringify(p);return k.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function br(r){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KR({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:u=!1}){_t(!Jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:h,navigator:s,static:u,future:{}}),[h,s,u]);typeof t=="string"&&(t=Wo(t));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:S="default"}=t,C=k.useMemo(()=>{let j=Pi(p,h);return j==null?null:{location:{pathname:j,search:g,hash:_,state:T,key:S},navigationType:i}},[h,p,g,_,T,S,i]);return Rr(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:k.createElement(Nr.Provider,{value:d},k.createElement(qu.Provider,{children:e,value:C}))}function XR({children:r,location:e}){return PR(Rg(r),e)}function Rg(r,e=[]){let t=[];return k.Children.forEach(r,(i,s)=>{if(!k.isValidElement(i))return;let u=[...e,s];if(i.type===k.Fragment){t.push.apply(t,Rg(i.props.children,u));return}_t(i.type===br,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Rg(i.props.children,u)),t.push(h)}),t}var zh="get",Bh="application/x-www-form-urlencoded";function Cf(r){return r!=null&&typeof r.tagName=="string"}function WR(r){return Cf(r)&&r.tagName.toLowerCase()==="button"}function ZR(r){return Cf(r)&&r.tagName.toLowerCase()==="form"}function JR(r){return Cf(r)&&r.tagName.toLowerCase()==="input"}function ex(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function tx(r,e){return r.button===0&&(!e||e==="_self")&&!ex(r)}var Nh=null;function nx(){if(Nh===null)try{new FormData(document.createElement("form"),0),Nh=!1}catch{Nh=!0}return Nh}var rx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ug(r){return r!=null&&!rx.has(r)?(Rr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):r}function ix(r,e){let t,i,s,u,h;if(ZR(r)){let d=r.getAttribute("action");i=d?Pi(d,e):null,t=r.getAttribute("method")||zh,s=ug(r.getAttribute("enctype"))||Bh,u=new FormData(r)}else if(WR(r)||JR(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(i=p?Pi(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||zh,s=ug(r.getAttribute("formenctype"))||ug(d.getAttribute("enctype"))||Bh,u=new FormData(d,r),!nx()){let{name:g,type:_,value:T}=r;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Cf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zh,i=null,s=Bh,h=r}return u&&s==="text/plain"&&(h=u,u=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ax(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Pi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function sx(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ox(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function lx(r,e,t){let i=await Promise.all(r.map(async s=>{let u=e.routes[s.route.id];if(u){let h=await sx(u,t);return h.links?h.links():[]}return[]}));return fx(i.flat(1).filter(ox).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function nE(r,e,t,i,s,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function ux(r,e,{includeHydrateFallback:t}={}){return cx(r.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let u=[s.module];return s.clientActionModule&&(u=u.concat(s.clientActionModule)),s.clientLoaderModule&&(u=u.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(u=u.concat(s.hydrateFallbackModule)),s.imports&&(u=u.concat(s.imports)),u}).flat(1))}function cx(r){return[...new Set(r)]}function hx(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function fx(r,e){let t=new Set;return new Set(e),r.reduce((i,s)=>{let u=JSON.stringify(hx(s));return t.has(u)||(t.add(u),i.push({key:u,link:s})),i},[])}function fT(){let r=k.useContext(Zo);return Ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function dx(){let r=k.useContext(xf);return Ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bp=k.createContext(void 0);bp.displayName="FrameworkContext";function dT(){let r=k.useContext(bp);return Ep(r,"You must render this element inside a <HydratedRouter> element"),r}function mx(r,e){let t=k.useContext(bp),[i,s]=k.useState(!1),[u,h]=k.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,S=k.useRef(null);k.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let V=z=>{z.forEach(J=>{h(J.isIntersecting)})},L=new IntersectionObserver(V,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[r]),k.useEffect(()=>{if(i){let V=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(V)}}},[i]);let C=()=>{s(!0)},j=()=>{s(!1),h(!1)};return t?r!=="intent"?[u,S,{}]:[u,S,{onFocus:mu(d,C),onBlur:mu(p,j),onMouseEnter:mu(g,C),onMouseLeave:mu(_,j),onTouchStart:mu(T,C)}]:[!1,S,{}]}function mu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function gx({page:r,...e}){let{router:t}=fT(),i=k.useMemo(()=>rT(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?k.createElement(yx,{page:r,matches:i,...e}):null}function px(r){let{manifest:e,routeModules:t}=dT(),[i,s]=k.useState([]);return k.useEffect(()=>{let u=!1;return lx(r,e,t).then(h=>{u||s(h)}),()=>{u=!0}},[r,e,t]),i}function yx({page:r,matches:e,...t}){let i=ka(),{manifest:s,routeModules:u}=dT(),{basename:h}=fT(),{loaderData:d,matches:p}=dx(),g=k.useMemo(()=>nE(r,e,p,s,i,"data"),[r,e,p,s,i]),_=k.useMemo(()=>nE(r,e,p,s,i,"assets"),[r,e,p,s,i]),T=k.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let j=new Set,V=!1;if(e.forEach(z=>{let J=s.routes[z.route.id];!J||!J.hasLoader||(!g.some(ee=>ee.route.id===z.route.id)&&z.route.id in d&&u[z.route.id]?.shouldRevalidate||J.hasClientLoader?V=!0:j.add(z.route.id))}),j.size===0)return[];let L=ax(r,h,"data");return V&&j.size>0&&L.searchParams.set("_routes",e.filter(z=>j.has(z.route.id)).map(z=>z.route.id).join(",")),[L.pathname+L.search]},[h,d,i,s,g,e,r,u]),S=k.useMemo(()=>ux(_,s),[_,s]),C=px(_);return k.createElement(k.Fragment,null,T.map(j=>k.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),S.map(j=>k.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),C.map(({key:j,link:V})=>k.createElement("link",{key:j,...V})))}function vx(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mT&&(window.__reactRouterVersion="7.7.1")}catch{}function _x({basename:r,children:e,window:t}){let i=k.useRef();i.current==null&&(i.current=sR({window:t,v5Compat:!0}));let s=i.current,[u,h]=k.useState({action:s.action,location:s.location}),d=k.useCallback(p=>{k.startTransition(()=>h(p))},[h]);return k.useLayoutEffect(()=>s.listen(d),[s,d]),k.createElement(KR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:s})}var gT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=k.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:_,viewTransition:T,...S},C){let{basename:j}=k.useContext(Nr),V=typeof g=="string"&&gT.test(g),L,z=!1;if(typeof g=="string"&&V&&(L=g,mT))try{let N=new URL(window.location.href),O=g.startsWith("//")?new URL(N.protocol+g):new URL(g),M=Pi(O.pathname,j);O.origin===N.origin&&M!=null?g=M+O.search+O.hash:z=!0}catch{Rr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=MR(g,{relative:s}),[ee,ie,te]=mx(i,S),pe=Sx(g,{replace:h,state:d,target:p,preventScrollReset:_,relative:s,viewTransition:T});function U(N){e&&e(N),N.defaultPrevented||pe(N)}let x=k.createElement("a",{...S,...te,href:L||J,onClick:z||u?e:U,ref:vx(C,ie),target:p,"data-discover":!V&&t==="render"?"true":void 0});return ee&&!V?k.createElement(k.Fragment,null,x,k.createElement(gx,{page:J})):x});vt.displayName="Link";var Ex=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:u,to:h,viewTransition:d,children:p,...g},_){let T=Hu(h,{relative:g.relative}),S=ka(),C=k.useContext(xf),{navigator:j,basename:V}=k.useContext(Nr),L=C!=null&&Ix(T)&&d===!0,z=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,J=S.pathname,ee=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(J=J.toLowerCase(),ee=ee?ee.toLowerCase():null,z=z.toLowerCase()),ee&&V&&(ee=Pi(ee,V)||ee);const ie=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let te=J===z||!s&&J.startsWith(z)&&J.charAt(ie)==="/",pe=ee!=null&&(ee===z||!s&&ee.startsWith(z)&&ee.charAt(z.length)==="/"),U={isActive:te,isPending:pe,isTransitioning:L},x=te?e:void 0,N;typeof i=="function"?N=i(U):N=[i,te?"active":null,pe?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(U):u;return k.createElement(vt,{...g,"aria-current":x,className:N,ref:_,style:O,to:h,viewTransition:d},typeof p=="function"?p(U):p)});Ex.displayName="NavLink";var bx=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:u,method:h=zh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...S},C)=>{let j=Rx(),V=xx(d,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&gT.test(d),J=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let ie=ee.nativeEvent.submitter,te=ie?.getAttribute("formmethod")||h;j(ie||ee.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:s,state:u,relative:g,preventScrollReset:_,viewTransition:T})};return k.createElement("form",{ref:C,method:L,action:V,onSubmit:i?p:J,...S,"data-discover":!z&&r==="render"?"true":void 0})});bx.displayName="Form";function Tx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(r){let e=k.useContext(Zo);return _t(e,Tx(r)),e}function Sx(r,{target:e,replace:t,state:i,preventScrollReset:s,relative:u,viewTransition:h}={}){let d=If(),p=ka(),g=Hu(r,{relative:u});return k.useCallback(_=>{if(tx(_,e)){_.preventDefault();let T=t!==void 0?t:Iu(p)===Iu(g);d(r,{replace:T,state:i,preventScrollReset:s,relative:u,viewTransition:h})}},[p,d,g,t,i,e,r,s,u,h])}var wx=0,Ax=()=>`__${String(++wx)}__`;function Rx(){let{router:r}=pT("useSubmit"),{basename:e}=k.useContext(Nr),t=FR();return k.useCallback(async(i,s={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=ix(i,e);if(s.navigate===!1){let _=s.fetcherKey||Ax();await r.fetch(_,t,s.action||u,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||h,formEncType:s.encType||d,flushSync:s.flushSync})}else await r.navigate(s.action||u,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||h,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function xx(r,{relative:e}={}){let{basename:t}=k.useContext(Nr),i=k.useContext(ii);_t(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),u={...Hu(r||".",{relative:e})},h=ka();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&s.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Vi([t,u.pathname])),Iu(u)}function Ix(r,{relative:e}={}){let t=k.useContext(oT);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pT("useViewTransitionState"),s=Hu(r,{relative:e});if(!t.isTransitioning)return!1;let u=Pi(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Pi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return tf(s.pathname,h)!=null||tf(s.pathname,u)!=null}const Cx=()=>{};var rE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Nx=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const s=r[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const u=r[t++];e[i++]=String.fromCharCode((s&31)<<6|u&63)}else if(s>239&&s<365){const u=r[t++],h=r[t++],d=r[t++],p=((s&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[i++]=String.fromCharCode((s&15)<<12|(u&63)<<6|h&63)}}return e.join("")},vT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<r.length;s+=3){const u=r[s],h=s+1<r.length,d=h?r[s+1]:0,p=s+2<r.length,g=p?r[s+2]:0,_=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,C=g&63;p||(C=64,h||(S=64)),i.push(t[_],t[T],t[S],t[C])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Nx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<r.length;){const u=t[r.charAt(s++)],d=s<r.length?t[r.charAt(s)]:0;++s;const g=s<r.length?t[r.charAt(s)]:64;++s;const T=s<r.length?t[r.charAt(s)]:64;if(++s,u==null||d==null||g==null||T==null)throw new Dx;const S=u<<2|d>>4;if(i.push(S),g!==64){const C=d<<4&240|g>>2;if(i.push(C),T!==64){const j=g<<6&192|T;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Dx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ox=function(r){const e=yT(r);return vT.encodeByteArray(e,!0)},nf=function(r){return Ox(r).replace(/\./g,"")},_T=function(r){try{return vT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=()=>Mx().__FIREBASE_DEFAULTS__,Px=()=>{if(typeof process>"u"||typeof rE>"u")return;const r=rE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_T(r[1]);return e&&JSON.parse(e)},Nf=()=>{try{return Cx()||Vx()||Px()||kx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ET=r=>Nf()?.emulatorHosts?.[r],jx=r=>{const e=ET(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},bT=()=>Nf()?.config,TT=r=>Nf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ST(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nf(JSON.stringify(t)),nf(JSON.stringify(h)),""].join(".")}const bu={};function zx(){const r={prod:[],emulator:[]};for(const e of Object.keys(bu))bu[e]?r.emulator.push(e):r.prod.push(e);return r}function Bx(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let iE=!1;function wT(r,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||bu[r]===e||bu[r]||iE)return;bu[r]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",u=zx().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{iE=!0,h()},S}function _(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=Bx(i),C=t("text"),j=document.getElementById(C)||document.createElement("span"),V=t("learnmore"),L=document.getElementById(V)||document.createElement("a"),z=t("preprendIcon"),J=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ee=S.element;d(ee),_(L,V);const ie=g();p(J,z),ee.append(J,j,L,ie),document.body.appendChild(ee)}u?(j.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function Hx(){const r=Nf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Yx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $x(){const r=Sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Qx(){return!Hx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kx(){try{return typeof indexedDB=="object"}catch{return!1}}function Xx(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="FirebaseError";class zi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Wx,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,u=this.errors[e],h=u?Zx(u,i):"Error",d=`${this.serviceName}: ${h} (${s}).`;return new zi(s,d,i)}}function Zx(r,e){return r.replace(Jx,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Jx=/\{\$([^}]+)}/g;function eI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ws(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const u=r[s],h=e[s];if(aE(u)&&aE(h)){if(!ws(u,h))return!1}else if(u!==h)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function aE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,u]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(u)}}),e}function pu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function tI(r,e){const t=new nI(r,e);return t.subscribe.bind(t)}class nI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");rI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=cg),s.error===void 0&&(s.error=cg),s.complete===void 0&&(s.complete=cg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r){return r&&r._delegate?r._delegate:r}class As{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Lx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sI(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:s});i.resolve(u)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);i===d&&h.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const u=this.instances.get(i);return u&&e(u,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:aI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aI(r){return r===Es?void 0:r}function sI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new iI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const lI={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},uI=Ue.INFO,cI={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},hI=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),s=cI[e];if(s)console[s](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tp{constructor(e){this.name=e,this._logLevel=uI,this._logHandler=hI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const fI=(r,e)=>e.some(t=>r instanceof t);let sE,oE;function dI(){return sE||(sE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mI(){return oE||(oE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,xg=new WeakMap,RT=new WeakMap,hg=new WeakMap,Sp=new WeakMap;function gI(r){const e=new Promise((t,i)=>{const s=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(Sa(r.result)),s()},h=()=>{i(r.error),s()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&AT.set(t,r)}).catch(()=>{}),Sp.set(e,r),e}function pI(r){if(xg.has(r))return;const e=new Promise((t,i)=>{const s=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),s()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});xg.set(r,e)}let Ig={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return xg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||RT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sa(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yI(r){Ig=r(Ig)}function vI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(fg(this),e,...t);return RT.set(i,e.sort?e.sort():[e]),Sa(i)}:mI().includes(r)?function(...e){return r.apply(fg(this),e),Sa(AT.get(this))}:function(...e){return Sa(r.apply(fg(this),e))}}function _I(r){return typeof r=="function"?vI(r):(r instanceof IDBTransaction&&pI(r),fI(r,dI())?new Proxy(r,Ig):r)}function Sa(r){if(r instanceof IDBRequest)return gI(r);if(hg.has(r))return hg.get(r);const e=_I(r);return e!==r&&(hg.set(r,e),Sp.set(e,r)),e}const fg=r=>Sp.get(r);function EI(r,e,{blocked:t,upgrade:i,blocking:s,terminated:u}={}){const h=indexedDB.open(r,e),d=Sa(h);return i&&h.addEventListener("upgradeneeded",p=>{i(Sa(h.result),p.oldVersion,p.newVersion,Sa(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),s&&p.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const bI=["get","getKey","getAll","getAllKeys","count"],TI=["put","add","delete","clear"],dg=new Map;function lE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=TI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||bI.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,s?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&p.done]))[0]};return dg.set(e,u),u}yI(r=>({...r,get:(e,t,i)=>lE(e,t)||r.get(e,t,i),has:(e,t)=>!!lE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function wI(r){return r.getComponent()?.type==="VERSION"}const Cg="@firebase/app",uE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Tp("@firebase/app"),AI="@firebase/app-compat",RI="@firebase/analytics-compat",xI="@firebase/analytics",II="@firebase/app-check-compat",CI="@firebase/app-check",NI="@firebase/auth",DI="@firebase/auth-compat",OI="@firebase/database",MI="@firebase/data-connect",VI="@firebase/database-compat",PI="@firebase/functions",kI="@firebase/functions-compat",jI="@firebase/installations",LI="@firebase/installations-compat",UI="@firebase/messaging",zI="@firebase/messaging-compat",BI="@firebase/performance",qI="@firebase/performance-compat",HI="@firebase/remote-config",FI="@firebase/remote-config-compat",GI="@firebase/storage",YI="@firebase/storage-compat",$I="@firebase/firestore",QI="@firebase/ai",KI="@firebase/firestore-compat",XI="firebase",WI="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",ZI={[Cg]:"fire-core",[AI]:"fire-core-compat",[xI]:"fire-analytics",[RI]:"fire-analytics-compat",[CI]:"fire-app-check",[II]:"fire-app-check-compat",[NI]:"fire-auth",[DI]:"fire-auth-compat",[OI]:"fire-rtdb",[MI]:"fire-data-connect",[VI]:"fire-rtdb-compat",[PI]:"fire-fn",[kI]:"fire-fn-compat",[jI]:"fire-iid",[LI]:"fire-iid-compat",[UI]:"fire-fcm",[zI]:"fire-fcm-compat",[BI]:"fire-perf",[qI]:"fire-perf-compat",[HI]:"fire-rc",[FI]:"fire-rc-compat",[GI]:"fire-gcs",[YI]:"fire-gcs-compat",[$I]:"fire-fst",[KI]:"fire-fst-compat",[QI]:"fire-vertex","fire-js":"fire-js",[XI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new Map,JI=new Map,Dg=new Map;function cE(r,e){try{r.container.addComponent(e)}catch(t){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ho(r){const e=r.name;if(Dg.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,r);for(const t of rf.values())cE(t,r);for(const t of JI.values())cE(t,r);return!0}function wp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Tr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new Fu("app","Firebase",eC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=WI;function xT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Ng,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw wa.create("bad-app-name",{appName:String(s)});if(t||(t=bT()),!t)throw wa.create("no-options");const u=rf.get(s);if(u){if(ws(t,u.options)&&ws(i,u.config))return u;throw wa.create("duplicate-app",{appName:s})}const h=new oI(s);for(const p of Dg.values())h.addComponent(p);const d=new tC(t,i,h);return rf.set(s,d),d}function IT(r=Ng){const e=rf.get(r);if(!e&&r===Ng&&bT())return xT();if(!e)throw wa.create("no-app",{appName:r});return e}function Aa(r,e,t){let i=ZI[r]??r;t&&(i+=`-${t}`);const s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){const h=[`Unable to register library "${i}" with version "${e}":`];s&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(h.join(" "));return}Ho(new As(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="firebase-heartbeat-database",rC=1,Cu="firebase-heartbeat-store";let mg=null;function CT(){return mg||(mg=EI(nC,rC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Cu)}catch(t){console.warn(t)}}}}).catch(r=>{throw wa.create("idb-open",{originalErrorMessage:r.message})})),mg}async function iC(r){try{const t=(await CT()).transaction(Cu),i=await t.objectStore(Cu).get(NT(r));return await t.done,i}catch(e){if(e instanceof zi)ki.warn(e.message);else{const t=wa.create("idb-get",{originalErrorMessage:e?.message});ki.warn(t.message)}}}async function hE(r,e){try{const i=(await CT()).transaction(Cu,"readwrite");await i.objectStore(Cu).put(e,NT(r)),await i.done}catch(t){if(t instanceof zi)ki.warn(t.message);else{const i=wa.create("idb-set",{originalErrorMessage:t?.message});ki.warn(i.message)}}}function NT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=1024,sC=30;class oC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>sC){const s=cC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fE(),{heartbeatsToSend:t,unsentEntries:i}=lC(this._heartbeatsCache.heartbeats),s=nf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ki.warn(e),""}}}function fE(){return new Date().toISOString().substring(0,10)}function lC(r,e=aC){const t=[];let i=r.slice();for(const s of r){const u=t.find(h=>h.agent===s.agent);if(u){if(u.dates.push(s.date),dE(t)>e){u.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),dE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class uC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kx()?Xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dE(r){return nf(JSON.stringify({version:2,heartbeats:r})).length}function cC(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r){Ho(new As("platform-logger",e=>new SI(e),"PRIVATE")),Ho(new As("heartbeat",e=>new oC(e),"PRIVATE")),Aa(Cg,uE,r),Aa(Cg,uE,"esm2020"),Aa("fire-js","")}hC("");function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fC=DT,OT=new Fu("auth","Firebase",DT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Tp("@firebase/auth");function dC(r,...e){af.logLevel<=Ue.WARN&&af.warn(`Auth (${tl}): ${r}`,...e)}function qh(r,...e){af.logLevel<=Ue.ERROR&&af.error(`Auth (${tl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,...e){throw Ap(r,...e)}function Wr(r,...e){return Ap(r,...e)}function MT(r,e,t){const i={...fC(),[e]:t};return new Fu("auth","Firebase",i).create(e,{appName:r.name})}function Ra(r){return MT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return OT.create(r,...e)}function xe(r,e,...t){if(!r)throw Ap(e,...t)}function Oi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qh(e),new Error(e)}function ji(r,e){r||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){return typeof self<"u"&&self.location?.href||""}function mC(){return mE()==="http:"||mE()==="https:"}function mE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mC()||Gx()||"connection"in navigator)?navigator.onLine:!0}function pC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ji(t>e,"Short delay should be less than long delay!"),this.isMobile=qx()||Yx()}get(){return gC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(r,e){ji(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_C=new Yu(3e4,6e4);function Ns(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ja(r,e,t,i,s={}){return PT(r,s,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const d=Gu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return Fx()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&el(r.emulatorConfig.host)&&(g.credentials="include"),VT.fetch()(await kT(r,r.config.apiHost,t,d),g)})}async function PT(r,e,t){r._canInitEmulator=!1;const i={...yC,...e};try{const s=new bC(r),u=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Dh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Dh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Dh(r,"user-disabled",h);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw MT(r,_,g);xr(r,_)}}catch(s){if(s instanceof zi)throw s;xr(r,"network-request-failed",{message:String(s)})}}async function Df(r,e,t,i,s={}){const u=await ja(r,e,t,i,s);return"mfaPendingCredential"in u&&xr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function kT(r,e,t,i){const s=`${e}${t}?${i}`,u=r,h=u.config.emulator?Rp(r.config,s):`${r.config.apiScheme}://${s}`;return vC.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function EC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Wr(this.auth,"network-request-failed")),_C.get())})}}function Dh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Wr(r,e,i);return s.customData._tokenResponse=t,s}function gE(r){return r!==void 0&&r.enterprise!==void 0}class TC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SC(r,e){return ja(r,"GET","/v2/recaptchaConfig",Ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(r,e){return ja(r,"POST","/v1/accounts:delete",e)}async function sf(r,e){return ja(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AC(r,e=!1){const t=It(r),i=await t.getIdToken(e),s=xp(i);xe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const u=typeof s.firebase=="object"?s.firebase:void 0,h=u?.sign_in_provider;return{claims:s,token:i,authTime:Tu(gg(s.auth_time)),issuedAtTime:Tu(gg(s.iat)),expirationTime:Tu(gg(s.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function gg(r){return Number(r)*1e3}function xp(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const s=_T(t);return s?JSON.parse(s):(qh("Failed to decode base64 JWT payload"),null)}catch(s){return qh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function pE(r){const e=xp(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof zi&&RC(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function RC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(r){const e=r.auth,t=await r.getIdToken(),i=await Nu(r,sf(e,{idToken:t}));xe(i?.users.length,e,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const u=s.providerUserInfo?.length?jT(s.providerUserInfo):[],h=CC(r.providerData,u),d=r.isAnonymous,p=!(r.email&&s.passwordHash)&&!h?.length,g=d?p:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:h,metadata:new Mg(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function IC(r){const e=It(r);await of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CC(r,e){return[...r.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function jT(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(r,e){const t=await PT(r,{},async()=>{const i=Gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:u}=r.config,h=await kT(r,s,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return r.emulatorConfig&&el(r.emulatorConfig.host)&&(p.credentials="include"),VT.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function DC(r,e){return ja(r,"POST","/v2/accounts:revokeToken",Ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=pE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:u}=await NC(e,t);this.updateTokensAndExpiration(i,s,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:u}=t,h=new Uo;return i&&(xe(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),s&&(xe(typeof s=="string","internal-error",{appName:e}),h.accessToken=s),u&&(xe(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Sr{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new xC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Nu(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AC(this,e)}reload(){return IC(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await of(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(Ra(this.auth));const e=await this.getIdToken();return await Nu(this,wC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:C,providerData:j,stsTokenManager:V}=t;xe(T&&V,e,"internal-error");const L=Uo.fromJSON(this.name,V);xe(typeof T=="string",e,"internal-error"),pa(i,e.name),pa(s,e.name),xe(typeof S=="boolean",e,"internal-error"),xe(typeof C=="boolean",e,"internal-error"),pa(u,e.name),pa(h,e.name),pa(d,e.name),pa(p,e.name),pa(g,e.name),pa(_,e.name);const z=new Sr({uid:T,auth:e,email:s,emailVerified:S,displayName:i,isAnonymous:C,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:L,createdAt:g,lastLoginAt:_});return j&&Array.isArray(j)&&(z.providerData=j.map(J=>({...J}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,t,i=!1){const s=new Uo;s.updateFromServerResponse(t);const u=new Sr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await of(u),u}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];xe(s.localId!==void 0,"internal-error");const u=s.providerUserInfo!==void 0?jT(s.providerUserInfo):[],h=!(s.email&&s.passwordHash)&&!u?.length,d=new Uo;d.updateFromIdToken(i);const p=new Sr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Mg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;function Mi(r){ji(r instanceof Function,"Expected a class definition");let e=yE.get(r);return e?(ji(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,yE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}LT.type="NONE";const vE=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(r,e,t){return`firebase:${r}:${e}:${t}`}class zo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:u}=this.auth;this.fullUserKey=Hh(this.userKey,s.apiKey,u),this.fullPersistenceKey=Hh("persistence",s.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sf(this.auth,{idToken:e}).catch(()=>{});return t?Sr._fromGetAccountInfoResponse(this.auth,t,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new zo(Mi(vE),e,i);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=s[0]||Mi(vE);const h=Hh(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(h);if(_){let T;if(typeof _=="string"){const S=await sf(e,{idToken:_}).catch(()=>{});if(!S)break;T=await Sr._fromGetAccountInfoResponse(e,S,_)}else T=Sr._fromJSON(e,_);g!==u&&(d=T),u=g;break}}catch{}const p=s.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new zo(u,e,i):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new zo(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(GT(e))return"Webos";if(zT(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function UT(r=Sn()){return/firefox\//i.test(r)}function zT(r=Sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(r=Sn()){return/crios\//i.test(r)}function qT(r=Sn()){return/iemobile/i.test(r)}function HT(r=Sn()){return/android/i.test(r)}function FT(r=Sn()){return/blackberry/i.test(r)}function GT(r=Sn()){return/webos/i.test(r)}function Ip(r=Sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function OC(r=Sn()){return Ip(r)&&!!window.navigator?.standalone}function MC(){return $x()&&document.documentMode===10}function YT(r=Sn()){return Ip(r)||HT(r)||GT(r)||FT(r)||/windows phone/i.test(r)||qT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r,e=[]){let t;switch(r){case"Browser":t=_E(Sn());break;case"Worker":t=`${_E(Sn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(r,e={}){return ja(r,"GET","/v2/passwordPolicy",Ns(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=6;class jC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??kC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new VC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sf(this,{idToken:e}),i=await Sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Tr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await of(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(Ra(this));const t=e?It(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(Ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(Ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PC(this),t=new jC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await DC(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mi(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,s);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nl(r){return It(r)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=tI(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UC(r){Of=r}function QT(r){return Of.loadJS(r)}function zC(){return Of.recaptchaEnterpriseScript}function BC(){return Of.gapiScript}function qC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class HC{constructor(){this.enterprise=new FC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const GC="recaptcha-enterprise",KT="NO_RECAPTCHA";class YC{constructor(e){this.type=GC,this.auth=nl(e)}async verify(e="verify",t=!1){async function i(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{SC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new TC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function s(u,h,d){const p=window.grecaptcha;gE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(KT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(d=>{if(!t&&gE(window.grecaptcha))s(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=zC();p.length!==0&&(p+=d),QT(p).then(()=>{s(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function bE(r,e,t,i=!1,s=!1){const u=new YC(r);let h;if(s)h=KT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function TE(r,e,t,i,s){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await bE(r,e,t,t==="getOobCode");return i(r,u)}else return i(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await bE(r,e,t,t==="getOobCode");return i(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r,e){const t=wp(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),u=t.getOptions();if(ws(u,e??{}))return s;xr(s,"already-initialized")}return t.initialize({options:e})}function QC(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Mi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function KC(r,e,t){const i=nl(r);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,u=XT(e),{host:h,port:d}=XC(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(ws(g,i.config.emulator)&&ws(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,el(h)?(ST(`${u}//${h}${p}`),wT("Auth",!0)):WC()}function XT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XC(r){const e=XT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const u=s[1];return{host:u,port:SE(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:SE(h)}}}function SE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function WC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function ZC(r,e){return ja(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(r,e){return Df(r,"POST","/v1/accounts:signInWithPassword",Ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(r,e){return Df(r,"POST","/v1/accounts:signInWithEmailLink",Ns(r,e))}async function tN(r,e){return Df(r,"POST","/v1/accounts:signInWithEmailLink",Ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Cp{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Du(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Du(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TE(e,t,"signInWithPassword",JC);case"emailLink":return eN(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TE(e,i,"signUpPassword",ZC);case"emailLink":return tN(e,{idToken:t,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r,e){return Df(r,"POST","/v1/accounts:signInWithIdp",Ns(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="http://localhost";class Rs extends Cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...u}=t;if(!i||!s)return null;const h=new Rs(i,s);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Bo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Bo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:nN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iN(r){const e=gu(pu(r)).link,t=e?gu(pu(e)).deep_link_id:null,i=gu(pu(r)).deep_link_id;return(i?gu(pu(i)).link:null)||i||t||e||r}class Np{constructor(e){const t=gu(pu(e)),i=t.apiKey??null,s=t.oobCode??null,u=rN(t.mode??null);xe(i&&s&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=iN(e);try{return new Np(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,t){return Du._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Np.parseLink(t);return xe(i,"argument-error"),Du._fromEmailAndCode(e,i.code,i.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends WT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends $u{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rs._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return va.credential(t,i)}catch{return null}}}va.GOOGLE_SIGN_IN_METHOD="google.com";va.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends $u{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.GITHUB_SIGN_IN_METHOD="github.com";_a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends $u{constructor(){super("twitter.com")}static credential(e,t){return Rs._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ea.credential(t,i)}catch{return null}}}Ea.TWITTER_SIGN_IN_METHOD="twitter.com";Ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const u=await Sr._fromIdTokenResponse(e,i,s),h=wE(i);return new Fo({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=wE(i);return new Fo({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function wE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends zi{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,lf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new lf(e,t,i,s)}}function ZT(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lf._fromErrorAndOperation(r,u,e,i):u})}async function aN(r,e,t=!1){const i=await Nu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Fo._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(r,e,t=!1){const{auth:i}=r;if(Tr(i.app))return Promise.reject(Ra(i));const s="reauthenticate";try{const u=await Nu(r,ZT(i,s,e,r),t);xe(u.idToken,i,"internal-error");const h=xp(u.idToken);xe(h,i,"internal-error");const{sub:d}=h;return xe(r.uid===d,i,"user-mismatch"),Fo._forOperation(r,s,u)}catch(u){throw u?.code==="auth/user-not-found"&&xr(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(r,e,t=!1){if(Tr(r.app))return Promise.reject(Ra(r));const i="signIn",s=await ZT(r,i,e),u=await Fo._fromIdTokenResponse(r,i,s);return t||await r._updateCurrentUser(u.user),u}async function oN(r,e){return JT(nl(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(r){const e=nl(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function uN(r,e,t){return Tr(r.app)?Promise.reject(Ra(r)):oN(It(r),rl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&lN(r),i})}function cN(r,e,t,i){return It(r).onIdTokenChanged(e,t,i)}function hN(r,e,t){return It(r).beforeAuthStateChanged(e,t)}function eS(r,e,t,i){return It(r).onAuthStateChanged(e,t,i)}function fN(r){return It(r).signOut()}const uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uf,"1"),this.storage.removeItem(uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=1e3,mN=10;class nS extends tS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);MC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mN):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},dN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nS.type="LOCAL";const gN=nS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends tS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rS.type="SESSION";const iS=rS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Mf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:u}=t.data,h=this.handlersMap[s];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await pN(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=Dp("",20);s.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:s,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),s.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function vN(r){Zr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function _N(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EN(){return navigator?.serviceWorker?.controller||null}function bN(){return aS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="firebaseLocalStorageDb",TN=1,cf="firebaseLocalStorage",oS="fbase_key";class Qu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vf(r,e){return r.transaction([cf],e?"readwrite":"readonly").objectStore(cf)}function SN(){const r=indexedDB.deleteDatabase(sS);return new Qu(r).toPromise()}function Vg(){const r=indexedDB.open(sS,TN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(cf,{keyPath:oS})}catch(s){t(s)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(cf)?e(i):(i.close(),await SN(),e(await Vg()))})})}async function AE(r,e,t){const i=Vf(r,!0).put({[oS]:e,value:t});return new Qu(i).toPromise()}async function wN(r,e){const t=Vf(r,!1).get(e),i=await new Qu(t).toPromise();return i===void 0?null:i.value}function RE(r,e){const t=Vf(r,!0).delete(e);return new Qu(t).toPromise()}const AN=800,RN=3;class lS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>RN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mf._getInstance(bN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _N(),!this.activeServiceWorker)return;this.sender=new yN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await AE(e,uf,"1"),await RE(e,uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>AE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>wN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>RE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const u=Vf(s,!1).getAll();return new Qu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:u}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lS.type="LOCAL";const xN=lS;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(r,e){return e?Mi(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends Cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CN(r){return JT(r.auth,new Op(r),r.bypassAuthState)}function NN(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),sN(t,new Op(r),r.bypassAuthState)}async function DN(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),aN(t,new Op(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,t,i,s,u=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CN;case"linkViaPopup":case"linkViaRedirect":return DN;case"reauthViaPopup":case"reauthViaRedirect":return NN;default:xr(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new Yu(2e3,1e4);class Po extends uS{constructor(e,t,i,s,u){super(e,t,s,u),this.provider=i,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ON.get())};e()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="pendingRedirect",Fh=new Map;class VN extends uS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{const i=await PN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PN(r,e){const t=LN(e),i=jN(r);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function kN(r,e){Fh.set(r._key(),e)}function jN(r){return Mi(r._redirectPersistence)}function LN(r){return Hh(MN,r.config.apiKey,r.name)}async function UN(r,e,t=!1){if(Tr(r.app))return Promise.reject(Ra(r));const i=nl(r),s=IN(i,e),h=await new VN(i,s,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=600*1e3;class BN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!cS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Wr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zN&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function cS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function qN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(r,e={}){return ja(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GN=/^https?/;async function YN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await HN(r);for(const t of e)try{if($N(t))return}catch{}xr(r,"unauthorized-domain")}function $N(r){const e=Og(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!GN.test(t))return!1;if(FN.test(r))return i===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new Yu(3e4,6e4);function IE(){const r=Zr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function KN(r){return new Promise((e,t)=>{function i(){IE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IE(),t(Wr(r,"network-request-failed"))},timeout:QN.get()})}if(Zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zr().gapi?.load)i();else{const s=qC("iframefcb");return Zr()[s]=()=>{gapi.load?i():t(Wr(r,"network-request-failed"))},QT(`${BC()}?onload=${s}`).catch(u=>t(u))}}).catch(e=>{throw Gh=null,e})}let Gh=null;function XN(r){return Gh=Gh||KN(r),Gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Yu(5e3,15e3),ZN="__/auth/iframe",JN="emulator/auth/iframe",eD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nD(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Rp(e,JN):`https://${r.config.authDomain}/${ZN}`,i={apiKey:e.apiKey,appName:r.name,v:tl},s=tD.get(r.config.apiHost);s&&(i.eid=s);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${Gu(i).slice(1)}`}async function rD(r){const e=await XN(r),t=Zr().gapi;return xe(t,r,"internal-error"),e.open({where:document.body,url:nD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eD,dontclear:!0},i=>new Promise(async(s,u)=>{await i.restyle({setHideOnLeave:!1});const h=Wr(r,"network-request-failed"),d=Zr().setTimeout(()=>{u(h)},WN.get());function p(){Zr().clearTimeout(d),s(i)}i.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aD=500,sD=600,oD="_blank",lD="http://localhost";class CE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uD(r,e,t,i=aD,s=sD){const u=Math.max((window.screen.availHeight-s)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...iD,width:i.toString(),height:s.toString(),top:u,left:h},g=Sn().toLowerCase();t&&(d=BT(g)?oD:t),UT(g)&&(e=e||lD,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[C,j])=>`${S}${C}=${j},`,"");if(OC(g)&&d!=="_self")return cD(e||"",d),new CE(null);const T=window.open(e||"",d,_);xe(T,r,"popup-blocked");try{T.focus()}catch{}return new CE(T)}function cD(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="__/auth/handler",fD="emulator/auth/handler",dD=encodeURIComponent("fac");async function NE(r,e,t,i,s,u){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:tl,eventId:s};if(e instanceof WT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",eI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof $u){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await r._getAppCheckToken(),g=p?`#${dD}=${encodeURIComponent(p)}`:"";return`${mD(r)}?${Gu(d).slice(1)}${g}`}function mD({config:r}){return r.emulator?Rp(r,fD):`https://${r.authDomain}/${hD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="webStorageSupport";class gD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iS,this._completeRedirectFn=UN,this._overrideRedirectResult=kN}async _openPopup(e,t,i,s){ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await NE(e,t,i,Og(),s);return uD(e,u,Dp())}async _openRedirect(e,t,i,s){await this._originValidation(e);const u=await NE(e,t,i,Og(),s);return vN(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:u}=this.eventManagers[t];return s?Promise.resolve(s):(ji(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await rD(e),i=new BN(e);return t.register("authEvent",s=>(xe(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pg,{type:pg},s=>{const u=s?.[0]?.[pg];u!==void 0&&t(!!u),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YT()||zT()||Ip()}}const pD=gD;var DE="@firebase/auth",OE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _D(r){Ho(new As("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=i.options;xe(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$T(r)},g=new LC(i,s,u,p);return QC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ho(new As("auth-internal",e=>{const t=nl(e.getProvider("auth").getImmediate());return(i=>new yD(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Aa(DE,OE,vD(r)),Aa(DE,OE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=300,bD=TT("authIdTokenMaxAge")||ED;let ME=null;const TD=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>bD)return;const s=t?.token;ME!==s&&(ME=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function SD(r=IT()){const e=wp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=$C(r,{popupRedirectResolver:pD,persistence:[xN,gN,iS]}),i=TT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=TD(u.toString());hN(t,h,()=>h(t.currentUser)),cN(t,d=>h(d))}}const s=ET("auth");return s&&KC(t,`http://${s}`),t}function wD(){return document.getElementsByTagName("head")?.[0]??document}UC({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=s=>{const u=Wr("internal-error");u.customData=s,t(u)},i.type="text/javascript",i.charset="UTF-8",wD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_D("Browser");var AD="firebase",RD="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Aa(AD,RD,"app");var VE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xa,hS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,x){function N(){}N.prototype=x.prototype,U.D=x.prototype,U.prototype=new N,U.prototype.constructor=U,U.C=function(O,M,q){for(var R=Array(arguments.length-2),he=2;he<arguments.length;he++)R[he-2]=arguments[he];return x.prototype[M].apply(O,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(U,x,N){N||(N=0);var O=Array(16);if(typeof x=="string")for(var M=0;16>M;++M)O[M]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(M=0;16>M;++M)O[M]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=U.g[0],N=U.g[1],M=U.g[2];var q=U.g[3],R=x+(q^N&(M^q))+O[0]+3614090360&4294967295;x=N+(R<<7&4294967295|R>>>25),R=q+(M^x&(N^M))+O[1]+3905402710&4294967295,q=x+(R<<12&4294967295|R>>>20),R=M+(N^q&(x^N))+O[2]+606105819&4294967295,M=q+(R<<17&4294967295|R>>>15),R=N+(x^M&(q^x))+O[3]+3250441966&4294967295,N=M+(R<<22&4294967295|R>>>10),R=x+(q^N&(M^q))+O[4]+4118548399&4294967295,x=N+(R<<7&4294967295|R>>>25),R=q+(M^x&(N^M))+O[5]+1200080426&4294967295,q=x+(R<<12&4294967295|R>>>20),R=M+(N^q&(x^N))+O[6]+2821735955&4294967295,M=q+(R<<17&4294967295|R>>>15),R=N+(x^M&(q^x))+O[7]+4249261313&4294967295,N=M+(R<<22&4294967295|R>>>10),R=x+(q^N&(M^q))+O[8]+1770035416&4294967295,x=N+(R<<7&4294967295|R>>>25),R=q+(M^x&(N^M))+O[9]+2336552879&4294967295,q=x+(R<<12&4294967295|R>>>20),R=M+(N^q&(x^N))+O[10]+4294925233&4294967295,M=q+(R<<17&4294967295|R>>>15),R=N+(x^M&(q^x))+O[11]+2304563134&4294967295,N=M+(R<<22&4294967295|R>>>10),R=x+(q^N&(M^q))+O[12]+1804603682&4294967295,x=N+(R<<7&4294967295|R>>>25),R=q+(M^x&(N^M))+O[13]+4254626195&4294967295,q=x+(R<<12&4294967295|R>>>20),R=M+(N^q&(x^N))+O[14]+2792965006&4294967295,M=q+(R<<17&4294967295|R>>>15),R=N+(x^M&(q^x))+O[15]+1236535329&4294967295,N=M+(R<<22&4294967295|R>>>10),R=x+(M^q&(N^M))+O[1]+4129170786&4294967295,x=N+(R<<5&4294967295|R>>>27),R=q+(N^M&(x^N))+O[6]+3225465664&4294967295,q=x+(R<<9&4294967295|R>>>23),R=M+(x^N&(q^x))+O[11]+643717713&4294967295,M=q+(R<<14&4294967295|R>>>18),R=N+(q^x&(M^q))+O[0]+3921069994&4294967295,N=M+(R<<20&4294967295|R>>>12),R=x+(M^q&(N^M))+O[5]+3593408605&4294967295,x=N+(R<<5&4294967295|R>>>27),R=q+(N^M&(x^N))+O[10]+38016083&4294967295,q=x+(R<<9&4294967295|R>>>23),R=M+(x^N&(q^x))+O[15]+3634488961&4294967295,M=q+(R<<14&4294967295|R>>>18),R=N+(q^x&(M^q))+O[4]+3889429448&4294967295,N=M+(R<<20&4294967295|R>>>12),R=x+(M^q&(N^M))+O[9]+568446438&4294967295,x=N+(R<<5&4294967295|R>>>27),R=q+(N^M&(x^N))+O[14]+3275163606&4294967295,q=x+(R<<9&4294967295|R>>>23),R=M+(x^N&(q^x))+O[3]+4107603335&4294967295,M=q+(R<<14&4294967295|R>>>18),R=N+(q^x&(M^q))+O[8]+1163531501&4294967295,N=M+(R<<20&4294967295|R>>>12),R=x+(M^q&(N^M))+O[13]+2850285829&4294967295,x=N+(R<<5&4294967295|R>>>27),R=q+(N^M&(x^N))+O[2]+4243563512&4294967295,q=x+(R<<9&4294967295|R>>>23),R=M+(x^N&(q^x))+O[7]+1735328473&4294967295,M=q+(R<<14&4294967295|R>>>18),R=N+(q^x&(M^q))+O[12]+2368359562&4294967295,N=M+(R<<20&4294967295|R>>>12),R=x+(N^M^q)+O[5]+4294588738&4294967295,x=N+(R<<4&4294967295|R>>>28),R=q+(x^N^M)+O[8]+2272392833&4294967295,q=x+(R<<11&4294967295|R>>>21),R=M+(q^x^N)+O[11]+1839030562&4294967295,M=q+(R<<16&4294967295|R>>>16),R=N+(M^q^x)+O[14]+4259657740&4294967295,N=M+(R<<23&4294967295|R>>>9),R=x+(N^M^q)+O[1]+2763975236&4294967295,x=N+(R<<4&4294967295|R>>>28),R=q+(x^N^M)+O[4]+1272893353&4294967295,q=x+(R<<11&4294967295|R>>>21),R=M+(q^x^N)+O[7]+4139469664&4294967295,M=q+(R<<16&4294967295|R>>>16),R=N+(M^q^x)+O[10]+3200236656&4294967295,N=M+(R<<23&4294967295|R>>>9),R=x+(N^M^q)+O[13]+681279174&4294967295,x=N+(R<<4&4294967295|R>>>28),R=q+(x^N^M)+O[0]+3936430074&4294967295,q=x+(R<<11&4294967295|R>>>21),R=M+(q^x^N)+O[3]+3572445317&4294967295,M=q+(R<<16&4294967295|R>>>16),R=N+(M^q^x)+O[6]+76029189&4294967295,N=M+(R<<23&4294967295|R>>>9),R=x+(N^M^q)+O[9]+3654602809&4294967295,x=N+(R<<4&4294967295|R>>>28),R=q+(x^N^M)+O[12]+3873151461&4294967295,q=x+(R<<11&4294967295|R>>>21),R=M+(q^x^N)+O[15]+530742520&4294967295,M=q+(R<<16&4294967295|R>>>16),R=N+(M^q^x)+O[2]+3299628645&4294967295,N=M+(R<<23&4294967295|R>>>9),R=x+(M^(N|~q))+O[0]+4096336452&4294967295,x=N+(R<<6&4294967295|R>>>26),R=q+(N^(x|~M))+O[7]+1126891415&4294967295,q=x+(R<<10&4294967295|R>>>22),R=M+(x^(q|~N))+O[14]+2878612391&4294967295,M=q+(R<<15&4294967295|R>>>17),R=N+(q^(M|~x))+O[5]+4237533241&4294967295,N=M+(R<<21&4294967295|R>>>11),R=x+(M^(N|~q))+O[12]+1700485571&4294967295,x=N+(R<<6&4294967295|R>>>26),R=q+(N^(x|~M))+O[3]+2399980690&4294967295,q=x+(R<<10&4294967295|R>>>22),R=M+(x^(q|~N))+O[10]+4293915773&4294967295,M=q+(R<<15&4294967295|R>>>17),R=N+(q^(M|~x))+O[1]+2240044497&4294967295,N=M+(R<<21&4294967295|R>>>11),R=x+(M^(N|~q))+O[8]+1873313359&4294967295,x=N+(R<<6&4294967295|R>>>26),R=q+(N^(x|~M))+O[15]+4264355552&4294967295,q=x+(R<<10&4294967295|R>>>22),R=M+(x^(q|~N))+O[6]+2734768916&4294967295,M=q+(R<<15&4294967295|R>>>17),R=N+(q^(M|~x))+O[13]+1309151649&4294967295,N=M+(R<<21&4294967295|R>>>11),R=x+(M^(N|~q))+O[4]+4149444226&4294967295,x=N+(R<<6&4294967295|R>>>26),R=q+(N^(x|~M))+O[11]+3174756917&4294967295,q=x+(R<<10&4294967295|R>>>22),R=M+(x^(q|~N))+O[2]+718787259&4294967295,M=q+(R<<15&4294967295|R>>>17),R=N+(q^(M|~x))+O[9]+3951481745&4294967295,U.g[0]=U.g[0]+x&4294967295,U.g[1]=U.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,U.g[2]=U.g[2]+M&4294967295,U.g[3]=U.g[3]+q&4294967295}i.prototype.u=function(U,x){x===void 0&&(x=U.length);for(var N=x-this.blockSize,O=this.B,M=this.h,q=0;q<x;){if(M==0)for(;q<=N;)s(this,U,q),q+=this.blockSize;if(typeof U=="string"){for(;q<x;)if(O[M++]=U.charCodeAt(q++),M==this.blockSize){s(this,O),M=0;break}}else for(;q<x;)if(O[M++]=U[q++],M==this.blockSize){s(this,O),M=0;break}}this.h=M,this.o+=x},i.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var x=1;x<U.length-8;++x)U[x]=0;var N=8*this.o;for(x=U.length-8;x<U.length;++x)U[x]=N&255,N/=256;for(this.u(U),U=Array(16),x=N=0;4>x;++x)for(var O=0;32>O;O+=8)U[N++]=this.g[x]>>>O&255;return U};function u(U,x){var N=d;return Object.prototype.hasOwnProperty.call(N,U)?N[U]:N[U]=x(U)}function h(U,x){this.h=x;for(var N=[],O=!0,M=U.length-1;0<=M;M--){var q=U[M]|0;O&&q==x||(N[M]=q,O=!1)}this.g=N}var d={};function p(U){return-128<=U&&128>U?u(U,function(x){return new h([x|0],0>x?-1:0)}):new h([U|0],0>U?-1:0)}function g(U){if(isNaN(U)||!isFinite(U))return T;if(0>U)return L(g(-U));for(var x=[],N=1,O=0;U>=N;O++)x[O]=U/N|0,N*=4294967296;return new h(x,0)}function _(U,x){if(U.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(U.charAt(0)=="-")return L(_(U.substring(1),x));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(x,8)),O=T,M=0;M<U.length;M+=8){var q=Math.min(8,U.length-M),R=parseInt(U.substring(M,M+q),x);8>q?(q=g(Math.pow(x,q)),O=O.j(q).add(g(R))):(O=O.j(N),O=O.add(g(R)))}return O}var T=p(0),S=p(1),C=p(16777216);r=h.prototype,r.m=function(){if(V(this))return-L(this).m();for(var U=0,x=1,N=0;N<this.g.length;N++){var O=this.i(N);U+=(0<=O?O:4294967296+O)*x,x*=4294967296}return U},r.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(j(this))return"0";if(V(this))return"-"+L(this).toString(U);for(var x=g(Math.pow(U,6)),N=this,O="";;){var M=ie(N,x).g;N=z(N,M.j(x));var q=((0<N.g.length?N.g[0]:N.h)>>>0).toString(U);if(N=M,j(N))return q+O;for(;6>q.length;)q="0"+q;O=q+O}},r.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function j(U){if(U.h!=0)return!1;for(var x=0;x<U.g.length;x++)if(U.g[x]!=0)return!1;return!0}function V(U){return U.h==-1}r.l=function(U){return U=z(this,U),V(U)?-1:j(U)?0:1};function L(U){for(var x=U.g.length,N=[],O=0;O<x;O++)N[O]=~U.g[O];return new h(N,~U.h).add(S)}r.abs=function(){return V(this)?L(this):this},r.add=function(U){for(var x=Math.max(this.g.length,U.g.length),N=[],O=0,M=0;M<=x;M++){var q=O+(this.i(M)&65535)+(U.i(M)&65535),R=(q>>>16)+(this.i(M)>>>16)+(U.i(M)>>>16);O=R>>>16,q&=65535,R&=65535,N[M]=R<<16|q}return new h(N,N[N.length-1]&-2147483648?-1:0)};function z(U,x){return U.add(L(x))}r.j=function(U){if(j(this)||j(U))return T;if(V(this))return V(U)?L(this).j(L(U)):L(L(this).j(U));if(V(U))return L(this.j(L(U)));if(0>this.l(C)&&0>U.l(C))return g(this.m()*U.m());for(var x=this.g.length+U.g.length,N=[],O=0;O<2*x;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<U.g.length;M++){var q=this.i(O)>>>16,R=this.i(O)&65535,he=U.i(M)>>>16,ue=U.i(M)&65535;N[2*O+2*M]+=R*ue,J(N,2*O+2*M),N[2*O+2*M+1]+=q*ue,J(N,2*O+2*M+1),N[2*O+2*M+1]+=R*he,J(N,2*O+2*M+1),N[2*O+2*M+2]+=q*he,J(N,2*O+2*M+2)}for(O=0;O<x;O++)N[O]=N[2*O+1]<<16|N[2*O];for(O=x;O<2*x;O++)N[O]=0;return new h(N,0)};function J(U,x){for(;(U[x]&65535)!=U[x];)U[x+1]+=U[x]>>>16,U[x]&=65535,x++}function ee(U,x){this.g=U,this.h=x}function ie(U,x){if(j(x))throw Error("division by zero");if(j(U))return new ee(T,T);if(V(U))return x=ie(L(U),x),new ee(L(x.g),L(x.h));if(V(x))return x=ie(U,L(x)),new ee(L(x.g),x.h);if(30<U.g.length){if(V(U)||V(x))throw Error("slowDivide_ only works with positive integers.");for(var N=S,O=x;0>=O.l(U);)N=te(N),O=te(O);var M=pe(N,1),q=pe(O,1);for(O=pe(O,2),N=pe(N,2);!j(O);){var R=q.add(O);0>=R.l(U)&&(M=M.add(N),q=R),O=pe(O,1),N=pe(N,1)}return x=z(U,M.j(x)),new ee(M,x)}for(M=T;0<=U.l(x);){for(N=Math.max(1,Math.floor(U.m()/x.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),q=g(N),R=q.j(x);V(R)||0<R.l(U);)N-=O,q=g(N),R=q.j(x);j(q)&&(q=S),M=M.add(q),U=z(U,R)}return new ee(M,U)}r.A=function(U){return ie(this,U).h},r.and=function(U){for(var x=Math.max(this.g.length,U.g.length),N=[],O=0;O<x;O++)N[O]=this.i(O)&U.i(O);return new h(N,this.h&U.h)},r.or=function(U){for(var x=Math.max(this.g.length,U.g.length),N=[],O=0;O<x;O++)N[O]=this.i(O)|U.i(O);return new h(N,this.h|U.h)},r.xor=function(U){for(var x=Math.max(this.g.length,U.g.length),N=[],O=0;O<x;O++)N[O]=this.i(O)^U.i(O);return new h(N,this.h^U.h)};function te(U){for(var x=U.g.length+1,N=[],O=0;O<x;O++)N[O]=U.i(O)<<1|U.i(O-1)>>>31;return new h(N,U.h)}function pe(U,x){var N=x>>5;x%=32;for(var O=U.g.length-N,M=[],q=0;q<O;q++)M[q]=0<x?U.i(q+N)>>>x|U.i(q+N+1)<<32-x:U.i(q+N);return new h(M,U.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,hS=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,xa=h}).apply(typeof VE<"u"?VE:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fS,yu,dS,Yh,Pg,mS,gS,pS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function s(c,y){if(y)e:{var E=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var F=c[A];if(!(F in E))break e;E=E[F]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var E=0,A=!1,F={next:function(){if(!A&&E<c.length){var W=E++;return{value:y(W,c[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(c){return c||function(){return u(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,E){return c.call.apply(c.bind,arguments)}function T(c,y,E){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function S(c,y,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,S.apply(null,arguments)}function C(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function j(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(A,F,W){for(var de=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)de[qe-2]=arguments[qe];return y.prototype[F].apply(A,de)}}function V(c){const y=c.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function L(c,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(p(A)){const F=c.length||0,W=A.length||0;c.length=F+W;for(let de=0;de<W;de++)c[F+de]=A[de]}else c.push(A)}}class z{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var te=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function pe(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function U(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function x(c){const y={};for(const E in c)y[E]=c[E];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)c[E]=A[E];for(let W=0;W<N.length;W++)E=N[W],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function M(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function q(c){d.setTimeout(()=>{throw c},0)}function R(){var c=fe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class he{constructor(){this.h=this.g=null}add(y,E){const A=ue.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ue=new z(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let K,Z=!1,fe=new he,I=()=>{const c=d.Promise.resolve(void 0);K=()=>{c.then(X)}};var X=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(E){q(E)}var y=ue;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Z=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return c}();function Te(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(te){e:{try{ie(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Te.aa.h.call(this)}}j(Te,se);var _e={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function lt(c,y,E,A,F){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=F,this.key=++Ve,this.da=this.fa=!1}function ut(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wt(c){this.src=c,this.g={},this.h=0}wt.prototype.add=function(c,y,E,A,F){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var de=yn(c,y,A,F);return-1<de?(y=c[de],E||(y.fa=!1)):(y=new lt(y,this.src,W,!!A,F),y.fa=E,c.push(y)),y};function Yt(c,y){var E=y.type;if(E in c.g){var A=c.g[E],F=Array.prototype.indexOf.call(A,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(A,F,1),W&&(ut(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function yn(c,y,E,A){for(var F=0;F<c.length;++F){var W=c[F];if(!W.da&&W.listener==y&&W.capture==!!E&&W.ha==A)return F}return-1}var ct="closure_lm_"+(1e6*Math.random()|0),hr={};function tn(c,y,E,A,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)tn(c,y[W],E,A,F);return null}return E=Ls(E),c&&c[$e]?c.K(y,E,g(A)?!!A.capture:!1,F):nn(c,y,E,!1,A,F)}function nn(c,y,E,A,F,W){if(!y)throw Error("Invalid event type");var de=g(F)?!!F.capture:!!F,qe=si(c);if(qe||(c[ct]=qe=new wt(c)),E=qe.add(y,E,A,de,W),E.proxy)return E;if(A=js(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)ge||(F=de),F===void 0&&(F=!1),c.addEventListener(y.toString(),A,F);else if(c.attachEvent)c.attachEvent(ai(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function js(){function c(E){return y.call(c.src,c.listener,E)}const y=dl;return c}function qi(c,y,E,A,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)qi(c,y[W],E,A,F);else A=g(A)?!!A.capture:!!A,E=Ls(E),c&&c[$e]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],E=yn(W,E,A,F),-1<E&&(ut(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=si(c))&&(y=c.g[y.toString()],c=-1,y&&(c=yn(y,E,A,F)),(E=-1<c?y[c]:null)&&Hi(E))}function Hi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[$e])Yt(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(ai(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=si(y))?(Yt(E,c),E.h==0&&(E.src=null,y[ct]=null)):ut(c)}}}function ai(c){return c in hr?hr[c]:hr[c]="on"+c}function dl(c,y){if(c.da)c=!0;else{y=new Te(y,this);var E=c.listener,A=c.ha||c.src;c.fa&&Hi(c),c=E.call(A,y)}return c}function si(c){return c=c[ct],c instanceof wt?c:null}var qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ls(c){return typeof c=="function"?c:(c[qa]||(c[qa]=function(y){return c.handleEvent(y)}),c[qa])}function gt(){ce.call(this),this.i=new wt(this),this.M=this,this.F=null}j(gt,ce),gt.prototype[$e]=!0,gt.prototype.removeEventListener=function(c,y,E,A){qi(this,c,y,E,A)};function Xe(c,y){var E,A=c.F;if(A)for(E=[];A;A=A.F)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var F=y;y=new se(A,c),O(y,F)}if(F=!0,E)for(var W=E.length-1;0<=W;W--){var de=y.g=E[W];F=wn(de,A,!0,y)&&F}if(de=y.g=c,F=wn(de,A,!0,y)&&F,F=wn(de,A,!1,y)&&F,E)for(W=0;W<E.length;W++)de=y.g=E[W],F=wn(de,A,!1,y)&&F}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],A=0;A<E.length;A++)ut(E[A]);delete c.g[y],c.h--}}this.F=null},gt.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},gt.prototype.L=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function wn(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var de=y[W];if(de&&!de.da&&de.capture==E){var qe=de.listener,Bt=de.ha||de.src;de.fa&&Yt(c.i,de),F=qe.call(Bt,A)!==!1&&F}}return F&&!A.defaultPrevented}function Ot(c,y,E){if(typeof c=="function")E&&(c=S(c,E));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Ha(c){c.g=Ot(()=>{c.g=null,c.i&&(c.i=!1,Ha(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Us extends ce{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ha(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(c){ce.call(this),this.h=c,this.g={}}j(oi,ce);var Qn=[];function Dr(c){pe(c.g,function(y,E){this.g.hasOwnProperty(E)&&Hi(y)},c),c.g={}}oi.prototype.N=function(){oi.aa.N.call(this),Dr(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=d.JSON.stringify,li=d.JSON.parse,Or=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ui(){}ui.prototype.h=null;function Fa(c){return c.h||(c.h=c.i())}function Fi(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){se.call(this,"d")}j(Kn,se);function Mt(){se.call(this,"c")}j(Mt,se);var mt={},Mr=null;function Qe(){return Mr=Mr||new gt}mt.La="serverreachability";function rn(c){se.call(this,mt.La,c)}j(rn,se);function Vr(c){const y=Qe();Xe(y,new rn(y))}mt.STAT_EVENT="statevent";function Gi(c,y){se.call(this,mt.STAT_EVENT,c),this.stat=y}j(Gi,se);function ht(c){const y=Qe();Xe(y,new Gi(y,c))}mt.Ma="timingevent";function At(c,y){se.call(this,mt.Ma,c),this.size=y}j(At,se);function pt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function an(){this.g=!0}an.prototype.xa=function(){this.g=!1};function ci(c,y,E,A,F,W){c.info(function(){if(c.g)if(W)for(var de="",qe=W.split("&"),Bt=0;Bt<qe.length;Bt++){var He=qe[Bt].split("=");if(1<He.length){var Kt=He[0];He=He[1];var qt=Kt.split("_");de=2<=qt.length&&qt[1]=="type"?de+(Kt+"="+He+"&"):de+(Kt+"=redacted&")}}else de=null;else de=W;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+E+`
`+de})}function Ga(c,y,E,A,F,W,de){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+E+`
`+W+" "+de})}function Xn(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+dr(c,E)+(A?" "+A:"")})}function zs(c,y){c.info(function(){return"TIMEOUT: "+y})}an.prototype.info=function(){};function dr(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var A=E[c];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var de=1;de<F.length;de++)F[de]=""}}}}return Pn(E)}catch{return y}}var mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Ce(){}j(Ce,ui),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},Wn=new Ce;function Pe(c,y,E,A){this.j=c,this.i=y,this.l=E,this.R=A||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var sn={},$t={};function An(c,y,E){c.L=1,c.v=Xa(kn(y)),c.m=E,c.P=!0,pr(c,null)}function pr(c,y){c.F=Date.now(),Ya(c),c.A=kn(c.v);var E=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),_l(E.i,"t",A),c.C=0,E=c.j.J,c.h=new De,c.g=Ac(c.j,E?y:null,!c.m),0<c.O&&(c.M=new Us(S(c.Y,c,c.g),c.O)),y=c.U,E=c.g,A=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Qn[0]=F.toString()),F=Qn);for(var W=0;W<F.length;W++){var de=tn(E,F[W],A||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Vr(),ci(c.i,c.u,c.A,c.l,c.R,c.m)}Pe.prototype.ca=function(c){c=c.target;const y=this.M;y&&tr(c)==3?y.j():this.Y(c)},Pe.prototype.Y=function(c){try{if(c==this.g)e:{const qt=tr(this.g);var y=this.g.Ba();const vi=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||yc(this.g)))){this.J||qt!=4||y==7||(y==8||0>=vi?Vr(3):Vr(2)),Yi(this);var E=this.g.Z();this.X=E;t:if(Bs(this)){var A=yc(this.g);c="";var F=A.length,W=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Pr(this);var de="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(W&&y==F-1)});A.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,Ga(this.i,this.u,this.A,this.l,this.R,qt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Bt=this.g;if((qe=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(qe)){var He=qe;break t}}He=null}if(E=He)Xn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$a(this,E);else{this.o=!1,this.s=3,ht(12),on(this),Pr(this);break e}}if(this.P){E=!0;let ln;for(;!this.J&&this.C<de.length;)if(ln=hc(this,de),ln==$t){qt==4&&(this.s=4,ht(14),E=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==sn){this.s=4,ht(15),Xn(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else Xn(this.i,this.l,ln,null),$a(this,ln);if(Bs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||de.length!=0||this.h.h||(this.s=1,ht(16),E=!1),this.o=this.o&&E,!E)Xn(this.i,this.l,de,"[Invalid Chunked Response]"),on(this),Pr(this);else if(0<de.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),is(Kt),Kt.M=!0,ht(11))}}else Xn(this.i,this.l,de,null),$a(this,de);qt==4&&on(this),this.o&&!this.J&&(qt==4?Tc(this.j,this):(this.o=!1,Ya(this)))}else cd(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),on(this),Pr(this)}}}catch{}finally{}};function Bs(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hc(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?$t:(E=Number(y.substring(E,A)),isNaN(E)?sn:(A+=1,A+E>y.length?$t:(y=y.slice(A,A+E),c.C=A+E,y)))}Pe.prototype.cancel=function(){this.J=!0,on(this)};function Ya(c){c.S=Date.now()+c.I,fc(c,c.I)}function fc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(S(c.ba,c),y)}function Yi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Pe.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(zs(this.i,this.A),this.L!=2&&(Vr(),ht(17)),on(this),this.s=2,Pr(this)):fc(this,this.S-c)};function Pr(c){c.j.G==0||c.J||Tc(c.j,c)}function on(c){Yi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Dr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function $a(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||ml(E.h,c))){if(!c.K&&ml(E.h,c)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Js(E),Ws(E);else break e;wl(E),ht(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=pt(S(E.Za,E),6e3));if(1>=Hs(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else yi(E,11)}else if((c.K||E.g==c)&&Js(E),!J(y))for(F=E.Da.g.parse(y),y=0;y<F.length;y++){let He=F[y];if(E.T=He[0],He=He[1],E.G==2)if(He[0]=="c"){E.K=He[1],E.ia=He[2];const Kt=He[3];Kt!=null&&(E.la=Kt,E.j.info("VER="+E.la));const qt=He[4];qt!=null&&(E.Aa=qt,E.j.info("SVER="+E.Aa));const vi=He[5];vi!=null&&typeof vi=="number"&&0<vi&&(A=1.5*vi,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ln=c.g;if(ln){const qr=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var W=A.h;W.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Fs(W,W.h),W.h=null))}if(A.D){const Rl=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(A.ya=Rl,rt(A.I,A.D,Rl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var de=c;if(A.qa=wc(A,A.J?A.ia:null,A.W),de.K){Rn(A.h,de);var qe=de,Bt=A.L;Bt&&(qe.I=Bt),qe.B&&(Yi(qe),Ya(qe)),A.g=de}else Ec(A);0<E.i.length&&Zs(E)}else He[0]!="stop"&&He[0]!="close"||yi(E,7);else E.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?yi(E,7):Tl(E):He[0]!="noop"&&E.l&&E.l.ta(He),E.v=0)}}Vr(4)}catch{}}var dc=class{constructor(c,y){this.g=c,this.map=y}};function hi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hs(c){return c.h?1:c.g?c.g.size:0}function ml(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Fs(c,y){c.g?c.g.add(y):c.h=y}function Rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}hi.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function gl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return V(c.i)}function sd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],E=c.length,A=0;A<E;A++)y.push(c[A]);return y}y=[],E=0;for(A in c)y[E++]=c[A];return y}function Gs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const A in c)y[E++]=A;return y}}}function pl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Gs(c),A=sd(c),F=A.length,W=0;W<F;W++)y.call(void 0,A[W],E&&E[W],c)}var Qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function od(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var A=c[E].indexOf("="),F=null;if(0<=A){var W=c[E].substring(0,A);F=c[E].substring(A+1)}else W=c[E];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vt){this.h=c.h,Ka(this,c.j),this.o=c.o,this.g=c.g,$i(this,c.s),this.l=c.l;var y=c.i,E=new di;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),fi(this,E),this.m=c.m}else c&&(y=String(c).match(Qa))?(this.h=!1,Ka(this,y[1]||"",!0),this.o=Zn(y[2]||""),this.g=Zn(y[3]||"",!0),$i(this,y[4]),this.l=Zn(y[5]||"",!0),fi(this,y[6]||"",!0),this.m=Zn(y[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Vt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Wa(y,yl,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Wa(y,yl,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Wa(E,E.charAt(0)=="/"?ld:vl,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Wa(E,Ys)),c.join("")};function kn(c){return new Vt(c)}function Ka(c,y,E){c.j=E?Zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function $i(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function fi(c,y,E){y instanceof di?(c.i=y,gc(c.i,c.h)):(E||(y=Wa(y,ud)),c.i=new di(y,c.h))}function rt(c,y,E){c.i.set(y,E)}function Xa(c){return rt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wa(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,mc),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yl=/[#\/\?@]/g,vl=/[#\?:]/g,ld=/[#\?]/g,ud=/[#\?@]/g,Ys=/#/g;function di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Jn(c){c.g||(c.g=new Map,c.h=0,c.i&&od(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=di.prototype,r.add=function(c,y){Jn(this),this.i=null,c=kr(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function mi(c,y){Jn(c),y=kr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function gi(c,y){return Jn(c),y=kr(c,y),c.g.has(y)}r.forEach=function(c,y){Jn(this),this.g.forEach(function(E,A){E.forEach(function(F){c.call(y,F,A,this)},this)},this)},r.na=function(){Jn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const F=c[A];for(let W=0;W<F.length;W++)E.push(y[A])}return E},r.V=function(c){Jn(this);let y=[];if(typeof c=="string")gi(this,c)&&(y=y.concat(this.g.get(kr(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},r.set=function(c,y){return Jn(this),this.i=null,c=kr(this,c),gi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function _l(c,y,E){mi(c,y),0<E.length&&(c.i=null,c.g.set(kr(c,y),V(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const W=encodeURIComponent(String(A)),de=this.V(A);for(A=0;A<de.length;A++){var F=W;de[A]!==""&&(F+="="+encodeURIComponent(String(de[A]))),c.push(F)}}return this.i=c.join("&")};function kr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function gc(c,y){y&&!c.j&&(Jn(c),c.i=null,c.g.forEach(function(E,A){var F=A.toLowerCase();A!=F&&(mi(this,A),_l(this,F,E))},c)),c.j=y}function Za(c,y){const E=new an;if(d.Image){const A=new Image;A.onload=C(er,E,"TestLoadImage: loaded",!0,y,A),A.onerror=C(er,E,"TestLoadImage: error",!1,y,A),A.onabort=C(er,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(er,E,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function yr(c,y){const E=new an,A=new AbortController,F=setTimeout(()=>{A.abort(),er(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(W=>{clearTimeout(F),W.ok?er(E,"TestPingServer: ok",!0,y):er(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),er(E,"TestPingServer: error",!1,y)})}function er(c,y,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function Ja(){this.g=new Or}function jr(c,y,E){const A=E||"";try{pl(c,function(F,W){let de=F;g(F)&&(de=Pn(F)),y.push(A+W+"="+encodeURIComponent(de))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function Qi(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Qi,ui),Qi.prototype.g=function(){return new pi(this.l,this.j)},Qi.prototype.i=function(c){return function(){return c}}({});function pi(c,y){gt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(pi,gt),r=pi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ur(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;El(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function El(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Lr(this):Ur(this),this.readyState==3&&El(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Lr(this))},r.Qa=function(c){this.g&&(this.response=c,Lr(this))},r.ga=function(){this.g&&Lr(this)};function Lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ur(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bl(c){let y="";return pe(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Qt(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=bl(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):rt(c,y,E))}function Je(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Je,gt);var $s=/^https?$/i,es=["POST","PUT"];r=Je.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Fa(this.o):Fa(Wn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){pc(this,W);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())E.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(es,y,void 0))||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of E)this.g.setRequestHeader(W,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ts(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){pc(this,W)}};function pc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Qs(c),zr(c)}function Qs(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),zr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ks(this):this.bb())},r.bb=function(){Ks(this)};function Ks(c){if(c.h&&typeof h<"u"&&(!c.v[1]||tr(c)!=4||c.Z()!=2)){if(c.u&&tr(c)==4)Ot(c.Ea,0,c);else if(Xe(c,"readystatechange"),tr(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=de===0){var F=String(c.D).match(Qa)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),A=!$s.test(F?F.toLowerCase():"")}E=A}if(E)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var W=2<tr(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Qs(c)}}finally{zr(c)}}}}function zr(c,y){if(c.g){ts(c);const E=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Xe(c,"ready");try{E.onreadystatechange=A}catch{}}}function ts(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),li(y)}};function yc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cd(c){const y={};c=(c.g&&2<=tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(J(c[A]))continue;var E=M(c[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=y[F]||[];y[F]=W,W.push(E)}U(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Xs(c){this.Aa=0,this.i=[],this.j=new an,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,c),this.cb=ns("retryDelaySeedMs",1e4,c),this.Wa=ns("forwardChannelMaxRetries",2,c),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(c&&c.concurrentRequestLimit),this.Da=new Ja,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Xs.prototype,r.la=8,r.G=1,r.connect=function(c,y,E,A){ht(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=wc(this,null,this.W),Zs(this)};function Tl(c){if(vc(c),c.G==3){var y=c.U++,E=kn(c.I);if(rt(E,"SID",c.K),rt(E,"RID",y),rt(E,"TYPE","terminate"),rs(c,E),y=new Pe(c,c.j,y),y.L=2,y.v=Xa(kn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=Ac(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ya(y)}Sc(c)}function Ws(c){c.g&&(is(c),c.g.cancel(),c.g=null)}function vc(c){Ws(c),c.u&&(d.clearTimeout(c.u),c.u=null),Js(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Zs(c){if(!qs(c.h)&&!c.s){c.s=!0;var y=c.Ga;K||I(),Z||(K(),Z=!0),fe.add(y,c),c.B=0}}function hd(c,y){return Hs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(S(c.Ga,c,y),Al(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new Pe(this,this.j,c);let W=this.o;if(this.S&&(W?(W=x(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=_c(this,F,y),E=kn(this.I),rt(E,"RID",c),rt(E,"CVER",22),this.D&&rt(E,"X-HTTP-Session-Id",this.D),rs(this,E),W&&(this.O?y="headers="+encodeURIComponent(String(bl(W)))+"&"+y:this.m&&Qt(E,this.m,W)),Fs(this.h,F),this.Ua&&rt(E,"TYPE","init"),this.P?(rt(E,"$req",y),rt(E,"SID","null"),F.T=!0,An(F,E,null)):An(F,E,y),this.G=2}}else this.G==3&&(c?Sl(this,c):this.i.length==0||qs(this.h)||Sl(this))};function Sl(c,y){var E;y?E=y.l:E=c.U++;const A=kn(c.I);rt(A,"SID",c.K),rt(A,"RID",E),rt(A,"AID",c.T),rs(c,A),c.m&&c.o&&Qt(A,c.m,c.o),E=new Pe(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=_c(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fs(c.h,E),An(E,A,y)}function rs(c,y){c.H&&pe(c.H,function(E,A){rt(y,A,E)}),c.l&&pl({},function(E,A){rt(y,A,E)})}function _c(c,y,E){E=Math.min(c.i.length,E);var A=c.l?S(c.l.Na,c.l,c):null;e:{var F=c.i;let W=-1;for(;;){const de=["count="+E];W==-1?0<E?(W=F[0].g,de.push("ofs="+W)):W=0:de.push("ofs="+W);let qe=!0;for(let Bt=0;Bt<E;Bt++){let He=F[Bt].g;const Kt=F[Bt].map;if(He-=W,0>He)W=Math.max(0,F[Bt].g-100),qe=!1;else try{jr(Kt,de,"req"+He+"_")}catch{A&&A(Kt)}}if(qe){A=de.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,A}function Ec(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;K||I(),Z||(K(),Z=!0),fe.add(y,c),c.v=0}}function wl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(S(c.Fa,c),Al(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Ws(this),bc(this))};function is(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function bc(c){c.g=new Pe(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=kn(c.qa);rt(y,"RID","rpc"),rt(y,"SID",c.K),rt(y,"AID",c.T),rt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&rt(y,"TO",c.ja),rt(y,"TYPE","xmlhttp"),rs(c,y),c.m&&c.o&&Qt(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Xa(kn(y)),E.m=null,E.P=!0,pr(E,c)}r.Za=function(){this.C!=null&&(this.C=null,Ws(this),wl(this),ht(19))};function Js(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Tc(c,y){var E=null;if(c.g==y){Js(c),is(c),c.g=null;var A=2}else if(ml(c.h,y))E=y.D,Rn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;A=Qe(),Xe(A,new At(A,E)),Zs(c)}else Ec(c);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&hd(c,y)||A==2&&wl(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),F){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function Al(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function yi(c,y){if(c.j.info("Error code "+y),y==2){var E=S(c.fb,c),A=c.Xa;const F=!A;A=new Vt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ka(A,"https"),Xa(A),F?Za(A.toString(),E):yr(A.toString(),E)}else ht(2);c.G=0,c.l&&c.l.sa(y),Sc(c),vc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Sc(c){if(c.G=0,c.ka=[],c.l){const y=gl(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function wc(c,y,E){var A=E instanceof Vt?kn(E):new Vt(E);if(A.g!="")y&&(A.g=y+"."+A.g),$i(A,A.s);else{var F=d.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new Vt(null);A&&Ka(W,A),y&&(W.g=y),F&&$i(W,F),E&&(W.l=E),A=W}return E=c.D,y=c.ya,E&&y&&rt(A,E,y),rt(A,"VER",c.la),rs(c,A),A}function Ac(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Je(new Qi({eb:E})):new Je(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}r=Rc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function eo(){}eo.prototype.g=function(c,y){return new xn(c,y)};function xn(c,y){gt.call(this),this.g=new Xs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Br(this)}j(xn,gt),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Tl(this.g)},xn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Pn(c),c=E);y.i.push(new dc(y.Ya++,c)),y.G==3&&Zs(y)},xn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,xn.aa.N.call(this)};function xc(c){Kn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j(xc,Kn);function Ic(){Mt.call(this),this.status=1}j(Ic,Mt);function Br(c){this.g=c}j(Br,Rc),Br.prototype.ua=function(){Xe(this.g,"a")},Br.prototype.ta=function(c){Xe(this.g,new xc(c))},Br.prototype.sa=function(c){Xe(this.g,new Ic)},Br.prototype.ra=function(){Xe(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,pS=function(){return new eo},gS=function(){return Qe()},mS=mt,Pg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Yh=mr,gr.COMPLETE="complete",dS=gr,Fi.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",gt.prototype.listen=gt.prototype.K,yu=Fi,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,fS=Je}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const PE="@firebase/firestore",kE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Tp("@firebase/firestore");function Do(){return xs.logLevel}function ye(r,...e){if(xs.logLevel<=Ue.DEBUG){const t=e.map(Mp);xs.debug(`Firestore (${il}): ${r}`,...t)}}function Li(r,...e){if(xs.logLevel<=Ue.ERROR){const t=e.map(Mp);xs.error(`Firestore (${il}): ${r}`,...t)}}function Go(r,...e){if(xs.logLevel<=Ue.WARN){const t=e.map(Mp);xs.warn(`Firestore (${il}): ${r}`,...t)}}function Mp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,yS(r,i,t)}function yS(r,e,t){let i=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Li(i),new Error(i)}function Ye(r,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,r||yS(e,s,i)}function Ne(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bn.UNAUTHENTICATED))}shutdown(){}}class ID{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class CD{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},d=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string",31837,{l:i}),new vS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class ND{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DD{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new ND(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const i=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const s=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?s(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new jE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=MD(40);for(let u=0;u<s.length;++u)i.length<20&&s[u]<t&&(i+=e.charAt(s[u]%62))}return i}}function ze(r,e){return r<e?-1:r>e?1:0}function kg(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const s=r.charAt(i),u=e.charAt(i);if(s!==u)return yg(s)===yg(u)?ze(s,u):yg(s)?1:-1}return ze(r.length,e.length)}const VD=55296,PD=57343;function yg(r){const e=r.charCodeAt(0);return e>=VD&&e<=PD}function Yo(r,e,t){return r.length===e.length&&r.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="__name__";class Kr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const u=Kr.compareSegments(e.get(s),t.get(s));if(u!==0)return u}return ze(e.length,t.length)}static compareSegments(e,t){const i=Kr.isNumericId(e),s=Kr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Kr.extractNumericId(e).compare(Kr.extractNumericId(t)):kg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}}class ot extends Kr{construct(e,t,i){return new ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const kD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Kr{construct(e,t,i){return new dn(e,t,i)}static isValidIdentifier(e){return kD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jg}static keyField(){return new dn([jg])}static fromServerFormat(e){const t=[];let i="",s=0;const u=()=>{if(i.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else d==="`"?(h=!h,s++):d!=="."||h?(i+=d,s++):(u(),s++)}if(u(),h)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ot.fromString(e))}static fromName(e){return new be(ot.fromString(e).popFirst(5))}static empty(){return new be(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(r,e,t){if(!t)throw new me(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jD(r,e,t,i){if(e===!0&&i===!0)throw new me(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function LE(r){if(!be.isDocumentKey(r))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function UE(r){if(be.isDocumentKey(r))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ES(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function Tn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pf(r);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Ku(r,e){if(!ES(r))throw new me(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(s&&typeof h!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${i}' field to equal '${u.value}'`;break}}if(t)throw new me(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=-62135596800,BE=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*BE);return new et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zE)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ku(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:zt("string",et._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new et(0,0))}static max(){return new Re(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=-1;function LD(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(i===1e9?new et(t+1,0):new et(t,i));return new Na(s,be.empty(),e)}function UD(r){return new Na(r.readTime,r.key,Ou)}class Na{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Na(Re.min(),be.empty(),Ou)}static max(){return new Na(Re.max(),be.empty(),Ou)}}function zD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(r.documentKey,e.documentKey),t!==0?t:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==BD)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((i,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,i)=>{t(e)})}static reject(e){return new le((t,i)=>{i(e)})}static waitFor(e){return new le((t,i)=>{let s=0,u=0,h=!1;e.forEach(d=>{++s,d.next(()=>{++u,h&&u===s&&t()},p=>i(p))}),h=!0,u===s&&t()})}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next(s=>s?le.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,u)=>{i.push(t.call(this,s,u))}),this.waitFor(i)}static mapArray(e,t){return new le((i,s)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++d,d===u&&i(h)},_=>s(_))}})}static doWhile(e,t){return new le((i,s)=>{const u=()=>{e()===!0?t().next(()=>{u()},s):i()};u()})}}function HD(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function Xu(r){return r==null}function hf(r){return r===0&&1/r==-1/0}function FD(r){return typeof r=="number"&&Number.isInteger(r)&&!hf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="";function GD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=qE(e)),e=YD(r.get(t),e);return qE(e)}function YD(r,e){let t=e;const i=r.length;for(let s=0;s<i;s++){const u=r.charAt(s);switch(u){case"\0":t+="";break;case bS:t+="";break;default:t+=u}}return t}function qE(r){return r+bS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function La(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function TS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,i,s,u){this.key=e,this.value=t,this.color=i??fn.RED,this.left=s??fn.EMPTY,this.right=u??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,u){return new fn(e??this.key,t??this.value,i??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const u=i(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,i),null):u===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return fn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,s,u){return this}insert(e,t,i){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=i.getNext().key;if(this.comparator(s,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Gt(dn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new SS("Invalid base64 string: "+u):u}}(e);return new pn(t)}static fromUint8Array(e){const t=function(s){let u="";for(let h=0;h<s.length;++h)u+=String.fromCharCode(s[h]);return u}(e);return new pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const $D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const t=$D.exec(r);if(Ye(!!t,46558,{timestamp:r}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(r.seconds),nanos:Dt(r.nanos)}}function Dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oa(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="server_timestamp",AS="__type__",RS="__previous_value__",xS="__local_write_time__";function kp(r){return(r?.mapValue?.fields||{})[AS]?.stringValue===wS}function jf(r){const e=r.mapValue.fields[RS];return kp(e)?jf(e):e}function Mu(r){const e=Da(r.mapValue.fields[xS].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,i,s,u,h,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const ff="(default)";class Vu{constructor(e,t){this.projectId=e,this.database=t||ff}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===ff}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="__type__",KD="__max__",Vh={mapValue:{}},CS="__vector__",df="value";function Ma(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?kp(r)?4:WD(r)?9007199254740991:XD(r)?10:11:Se(28295,{value:r})}function ri(r,e){if(r===e)return!0;const t=Ma(r);if(t!==Ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Mu(r).isEqual(Mu(e));case 3:return function(s,u){if(typeof s.timestampValue=="string"&&typeof u.timestampValue=="string"&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const h=Da(s.timestampValue),d=Da(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,u){return Oa(s.bytesValue).isEqual(Oa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,u){return Dt(s.geoPointValue.latitude)===Dt(u.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(u.geoPointValue.longitude)}(r,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return Dt(s.integerValue)===Dt(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const h=Dt(s.doubleValue),d=Dt(u.doubleValue);return h===d?hf(h)===hf(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Yo(r.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(s,u){const h=s.mapValue.fields||{},d=u.mapValue.fields||{};if(HE(h)!==HE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!ri(h[p],d[p])))return!1;return!0}(r,e);default:return Se(52216,{left:r})}}function Pu(r,e){return(r.values||[]).find(t=>ri(t,e))!==void 0}function $o(r,e){if(r===e)return 0;const t=Ma(r),i=Ma(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=Dt(u.integerValue||u.doubleValue),p=Dt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return GE(r.timestampValue,e.timestampValue);case 4:return GE(Mu(r),Mu(e));case 5:return kg(r.stringValue,e.stringValue);case 6:return function(u,h){const d=Oa(u),p=Oa(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=ze(d[g],p[g]);if(_!==0)return _}return ze(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=ze(Dt(u.latitude),Dt(h.latitude));return d!==0?d:ze(Dt(u.longitude),Dt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return YE(r.arrayValue,e.arrayValue);case 10:return function(u,h){const d=u.fields||{},p=h.fields||{},g=d[df]?.arrayValue,_=p[df]?.arrayValue,T=ze(g?.values?.length||0,_?.values?.length||0);return T!==0?T:YE(g,_)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===Vh.mapValue&&h===Vh.mapValue)return 0;if(u===Vh.mapValue)return 1;if(h===Vh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const S=kg(p[T],_[T]);if(S!==0)return S;const C=$o(d[p[T]],g[_[T]]);if(C!==0)return C}return ze(p.length,_.length)}(r.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function GE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const t=Da(r),i=Da(e),s=ze(t.seconds,i.seconds);return s!==0?s:ze(t.nanos,i.nanos)}function YE(r,e){const t=r.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const u=$o(t[s],i[s]);if(u)return u}return ze(t.length,i.length)}function Qo(r){return Lg(r)}function Lg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=Da(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Oa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return be.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",s=!0;for(const u of t.values||[])s?s=!1:i+=",",i+=Lg(u);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",u=!0;for(const h of i)u?u=!1:s+=",",s+=`${h}:${Lg(t.fields[h])}`;return s+"}"}(r.mapValue):Se(61005,{value:r})}function $h(r){switch(Ma(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jf(r);return e?16+$h(e):16;case 5:return 2*r.stringValue.length;case 6:return Oa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,u)=>s+$h(u),0)}(r.arrayValue);case 10:case 11:return function(i){let s=0;return La(i.fields,(u,h)=>{s+=u.length+$h(h)}),s}(r.mapValue);default:throw Se(13486,{value:r})}}function $E(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ug(r){return!!r&&"integerValue"in r}function jp(r){return!!r&&"arrayValue"in r}function QE(r){return!!r&&"nullValue"in r}function KE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qh(r){return!!r&&"mapValue"in r}function XD(r){return(r?.mapValue?.fields||{})[IS]?.stringValue===CS}function Su(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return La(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Su(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Su(r.arrayValue.values[t]);return e}return{...r}}function WD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(t)}setAll(e){let t=dn.emptyPath(),i={},s=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=d.popLast()}h?i[d.lastSegment()]=Su(h):s.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,s)}delete(e){const t=this.field(e.popLast());Qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Qh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){La(t,(s,u)=>e[s]=u);for(const s of i)delete e[s]}clone(){return new Cn(Su(this.value))}}function NS(r){const e=[];return La(r.fields,(t,i)=>{const s=new dn([t]);if(Qh(i)){const u=NS(i.mapValue).fields;if(u.length===0)e.push(s);else for(const h of u)e.push(s.child(h))}else e.push(s)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,i,s,u,h,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new en(e,0,Re.min(),Re.min(),Re.min(),Cn.empty(),0)}static newFoundDocument(e,t,i,s){return new en(e,1,t,Re.min(),i,s,0)}static newNoDocument(e,t){return new en(e,2,t,Re.min(),Re.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Re.min(),Re.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.position=e,this.inclusive=t}}function XE(r,e,t){let i=0;for(let s=0;s<r.position.length;s++){const u=e[s],h=r.position[s];if(u.field.isKeyField()?i=be.comparator(be.fromName(h.referenceValue),t.key):i=$o(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function WE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ri(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{}class Lt extends DS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new e2(e,t,i):t==="array-contains"?new r2(e,i):t==="in"?new i2(e,i):t==="not-in"?new a2(e,i):t==="array-contains-any"?new s2(e,i):new Lt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new t2(e,i):new n2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($o(t,this.value)):t!==null&&Ma(this.value)===Ma(t)&&this.matchesComparison($o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends DS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ir(e,t)}matches(e){return OS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OS(r){return r.op==="and"}function MS(r){return JD(r)&&OS(r)}function JD(r){for(const e of r.filters)if(e instanceof Ir)return!1;return!0}function zg(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+Qo(r.value);if(MS(r))return r.filters.map(e=>zg(e)).join(",");{const e=r.filters.map(t=>zg(t)).join(",");return`${r.op}(${e})`}}function VS(r,e){return r instanceof Lt?function(i,s){return s instanceof Lt&&i.op===s.op&&i.field.isEqual(s.field)&&ri(i.value,s.value)}(r,e):r instanceof Ir?function(i,s){return s instanceof Ir&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((u,h,d)=>u&&VS(h,s.filters[d]),!0):!1}(r,e):void Se(19439)}function PS(r){return r instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`}(r):r instanceof Ir?function(t){return t.op.toString()+" {"+t.getFilters().map(PS).join(" ,")+"}"}(r):"Filter"}class e2 extends Lt{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class t2 extends Lt{constructor(e,t){super(e,"in",t),this.keys=kS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class n2 extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=kS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kS(r,e){return(e.arrayValue?.values||[]).map(t=>be.fromName(t.referenceValue))}class r2 extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jp(t)&&Pu(t.arrayValue,this.value)}}class i2 extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pu(this.value.arrayValue,t)}}class a2 extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Pu(this.value.arrayValue,t)}}class s2 extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Pu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t=null,i=[],s=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function ZE(r,e=null,t=[],i=[],s=null,u=null,h=null){return new o2(r,e,t,i,s,u,h)}function Lp(r){const e=Ne(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>zg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),Xu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Qo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Qo(i)).join(",")),e.Te=t}return e.Te}function Up(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ZD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!VS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!WE(r.startAt,e.startAt)&&WE(r.endAt,e.endAt)}function Bg(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t=null,i=[],s=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l2(r,e,t,i,s,u,h,d){return new Wu(r,e,t,i,s,u,h,d)}function Lf(r){return new Wu(r)}function JE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jS(r){return r.collectionGroup!==null}function wu(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Gt(dn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new gf(u,i))}),t.has(dn.keyField().canonicalString())||e.Ie.push(new gf(dn.keyField(),i))}return e.Ie}function ei(r){const e=Ne(r);return e.Ee||(e.Ee=u2(e,wu(r))),e.Ee}function u2(r,e){if(r.limitType==="F")return ZE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const u=s.dir==="desc"?"asc":"desc";return new gf(s.field,u)});const t=r.endAt?new mf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new mf(r.startAt.position,r.startAt.inclusive):null;return ZE(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function qg(r,e){const t=r.filters.concat([e]);return new Wu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Hg(r,e,t){return new Wu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Uf(r,e){return Up(ei(r),ei(e))&&r.limitType===e.limitType}function LS(r){return`${Lp(ei(r))}|lt:${r.limitType}`}function Oo(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>PS(s)).join(", ")}]`),Xu(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Qo(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Qo(s)).join(",")),`Target(${i})`}(ei(r))}; limitType=${r.limitType})`}function zf(r,e){return e.isFoundDocument()&&function(i,s){const u=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):be.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(r,e)&&function(i,s){for(const u of wu(i))if(!u.field.isKeyField()&&s.data.field(u.field)===null)return!1;return!0}(r,e)&&function(i,s){for(const u of i.filters)if(!u.matches(s))return!1;return!0}(r,e)&&function(i,s){return!(i.startAt&&!function(h,d,p){const g=XE(h,d,p);return h.inclusive?g<=0:g<0}(i.startAt,wu(i),s)||i.endAt&&!function(h,d,p){const g=XE(h,d,p);return h.inclusive?g>=0:g>0}(i.endAt,wu(i),s))}(r,e)}function c2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function US(r){return(e,t)=>{let i=!1;for(const s of wu(r)){const u=h2(s,e,t);if(u!==0)return u;i=i||s.field.isKeyField()}return 0}}function h2(r,e,t){const i=r.field.isKeyField()?be.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?$o(p,g):Se(42886)}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,u]of i)if(this.equalsFn(s,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,(t,i)=>{for(const[s,u]of i)e(s,u)})}isEmpty(){return TS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new St(be.comparator);function Ui(){return f2}const zS=new St(be.comparator);function vu(...r){let e=zS;for(const t of r)e=e.insert(t.key,t);return e}function BS(r){let e=zS;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function bs(){return Au()}function qS(){return Au()}function Au(){return new Ds(r=>r.toString(),(r,e)=>r.isEqual(e))}const d2=new St(be.comparator),m2=new Gt(be.comparator);function Be(...r){let e=m2;for(const t of r)e=e.add(t);return e}const g2=new Gt(ze);function p2(){return g2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hf(e)?"-0":e}}function HS(r){return{integerValue:""+r}}function FS(r,e){return FD(e)?HS(e):zp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this._=void 0}}function y2(r,e,t){return r instanceof ku?function(s,u){const h={fields:{[AS]:{stringValue:wS},[xS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&kp(u)&&(u=jf(u)),u&&(h.fields[RS]=u),{mapValue:h}}(t,e):r instanceof ju?YS(r,e):r instanceof Lu?$S(r,e):function(s,u){const h=GS(s,u),d=eb(h)+eb(s.Ae);return Ug(h)&&Ug(s.Ae)?HS(d):zp(s.serializer,d)}(r,e)}function v2(r,e,t){return r instanceof ju?YS(r,e):r instanceof Lu?$S(r,e):t}function GS(r,e){return r instanceof Uu?function(i){return Ug(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class ku extends Bf{}class ju extends Bf{constructor(e){super(),this.elements=e}}function YS(r,e){const t=QS(e);for(const i of r.elements)t.some(s=>ri(s,i))||t.push(i);return{arrayValue:{values:t}}}class Lu extends Bf{constructor(e){super(),this.elements=e}}function $S(r,e){let t=QS(e);for(const i of r.elements)t=t.filter(s=>!ri(s,i));return{arrayValue:{values:t}}}class Uu extends Bf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function eb(r){return Dt(r.integerValue||r.doubleValue)}function QS(r){return jp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.field=e,this.transform=t}}function _2(r,e){return r.field.isEqual(e.field)&&function(i,s){return i instanceof ju&&s instanceof ju||i instanceof Lu&&s instanceof Lu?Yo(i.elements,s.elements,ri):i instanceof Uu&&s instanceof Uu?ri(i.Ae,s.Ae):i instanceof ku&&s instanceof ku}(r.transform,e.transform)}class E2{constructor(e,t){this.version=e,this.transformResults=t}}class Ut{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ut}static exists(e){return new Ut(void 0,e)}static updateTime(e){return new Ut(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qf{}function XS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ju(r.key,Ut.none()):new Zu(r.key,r.data,Ut.none());{const t=r.data,i=Cn.empty();let s=new Gt(dn.comparator);for(let u of e.fields)if(!s.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),s=s.add(u)}return new Ua(r.key,i,new Gn(s.toArray()),Ut.none())}}function b2(r,e,t){r instanceof Zu?function(s,u,h){const d=s.value.clone(),p=nb(s.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Ua?function(s,u,h){if(!Kh(s.precondition,u))return void u.convertToUnknownDocument(h.version);const d=nb(s.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(WS(s)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(s,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ru(r,e,t,i){return r instanceof Zu?function(u,h,d,p){if(!Kh(u.precondition,h))return d;const g=u.value.clone(),_=rb(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,i):r instanceof Ua?function(u,h,d,p){if(!Kh(u.precondition,h))return d;const g=rb(u.fieldTransforms,p,h),_=h.data;return _.setAll(WS(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,t,i):function(u,h,d){return Kh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function T2(r,e){let t=null;for(const i of r.fieldTransforms){const s=e.data.field(i.field),u=GS(i.transform,s||null);u!=null&&(t===null&&(t=Cn.empty()),t.set(i.field,u))}return t||null}function tb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Yo(i,s,(u,h)=>_2(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Zu extends qf{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ua extends qf{constructor(e,t,i,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WS(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function nb(r,e,t){const i=new Map;Ye(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let s=0;s<t.length;s++){const u=r[s],h=u.transform,d=e.data.field(u.field);i.set(u.field,v2(h,d,t[s]))}return i}function rb(r,e,t){const i=new Map;for(const s of r){const u=s.transform,h=t.data.field(s.field);i.set(s.field,y2(u,h,e))}return i}class Ju extends qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZS extends qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&b2(u,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ru(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ru(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=qS();return this.mutations.forEach(s=>{const u=e.get(s.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(s.key)?null:d;const p=XS(h,d);p!==null&&i.set(s.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(t,i)=>tb(t,i))&&Yo(this.baseMutations,e.baseMutations,(t,i)=>tb(t,i))}}class Bp{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ye(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=function(){return d2}();const u=e.mutations;for(let h=0;h<u.length;h++)s=s.insert(u[h].key,i[h].version);return new Bp(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Ge;function JS(r){switch(r){case re.OK:return Se(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function ew(r){if(r===void 0)return Li("GRPC error has no .code"),re.UNKNOWN;switch(r){case jt.OK:return re.OK;case jt.CANCELLED:return re.CANCELLED;case jt.UNKNOWN:return re.UNKNOWN;case jt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case jt.INTERNAL:return re.INTERNAL;case jt.UNAVAILABLE:return re.UNAVAILABLE;case jt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case jt.NOT_FOUND:return re.NOT_FOUND;case jt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case jt.ABORTED:return re.ABORTED;case jt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case jt.DATA_LOSS:return re.DATA_LOSS;default:return Se(39323,{code:r})}}(Ge=jt||(jt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new xa([4294967295,4294967295],0);function ib(r){const e=R2().encode(r),t=new hS;return t.update(e),new Uint8Array(t.digest())}function ab(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new xa([t,i],0),new xa([s,u],0)]}class qp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _u(`Invalid padding: ${t}`);if(i<0)throw new _u(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new _u(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=xa.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(xa.fromNumber(i)));return s.compare(x2)===1&&(s=new xa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ib(e),[i,s]=ab(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,s,u);if(!this.we(h))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new qp(u,s,t);return i.forEach(d=>h.insert(d)),h}insert(e){if(this.ge===0)return;const t=ib(e),[i,s]=ab(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,s,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t,i,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Hf(Re.min(),s,new St(ze),Ui(),Be())}}class ec{constructor(e,t,i,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ec(i,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t,i,s){this.be=e,this.removedTargetIds=t,this.key=i,this.De=s}}class tw{constructor(e,t){this.targetId=e,this.Ce=t}}class nw{constructor(e,t,i=pn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class sb{constructor(){this.ve=0,this.Fe=ob(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),i=Be();return this.Fe.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Se(38017,{changeType:u})}}),new ec(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=ob()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ui(),this.Je=Ph(),this.He=Ph(),this.Ye=new St(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,s)=>{this.rt(s)&&t(s)})}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const u=s.target;if(Bg(u))if(i===0){const h=new be(u.path);this.et(t,h,en.newNoDocument(h,Re.min()))}else Ye(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const d=this.ut(e),p=d?this.ct(d,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:u=0}=t;let h,d;try{h=Oa(i).toUint8Array()}catch(p){if(p instanceof SS)return Go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new qp(h,s,u)}catch(p){return Go(p instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach(u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(t,u,null),s++)}),s}Tt(e){const t=new Map;this.ze.forEach((u,h)=>{const d=this.ot(h);if(d){if(u.current&&Bg(d.target)){const p=new be(d.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.qe())}});let i=Be();this.He.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const s=new Hf(e,t,this.Ye,this.je,i);return this.je=Ui(),this.Je=Ph(),this.He=Ph(),this.Ye=new St(ze),s}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new sb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Gt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Gt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ph(){return new St(be.comparator)}function ob(){return new St(be.comparator)}const C2={asc:"ASCENDING",desc:"DESCENDING"},N2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D2={and:"AND",or:"OR"};class O2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fg(r,e){return r.useProto3Json||Xu(e)?e:{value:e}}function pf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function M2(r,e){return pf(r,e.toTimestamp())}function Yn(r){return Ye(!!r,49232),Re.fromTimestamp(function(t){const i=Da(t);return new et(i.seconds,i.nanos)}(r))}function Hp(r,e){return Gg(r,e).canonicalString()}function Gg(r,e){const t=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function iw(r){const e=ot.fromString(r);return Ye(cw(e),10190,{key:e.toString()}),e}function yf(r,e){return Hp(r.databaseId,e.path)}function xu(r,e){const t=iw(e);if(t.get(1)!==r.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new be(sw(t))}function aw(r,e){return Hp(r.databaseId,e)}function V2(r){const e=iw(r);return e.length===4?ot.emptyPath():sw(e)}function Yg(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sw(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function lb(r,e,t){return{name:yf(r,e),fields:t.value.mapValue.fields}}function P2(r,e){return"found"in e?function(i,s){Ye(!!s.found,43571),s.found.name,s.found.updateTime;const u=xu(i,s.found.name),h=Yn(s.found.updateTime),d=s.found.createTime?Yn(s.found.createTime):Re.min(),p=new Cn({mapValue:{fields:s.found.fields}});return en.newFoundDocument(u,h,d,p)}(r,e):"missing"in e?function(i,s){Ye(!!s.missing,3894),Ye(!!s.readTime,22933);const u=xu(i,s.missing),h=Yn(s.readTime);return en.newNoDocument(u,h)}(r,e):Se(7234,{result:e})}function k2(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Ye(_===void 0||typeof _=="string",58123),pn.fromBase64String(_||"")):(Ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),pn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const _=g.code===void 0?re.UNKNOWN:ew(g.code);return new me(_,g.message||"")}(h);t=new nw(i,s,u,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=xu(r,i.document.name),u=Yn(i.document.updateTime),h=i.document.createTime?Yn(i.document.createTime):Re.min(),d=new Cn({mapValue:{fields:i.document.fields}}),p=en.newFoundDocument(s,u,h,d),g=i.targetIds||[],_=i.removedTargetIds||[];t=new Xh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=xu(r,i.document),u=i.readTime?Yn(i.readTime):Re.min(),h=en.newNoDocument(s,u),d=i.removedTargetIds||[];t=new Xh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=xu(r,i.document),u=i.removedTargetIds||[];t=new Xh([],u,s,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:u}=i,h=new A2(s,u),d=i.targetId;t=new tw(d,h)}}return t}function ow(r,e){let t;if(e instanceof Zu)t={update:lb(r,e.key,e.value)};else if(e instanceof Ju)t={delete:yf(r,e.key)};else if(e instanceof Ua)t={update:lb(r,e.key,e.data),updateMask:G2(e.fieldMask)};else{if(!(e instanceof ZS))return Se(16599,{Vt:e.type});t={verify:yf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(u,h){const d=h.transform;if(d instanceof ku)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ju)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Lu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uu)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,u){return u.updateTime!==void 0?{updateTime:M2(s,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)}(r,e.precondition)),t}function j2(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map(t=>function(s,u){let h=s.updateTime?Yn(s.updateTime):Yn(u);return h.isEqual(Re.min())&&(h=Yn(u)),new E2(h,s.transformResults||[])}(t,e))):[]}function L2(r,e){return{documents:[aw(r,e.path)]}}function U2(r,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=aw(r,s);const u=function(g){if(g.length!==0)return uw(Ir.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(S){return{field:Mo(S.field),direction:q2(S.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Fg(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:s}}function z2(r){let e=V2(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ye(i===1,65062);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(T){const S=lw(T);return S instanceof Ir&&MS(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(S=>function(j){return new gf(Vo(j.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,Xu(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(T){const S=!!T.before,C=T.values||[];return new mf(C,S)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const S=!T.before,C=T.values||[];return new mf(C,S)}(t.endAt)),l2(e,s,h,u,d,"F",p,g)}function B2(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function lw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Vo(t.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Vo(t.unaryFilter.field);return Lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Vo(t.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Vo(t.unaryFilter.field);return Lt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(r):r.fieldFilter!==void 0?function(t){return Lt.create(Vo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Ir.create(t.compositeFilter.filters.map(i=>lw(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(r):Se(30097,{filter:r})}function q2(r){return C2[r]}function H2(r){return N2[r]}function F2(r){return D2[r]}function Mo(r){return{fieldPath:r.canonicalString()}}function Vo(r){return dn.fromServerFormat(r.fieldPath)}function uw(r){return r instanceof Lt?function(t){if(t.op==="=="){if(KE(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(QE(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(KE(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(QE(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:H2(t.op),value:t.value}}}(r):r instanceof Ir?function(t){const i=t.getFilters().map(s=>uw(s));return i.length===1?i[0]:{compositeFilter:{op:F2(t.op),filters:i}}}(r):Se(54877,{filter:r})}function G2(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t,i,s,u=Re.min(),h=Re.min(),d=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.yt=e}}function $2(r){const e=z2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.Cn=new K2}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Na.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class K2{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Gt(ot.comparator),u=!s.has(i);return this.index[t]=s.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Gt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hw=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(hw,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ko(0)}static cr(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="LruGarbageCollector",X2=1048576;function hb([r,e],[t,i]){const s=ze(r,t);return s===0?ze(e,i):s}class W2{constructor(e){this.Ir=e,this.buffer=new Gt(hb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();hb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Z2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(cb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sl(t)?ye(cb,"Ignoring IndexedDB error during garbage collection: ",t):await al(t)}await this.Vr(3e5)})}}class J2{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return le.resolve(kf.ce);const i=new W2(t);return this.mr.forEachTarget(e,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(ub)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ub):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,s,u,h,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,h=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(g=Date.now(),Do()<=Ue.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${s} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:T})))}}function eO(r,e){return new J2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.changes=new Ds(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&Ru(i.mutation,s,Gn.empty(),et.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Be()){const s=bs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(u=>{let h=vu();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=bs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Be()))}populateOverlays(e,t,i){const s=[];return i.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,i,s){let u=Ui();const h=Au(),d=function(){return Au()}();return t.forEach((p,g)=>{const _=i.get(g.key);s.has(g.key)&&(_===void 0||_.mutation instanceof Ua)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),Ru(_.mutation,g,_.mutation.getFieldMask(),et.now())):h.set(g.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>d.set(g,new nO(_,h.get(g)??null))),d))}recalculateAndSaveOverlays(e,t){const i=Au();let s=new St((h,d)=>h-d),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=i.get(p)||Gn.empty();_=d.applyToLocalView(g,_),i.set(p,_);const T=(s.get(d.batchId)||Be()).add(p);s=s.insert(d.batchId,T)})}).next(()=>{const h=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,T=qS();_.forEach(S=>{if(!u.has(S)){const C=XS(t.get(S),i.get(S));C!==null&&T.set(S,C),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return le.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(h){return be.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(u=>{const h=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-u.size):le.resolve(bs());let d=Ou,p=u;return h.next(g=>le.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Be())).next(_=>({batchId:d,changes:BS(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let s=vu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const u=t.collectionGroup;let h=vu();return this.indexManager.getCollectionParents(e,u).next(d=>le.forEach(d,p=>{const g=function(T,S){return new Wu(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next(_=>{_.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,s){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,s))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,en.newInvalidDocument(_)))});let d=vu();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&Ru(_.mutation,g,Gn.empty(),et.now()),zf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Yn(s.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(s){return{name:s.name,query:$2(s.bundledQuery),readTime:Yn(s.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.overlays=new St(be.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=bs();return le.forEach(t,s=>this.getOverlay(e,s).next(u=>{u!==null&&i.set(s,u)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,u)=>{this.St(e,t,u)}),le.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const s=bs(),u=t.length+1,h=new be(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>i&&s.set(p.getKey(),p)}return le.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let u=new St((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=u.get(g.largestBatchId);_===null&&(_=bs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=bs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=s)););return le.resolve(d)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const h=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new w2(t,i));let u=this.qr.get(t);u===void 0&&(u=Be(),this.qr.set(t,u)),this.qr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.Qr=new Gt(Jt.$r),this.Ur=new Gt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Jt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new Jt(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new be(new ot([])),i=new Jt(t,e),s=new Jt(t,e+1),u=[];return this.Ur.forEachInRange([i,s],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new ot([])),i=new Jt(t,e),s=new Jt(t,e+1);let u=Be();return this.Ur.forEachInRange([i,s],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Jt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Jt.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new S2(u,t,i,s);this.mutationQueue.push(h);for(const d of s)this.Zr=this.Zr.add(new Jt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ei(i),u=s<0?0:s;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Pp:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Jt(t,0),s=new Jt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,s],h=>{const d=this.Xr(h.Yr);u.push(d)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Gt(ze);return t.forEach(s=>{const u=new Jt(s,0),h=new Jt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],d=>{i=i.add(d.Yr)})}),le.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let u=i;be.isDocumentKey(u)||(u=u.child(""));const h=new Jt(new be(u),0);let d=new Gt(ze);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(d=d.add(p.Yr)),!0)},h),le.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(i=>{const s=this.Xr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ye(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return le.forEach(t.mutations,s=>{const u=new Jt(s.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new Jt(t,0),s=this.Zr.firstAfterOrEqual(i);return le.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.ri=e,this.docs=function(){return new St(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),u=s?s.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let i=Ui();return t.forEach(s=>{const u=this.docs.get(s);i=i.insert(s,u?u.document.mutableCopy():en.newInvalidDocument(s))}),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let u=Ui();const h=t.path,d=new be(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||zD(UD(_),i)<=0||(s.has(_.key)||zf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,i,s){Se(9500)}ii(e,t){return le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new uO(this)}getSize(e){return le.resolve(this.size)}}class uO extends tO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)}),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.persistence=e,this.si=new Ds(t=>Lp(t),Up),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Fp,this.targetCount=0,this.ai=Ko.ur()}forEachTarget(e,t){return this.si.forEach((i,s)=>t(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ko(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let s=0;const u=[];return this.si.forEach((h,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),le.waitFor(u).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),le.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(h=>{u.push(s.markPotentiallyOrphaned(e,h))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,t){this.ui={},this.overlays={},this.ci=new kf(0),this.li=!1,this.li=!0,this.hi=new sO,this.referenceDelegate=e(this),this.Pi=new cO(this),this.indexManager=new Q2,this.remoteDocumentCache=function(s){return new lO(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new Y2(t),this.Ii=new iO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new oO(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const s=new hO(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(u=>this.referenceDelegate.di(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Ai(e,t){return le.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class hO extends qD{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Ri=new Fp,this.Vi=null}static mi(e){return new Gp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.fi.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,i=>{const s=be.fromPath(i);return this.gi(e,s).next(u=>{u||t.removeEntry(s,Re.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class vf{constructor(e,t){this.persistence=e,this.pi=new Ds(i=>GD(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=eO(this,t)}static mi(e,t){return new vf(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return le.forEach(this.pi,(i,s)=>this.br(e,i,s).next(u=>u?le.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),u=s.newChangeBuffer();return s.ii(e,h=>this.br(e,h,t).next(d=>{d||(i++,u.removeEntry(h,Re.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$h(e.data.value)),t}br(e,t,i){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return le.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=s}static As(e,t){let i=Be(),s=Be();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Yp(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Qx()?8:HD(Sn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const u={result:null};return this.ys(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,t,s,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new fO;return this.Ss(e,t,h).next(d=>{if(u.result=d,this.Vs)return this.bs(e,t,h,d.size)})}).next(()=>u.result)}bs(e,t,i,s){return i.documentReadCount<this.fs?(Do()<=Ue.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Do()<=Ue.DEBUG&&ye("QueryEngine","Query:",Oo(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Do()<=Ue.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):le.resolve())}ys(e,t){if(JE(t))return le.resolve(null);let i=ei(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Hg(t,null,"F"),i=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const h=Be(...u);return this.ps.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.Ds(t,d);return this.Cs(t,g,h,p.readTime)?this.ys(e,Hg(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,i,s){return JE(t)||s.isEqual(Re.min())?le.resolve(null):this.ps.getDocuments(e,i).next(u=>{const h=this.Ds(t,u);return this.Cs(t,h,i,s)?le.resolve(null):(Do()<=Ue.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Oo(t)),this.vs(e,h,t,LD(s,Ou)).next(d=>d))})}Ds(e,t){let i=new Gt(US(e));return t.forEach((s,u)=>{zf(e,u)&&(i=i.add(u))}),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Ss(e,t,i){return Do()<=Ue.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Oo(t)),this.ps.getDocumentsMatchingQuery(e,t,Na.min(),i)}vs(e,t,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="LocalStore",mO=3e8;class gO{constructor(e,t,i,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new St(ze),this.xs=new Ds(u=>Lp(u),Up),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function pO(r,e,t,i){return new gO(r,e,t,i)}async function dw(r,e){const t=Ne(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(u=>(s=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],d=[];let p=Be();for(const g of s){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:d}))})})}function yO(r,e){const t=Ne(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const T=g.batch,S=T.keys();let C=le.resolve();return S.forEach(j=>{C=C.next(()=>_.getEntry(p,j)).next(V=>{const L=g.docVersions.get(j);Ye(L!==null,48541),V.version.compareTo(L)<0&&(T.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),_.addEntry(V)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Be();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function mw(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function vO(r,e){const t=Ne(r),i=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach((_,T)=>{const S=s.get(T);if(!S)return;d.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,T).next(()=>t.Pi.addMatchingKeys(u,_.addedDocuments,T)));let C=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(pn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,i)),s=s.insert(T,C),function(V,L,z){return V.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=mO?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(S,C,_)&&d.push(t.Pi.updateTargetData(u,C))});let p=Ui(),g=Be();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(_O(u,h,e.documentUpdates).next(_=>{p=_.ks,g=_.qs})),!i.isEqual(Re.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next(T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i));d.push(_)}return le.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ms=s,u))}function _O(r,e,t){let i=Be(),s=Be();return t.forEach(u=>i=i.add(u)),e.getEntries(r,i).next(u=>{let h=Ui();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ye($p,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:s}})}function EO(r,e){const t=Ne(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Pp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function bO(r,e){const t=Ne(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Pi.getTargetData(i,e).next(u=>u?(s=u,le.resolve(s)):t.Pi.allocateTargetId(i).next(h=>(s=new ba(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function $g(r,e,t){const i=Ne(r),s=i.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,s))}catch(h){if(!sl(h))throw h;ye($p,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function fb(r,e,t){const i=Ne(r);let s=Re.min(),u=Be();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const T=Ne(p),S=T.xs.get(_);return S!==void 0?le.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,_)}(i,h,ei(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(h,e,t?s:Re.min(),t?u:Be())).next(d=>(TO(i,c2(e),d),{documents:d,Qs:u})))}function TO(r,e,t){let i=r.Os.get(e)||Re.min();t.forEach((s,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),r.Os.set(e,i)}class mb{constructor(){this.activeTargetIds=p2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SO{constructor(){this.Mo=new mb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="ConnectivityMonitor";class pb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(gb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(gb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function Qg(){return kh===null?kh=function(){return 268435456+Math.round(2147483648*Math.random())}():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="RestConnection",AO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===ff?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,t,i,s,u){const h=Qg(),d=this.zo(e,t.toUriEncodedString());ye(vg,`Sending RPC '${e}' ${h}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,s,u);const{host:g}=new URL(d),_=el(g);return this.Jo(e,d,p,i,_).then(T=>(ye(vg,`Received RPC '${e}' ${h}: `,T),T),T=>{throw Go(vg,`RPC '${e}' ${h} failed with error: `,T,"url: ",d,"request:",i),T})}Ho(e,t,i,s,u,h){return this.Go(e,t,i,s,u)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),i&&i.headers.forEach((s,u)=>e[u]=s)}zo(e,t){const i=AO[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class IO extends RO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,u){const h=Qg();return new Promise((d,p)=>{const g=new fS;g.setWithCredentials(!0),g.listenOnce(dS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Yh.NO_ERROR:const T=g.getResponseJson();ye(En,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case Yh.TIMEOUT:ye(En,`RPC '${e}' ${h} timed out`),p(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:const S=g.getStatus();if(ye(En,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const j=C?.error;if(j&&j.status&&j.message){const V=function(z){const J=z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(J)>=0?J:re.UNKNOWN}(j.status);p(new me(V,j.message))}else p(new me(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(re.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(En,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(s);ye(En,`RPC '${e}' ${h} sending request:`,s),g.send(t,"POST",_,i,15)})}T_(e,t,i){const s=Qg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=pS(),d=gS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=u.join("");ye(En,`Creating RPC '${e}' stream ${s}: ${_}`,p);const T=h.createWebChannel(_,p);this.I_(T);let S=!1,C=!1;const j=new xO({Yo:L=>{C?ye(En,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(S||(ye(En,`Opening RPC '${e}' stream ${s} transport.`),T.open(),S=!0),ye(En,`RPC '${e}' stream ${s} sending:`,L),T.send(L))},Zo:()=>T.close()}),V=(L,z,J)=>{L.listen(z,ee=>{try{J(ee)}catch(ie){setTimeout(()=>{throw ie},0)}})};return V(T,yu.EventType.OPEN,()=>{C||(ye(En,`RPC '${e}' stream ${s} transport opened.`),j.o_())}),V(T,yu.EventType.CLOSE,()=>{C||(C=!0,ye(En,`RPC '${e}' stream ${s} transport closed`),j.a_(),this.E_(T))}),V(T,yu.EventType.ERROR,L=>{C||(C=!0,Go(En,`RPC '${e}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),j.a_(new me(re.UNAVAILABLE,"The operation could not be completed")))}),V(T,yu.EventType.MESSAGE,L=>{if(!C){const z=L.data[0];Ye(!!z,16349);const J=z,ee=J?.error||J[0]?.error;if(ee){ye(En,`RPC '${e}' stream ${s} received error:`,ee);const ie=ee.status;let te=function(x){const N=jt[x];if(N!==void 0)return ew(N)}(ie),pe=ee.message;te===void 0&&(te=re.INTERNAL,pe="Unknown error status: "+ie+" with message "+ee.message),C=!0,j.a_(new me(te,pe)),T.close()}else ye(En,`RPC '${e}' stream ${s} received:`,z),j.u_(z)}}),V(d,mS.STAT_EVENT,L=>{L.stat===Pg.PROXY?ye(En,`RPC '${e}' stream ${s} detected buffering proxy`):L.stat===Pg.NOPROXY&&ye(En,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function _g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(r){return new O2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t,i=1e3,s=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=s,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="PersistentStream";class gw{constructor(e,t,i,s,u,h,d,p){this.Mi=e,this.S_=i,this.b_=s,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Qp(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===t&&this.G_(i,s)},i=>{e(()=>{const s=new me(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ye(yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CO extends gw{constructor(e,t,i,s,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=k2(this.serializer,e),i=function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Yn(h.readTime):Re.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Yg(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=Bg(p)?{documents:L2(u,p)}:{query:U2(u,p).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=rw(u,h.resumeToken);const g=Fg(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){d.readTime=pf(u,h.snapshotVersion.toTimestamp());const g=Fg(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=B2(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Yg(this.serializer),t.removeTarget=e,this.q_(t)}}class NO extends gw{constructor(e,t,i,s,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=j2(e.writeResults,e.commitTime),i=Yn(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Yg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ow(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{}class OO extends DO{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Gg(t,i),s,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(re.UNKNOWN,u.toString())})}Ho(e,t,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Ho(e,Gg(t,i),s,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(re.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class MO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class VO{constructor(e,t,i,s,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{i.enqueueAndForget(async()=>{Os(this)&&(ye(Is,"Restarting streams for network reachability change."),await async function(p){const g=Ne(p);g.Ea.add(4),await tc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Gf(g)}(this))})}),this.Ra=new MO(i,s)}}async function Gf(r){if(Os(r))for(const e of r.da)await e(!0)}async function tc(r){for(const e of r.da)await e(!1)}function pw(r,e){const t=Ne(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Zp(t)?Wp(t):ol(t).O_()&&Xp(t,e))}function Kp(r,e){const t=Ne(r),i=ol(t);t.Ia.delete(e),i.O_()&&yw(t,e),t.Ia.size===0&&(i.O_()?i.L_():Os(t)&&t.Ra.set("Unknown"))}function Xp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ol(r).Y_(e)}function yw(r,e){r.Va.Ue(e),ol(r).Z_(e)}function Wp(r){r.Va=new I2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ol(r).start(),r.Ra.ua()}function Zp(r){return Os(r)&&!ol(r).x_()&&r.Ia.size>0}function Os(r){return Ne(r).Ea.size===0}function vw(r){r.Va=void 0}async function PO(r){r.Ra.set("Online")}async function kO(r){r.Ia.forEach((e,t)=>{Xp(r,e)})}async function jO(r,e){vw(r),Zp(r)?(r.Ra.ha(e),Wp(r)):r.Ra.set("Unknown")}async function LO(r,e,t){if(r.Ra.set("Online"),e instanceof nw&&e.state===2&&e.cause)try{await async function(s,u){const h=u.cause;for(const d of u.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,h),s.Ia.delete(d),s.Va.removeTarget(d))}(r,e)}catch(i){ye(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _f(r,i)}else if(e instanceof Xh?r.Va.Ze(e):e instanceof tw?r.Va.st(e):r.Va.tt(e),!t.isEqual(Re.min()))try{const i=await mw(r.localStore);t.compareTo(i)>=0&&await function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(pn.EMPTY_BYTE_STRING,_.snapshotVersion)),yw(u,p);const T=new ba(_.target,p,g,_.sequenceNumber);Xp(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(i){ye(Is,"Failed to raise snapshot:",i),await _f(r,i)}}async function _f(r,e,t){if(!sl(e))throw e;r.Ea.add(1),await tc(r),r.Ra.set("Offline"),t||(t=()=>mw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(Is,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Gf(r)})}function _w(r,e){return e().catch(t=>_f(r,t,e))}async function Yf(r){const e=Ne(r),t=Va(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pp;for(;UO(e);)try{const s=await EO(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,zO(e,s)}catch(s){await _f(e,s)}Ew(e)&&bw(e)}function UO(r){return Os(r)&&r.Ta.length<10}function zO(r,e){r.Ta.push(e);const t=Va(r);t.O_()&&t.X_&&t.ea(e.mutations)}function Ew(r){return Os(r)&&!Va(r).x_()&&r.Ta.length>0}function bw(r){Va(r).start()}async function BO(r){Va(r).ra()}async function qO(r){const e=Va(r);for(const t of r.Ta)e.ea(t.mutations)}async function HO(r,e,t){const i=r.Ta.shift(),s=Bp.from(i,e,t);await _w(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await Yf(r)}async function FO(r,e){e&&Va(r).X_&&await async function(i,s){if(function(h){return JS(h)&&h!==re.ABORTED}(s.code)){const u=i.Ta.shift();Va(i).B_(),await _w(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,s)),await Yf(i)}}(r,e),Ew(r)&&bw(r)}async function vb(r,e){const t=Ne(r);t.asyncQueue.verifyOperationInProgress(),ye(Is,"RemoteStore received new credentials");const i=Os(t);t.Ea.add(3),await tc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Gf(t)}async function GO(r,e){const t=Ne(r);e?(t.Ea.delete(2),await Gf(t)):e||(t.Ea.add(2),await tc(t),t.Ra.set("Unknown"))}function ol(r){return r.ma||(r.ma=function(t,i,s){const u=Ne(t);return u.sa(),new CO(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(r.datastore,r.asyncQueue,{Xo:PO.bind(null,r),t_:kO.bind(null,r),r_:jO.bind(null,r),H_:LO.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Zp(r)?Wp(r):r.Ra.set("Unknown")):(await r.ma.stop(),vw(r))})),r.ma}function Va(r){return r.fa||(r.fa=function(t,i,s){const u=Ne(t);return u.sa(),new NO(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:BO.bind(null,r),r_:FO.bind(null,r),ta:qO.bind(null,r),na:HO.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Yf(r)):(await r.fa.stop(),r.Ta.length>0&&(ye(Is,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t,i,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,u){const h=Date.now()+i,d=new Jp(e,t,h,s,u);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(r,e){if(Li("AsyncQueue",`${e}: ${r}`),sl(r))return new me(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=vu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=i.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new qo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.ga=new St(be.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class Xo{constructor(e,t,i,s,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Xo(e,t,qo.emptySet(t),h,i,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class $O{constructor(){this.queries=Eb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=Ne(t),u=s.queries;s.queries=Eb(),u.forEach((h,d)=>{for(const p of d.Sa)p.onError(i)})})(this,new me(re.ABORTED,"Firestore shutting down"))}}function Eb(){return new Ds(r=>LS(r),Uf)}async function ty(r,e){const t=Ne(r);let i=3;const s=e.query;let u=t.queries.get(s);u?!u.ba()&&e.Da()&&(i=2):(u=new YO,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await t.onListen(s,!0);break;case 1:u.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(h){const d=ey(h,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&ry(t)}async function ny(r,e){const t=Ne(r),i=e.query;let s=3;const u=t.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?s=e.Da()?0:1:!u.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function QO(r,e){const t=Ne(r);let i=!1;for(const s of e){const u=s.query,h=t.queries.get(u);if(h){for(const d of h.Sa)d.Fa(s)&&(i=!0);h.wa=s}}i&&ry(t)}function KO(r,e,t){const i=Ne(r),s=i.queries.get(e);if(s)for(const u of s.Sa)u.onError(t);i.queries.delete(e)}function ry(r){r.Ca.forEach(e=>{e.next()})}var Kg,bb;(bb=Kg||(Kg={})).Ma="default",bb.Cache="cache";class iy{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Xo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.key=e}}class Sw{constructor(e){this.key=e}}class XO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=US(e),this.tu=new qo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new _b,s=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,T)=>{const S=s.get(_),C=zf(this.query,T)?T:null,j=!!S&&this.mutatedKeys.has(S.key),V=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let L=!1;S&&C?S.data.isEqual(C.data)?j!==V&&(i.track({type:3,doc:C}),L=!0):this.su(S,C)||(i.track({type:2,doc:C}),L=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!S&&C?(i.track({type:0,doc:C}),L=!0):S&&!C&&(i.track({type:1,doc:S}),L=!0,(p||g)&&(d=!0)),L&&(C?(h=h.add(C),u=V?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),i.track({type:1,doc:_})}return{tu:h,iu:i,Cs:d,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((_,T)=>function(C,j){const V=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:L})}};return V(C)-V(j)}(_.type,T.type)||this.eu(_.doc,T.doc)),this.ou(i),s=s??!1;const d=t&&!s?this._u():[],p=this.Xa.size===0&&this.current&&!s?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Xo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _b,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new Sw(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new Tw(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ay="SyncEngine";class WO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ZO{constructor(e){this.key=e,this.hu=!1}}class JO{constructor(e,t,i,s,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ds(d=>LS(d),Uf),this.Iu=new Map,this.Eu=new Set,this.du=new St(be.comparator),this.Au=new Map,this.Ru=new Fp,this.Vu={},this.mu=new Map,this.fu=Ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eM(r,e,t=!0){const i=Cw(r);let s;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),s=u.view.lu()):s=await ww(i,e,t,!0),s}async function tM(r,e){const t=Cw(r);await ww(t,e,!0,!1)}async function ww(r,e,t,i){const s=await bO(r.localStore,ei(e)),u=s.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return i&&(d=await nM(r,e,u,h==="current",s.resumeToken)),r.isPrimaryClient&&t&&pw(r.remoteStore,s),d}async function nM(r,e,t,i,s){r.pu=(T,S,C)=>async function(V,L,z,J){let ee=L.view.ru(z);ee.Cs&&(ee=await fb(V.localStore,L.query,!1).then(({documents:U})=>L.view.ru(U,ee)));const ie=J&&J.targetChanges.get(L.targetId),te=J&&J.targetMismatches.get(L.targetId)!=null,pe=L.view.applyChanges(ee,V.isPrimaryClient,ie,te);return Sb(V,L.targetId,pe.au),pe.snapshot}(r,T,S,C);const u=await fb(r.localStore,e,!0),h=new XO(e,u.Qs),d=h.ru(u.documents),p=ec.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",s),g=h.applyChanges(d,r.isPrimaryClient,p);Sb(r,t,g.au);const _=new WO(e,t,h);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function rM(r,e,t){const i=Ne(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);if(u.length>1)return i.Iu.set(s.targetId,u.filter(h=>!Uf(h,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await $g(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Kp(i.remoteStore,s.targetId),Xg(i,s.targetId)}).catch(al)):(Xg(i,s.targetId),await $g(i.localStore,s.targetId,!0))}async function iM(r,e){const t=Ne(r),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Kp(t.remoteStore,i.targetId))}async function aM(r,e,t){const i=fM(r);try{const s=await function(h,d){const p=Ne(h),g=et.now(),_=d.reduce((C,j)=>C.add(j.key),Be());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let j=Ui(),V=Be();return p.Ns.getEntries(C,_).next(L=>{j=L,j.forEach((z,J)=>{J.isValidDocument()||(V=V.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,j)).next(L=>{T=L;const z=[];for(const J of d){const ee=T2(J,T.get(J.key).overlayedDocument);ee!=null&&z.push(new Ua(J.key,ee,NS(ee.value.mapValue),Ut.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,z,d)}).next(L=>{S=L;const z=L.applyToLocalDocumentSet(T,V);return p.documentOverlayCache.saveOverlays(C,L.batchId,z)})}).then(()=>({batchId:S.batchId,changes:BS(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(h,d,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new St(ze)),g=g.insert(d,p),h.Vu[h.currentUser.toKey()]=g}(i,s.batchId,t),await nc(i,s.changes),await Yf(i.remoteStore)}catch(s){const u=ey(s,"Failed to persist write");t.reject(u)}}async function Aw(r,e){const t=Ne(r);try{const i=await vO(t.localStore,e);e.targetChanges.forEach((s,u)=>{const h=t.Au.get(u);h&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?h.hu=!0:s.modifiedDocuments.size>0?Ye(h.hu,14607):s.removedDocuments.size>0&&(Ye(h.hu,42227),h.hu=!1))}),await nc(t,i,e)}catch(i){await al(i)}}function Tb(r,e,t){const i=Ne(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach((u,h)=>{const d=h.view.va(e);d.snapshot&&s.push(d.snapshot)}),function(h,d){const p=Ne(h);p.onlineState=d;let g=!1;p.queries.forEach((_,T)=>{for(const S of T.Sa)S.va(d)&&(g=!0)}),g&&ry(p)}(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function sM(r,e,t){const i=Ne(r);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),u=s&&s.key;if(u){let h=new St(be.comparator);h=h.insert(u,en.newNoDocument(u,Re.min()));const d=Be().add(u),p=new Hf(Re.min(),new Map,new St(ze),h,d);await Aw(i,p),i.du=i.du.remove(u),i.Au.delete(e),sy(i)}else await $g(i.localStore,e,!1).then(()=>Xg(i,e,t)).catch(al)}async function oM(r,e){const t=Ne(r),i=e.batch.batchId;try{const s=await yO(t.localStore,e);xw(t,i,null),Rw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await nc(t,s)}catch(s){await al(s)}}async function lM(r,e,t){const i=Ne(r);try{const s=await function(h,d){const p=Ne(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Ye(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(i.localStore,e);xw(i,e,t),Rw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await nc(i,s)}catch(s){await al(s)}}function Rw(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function xw(r,e,t){const i=Ne(r);let s=i.Vu[i.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function Xg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(i=>{r.Ru.containsKey(i)||Iw(r,i)})}function Iw(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Kp(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),sy(r))}function Sb(r,e,t){for(const i of t)i instanceof Tw?(r.Ru.addReference(i.key,e),uM(r,i)):i instanceof Sw?(ye(ay,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||Iw(r,i.key)):Se(19791,{wu:i})}function uM(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(ye(ay,"New document in limbo: "+t),r.Eu.add(i),sy(r))}function sy(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new be(ot.fromString(e)),i=r.fu.next();r.Au.set(i,new ZO(t)),r.du=r.du.insert(t,i),pw(r.remoteStore,new ba(ei(Lf(t.path)),i,"TargetPurposeLimboResolution",kf.ce))}}async function nc(r,e,t){const i=Ne(r),s=[],u=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach((d,p)=>{h.push(i.pu(p,e,t).then(g=>{if((g||t)&&i.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){s.push(g);const _=Yp.As(p.targetId,g);u.push(_)}}))}),await Promise.all(h),i.Pu.H_(s),await async function(p,g){const _=Ne(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>le.forEach(g,S=>le.forEach(S.Es,C=>_.persistence.referenceDelegate.addReference(T,S.targetId,C)).next(()=>le.forEach(S.ds,C=>_.persistence.referenceDelegate.removeReference(T,S.targetId,C)))))}catch(T){if(!sl(T))throw T;ye($p,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const C=_.Ms.get(S),j=C.snapshotVersion,V=C.withLastLimboFreeSnapshotVersion(j);_.Ms=_.Ms.insert(S,V)}}}(i.localStore,u))}async function cM(r,e){const t=Ne(r);if(!t.currentUser.isEqual(e)){ye(ay,"User change. New user:",e.toKey());const i=await dw(t.localStore,e);t.currentUser=e,function(u,h){u.mu.forEach(d=>{d.forEach(p=>{p.reject(new me(re.CANCELLED,h))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await nc(t,i.Ls)}}function hM(r,e){const t=Ne(r),i=t.Au.get(e);if(i&&i.hu)return Be().add(i.key);{let s=Be();const u=t.Iu.get(e);if(!u)return s;for(const h of u){const d=t.Tu.get(h);s=s.unionWith(d.view.nu)}return s}}function Cw(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sM.bind(null,e),e.Pu.H_=QO.bind(null,e.eventManager),e.Pu.yu=KO.bind(null,e.eventManager),e}function fM(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lM.bind(null,e),e}class Ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return pO(this.persistence,new dO,e.initialUser,this.serializer)}Cu(e){return new fw(Gp.mi,this.serializer)}Du(e){return new SO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ef.provider={build:()=>new Ef};class dM extends Ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ye(this.persistence.referenceDelegate instanceof vf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Z2(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new fw(i=>vf.mi(i,t),this.serializer)}}class Wg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Tb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cM.bind(null,this.syncEngine),await GO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $O}()}createDatastore(e){const t=Ff(e.databaseInfo.databaseId),i=function(u){return new IO(u)}(e.databaseInfo);return function(u,h,d,p){return new OO(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,u,h,d){return new VO(i,s,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Tb(this.syncEngine,t,0),function(){return pb.v()?new pb:new wO}())}createSyncEngine(e,t){return function(s,u,h,d,p,g,_){const T=new JO(s,u,h,d,p,g);return _&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const i=Ne(t);ye(Is,"RemoteStore shutting down."),i.Ea.add(5),await tc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wg.provider={build:()=>new Wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new me(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(s,u){const h=Ne(s),d={documents:u.map(T=>yf(h.serializer,T))},p=await h.Ho("BatchGetDocuments",h.serializer.databaseId,ot.emptyPath(),d,u.length),g=new Map;p.forEach(T=>{const S=P2(h.serializer,T);g.set(S.key.toString(),S)});const _=[];return u.forEach(T=>{const S=g.get(T.toString());Ye(!!S,55234,{key:T}),_.push(S)}),_}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ju(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{const s=be.fromPath(i);this.mutations.push(new ZS(s,this.precondition(s)))}),await async function(i,s){const u=Ne(i),h={writes:s.map(d=>ow(u.serializer,d))};await u.Go("Commit",u.serializer.databaseId,ot.emptyPath(),h)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Se(50498,{Gu:e.constructor.name});t=Re.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new me(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?Ut.exists(!1):Ut.updateTime(t):Ut.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new me(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ut.updateTime(t)}return Ut.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t,i,s,u){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=s,this.deferred=u,this.zu=i.maxAttempts,this.M_=new Qp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new mM(this.datastore),t=this.Hu(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(s=>{this.Yu(s)}))}).catch(i=>{this.Yu(i)})})}Hu(e){try{const t=this.updateFunction(e);return!Xu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!JS(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="FirestoreClient";class pM{constructor(e,t,i,s,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=bn.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{ye(Pa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ye(Pa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ey(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Eg(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Pa,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async s=>{i.isEqual(s)||(await dw(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function wb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await yM(r);ye(Pa,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>vb(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,s)=>vb(e.remoteStore,s)),r._onlineComponents=e}async function yM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Pa,"Using user provided OfflineComponentProvider");try{await Eg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),await Eg(r,new Ef)}}else ye(Pa,"Using default OfflineComponentProvider"),await Eg(r,new dM(void 0));return r._offlineComponents}async function ly(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Pa,"Using user provided OnlineComponentProvider"),await wb(r,r._uninitializedComponentsProvider._online)):(ye(Pa,"Using default OnlineComponentProvider"),await wb(r,new Wg))),r._onlineComponents}function vM(r){return ly(r).then(e=>e.syncEngine)}function _M(r){return ly(r).then(e=>e.datastore)}async function bf(r){const e=await ly(r),t=e.eventManager;return t.onListen=eM.bind(null,e.syncEngine),t.onUnlisten=rM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iM.bind(null,e.syncEngine),t}function EM(r,e,t={}){const i=new Jr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const _=new oy({next:S=>{_.Nu(),h.enqueueAndForget(()=>ny(u,T));const C=S.docs.has(d);!C&&S.fromCache?g.reject(new me(re.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&S.fromCache&&p&&p.source==="server"?g.reject(new me(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new iy(Lf(d.path),_,{includeMetadataChanges:!0,qa:!0});return ty(u,T)}(await bf(r),r.asyncQueue,e,t,i)),i.promise}function bM(r,e,t={}){const i=new Jr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const _=new oy({next:S=>{_.Nu(),h.enqueueAndForget(()=>ny(u,T)),S.fromCache&&p.source==="server"?g.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new iy(d,_,{includeMetadataChanges:!0,qa:!0});return ty(u,T)}(await bf(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firestore.googleapis.com",Rb=!0;class xb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dw,this.ssl=Rb}else this.host=e.host,this.ssl=e.ssl??Rb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<X2)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nw(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new xD;switch(i.type){case"firstParty":return new DD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Ab.get(t);i&&(ye("ComponentProvider","Removing Datastore"),Ab.delete(t),i.terminate())}(this),Promise.resolve()}}function TM(r,e,t,i={}){r=Tn(r,$f);const s=el(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;s&&(ST(`https://${d}`),wT("Firestore",!0)),u.host!==Dw&&u.host!==d&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:s,emulatorOptions:i};if(!ws(p,h)&&(r._setSettings(p),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=bn.MOCK_USER;else{g=Ux(i.mockUserToken,r._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new bn(T)}r._authCredentials=new ID(new vS(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class Tt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Ku(t,Tt._jsonSchema))return new Tt(e,i||null,new be(ot.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:zt("string",Tt._jsonSchemaVersion),referencePath:zt("string")};class Ia extends Ms{constructor(e,t,i){super(e,t,Lf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new be(e))}withConverter(e){return new Ia(this.firestore,e,this._path)}}function $n(r,e,...t){if(r=It(r),_S("collection","path",e),r instanceof $f){const i=ot.fromString(e,...t);return UE(i),new Ia(r,null,i)}{if(!(r instanceof Tt||r instanceof Ia))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ot.fromString(e,...t));return UE(i),new Ia(r.firestore,null,i)}}function gn(r,e,...t){if(r=It(r),arguments.length===1&&(e=Vp.newId()),_S("doc","path",e),r instanceof $f){const i=ot.fromString(e,...t);return LE(i),new Tt(r,null,new be(i))}{if(!(r instanceof Tt||r instanceof Ia))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ot.fromString(e,...t));return LE(i),new Tt(r.firestore,r instanceof Ia?r.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="AsyncQueue";class Cb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Qp(this,"async_queue_retry"),this._c=()=>{const i=_g();i&&ye(Ib,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=_g();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=_g();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Jr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;ye(Ib,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",Nb(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Jp.createAndSchedule(this,e,t,i,u=>this.hc(u));return this.tc.push(s),s}uc(){this.nc&&Se(47125,{Pc:Nb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Nb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(r){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const u of i)if(u in s&&typeof s[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Cr extends $f{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new Cb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cb(e),this._firestoreClient=void 0,await e}}}function SM(r,e){const t=typeof r=="object"?r:IT(),i=typeof r=="string"?r:ff,s=wp(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const u=jx("firestore");u&&TM(s,...u)}return s}function ll(r){if(r._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wM(r),r._firestoreClient}function wM(r){const e=r._freezeSettings(),t=function(s,u,h,d){return new QD(s,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Nw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new pM(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(s){const u=s?._online.build();return{_offline:s?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(pn.fromBase64String(e))}catch(t){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ku(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:zt("string",Fn._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Tf(){return new Vs(jg)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(Ku(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:zt("string",ti._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==s[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ku(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ni(e.vectorValues);throw new me(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:zt("string",ni._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/^__.*__$/;class RM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ua(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zu(e,this.data,t,this.fieldTransforms)}}class Ow{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ua(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class uy{constructor(e,t,i,s,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Mw(this.Ac)&&AM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ff(e)}Cc(e,t,i,s=!1){return new uy({Ac:e,methodName:t,Dc:i,path:dn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ul(r){const e=r._freezeSettings(),t=Ff(r._databaseId);return new xM(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Qf(r,e,t,i,s,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,t,s);my("Data must be an object, but it was:",h,i);const d=Vw(i,h);let p,g;if(u.merge)p=new Gn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=Zg(e,T,t);if(!h.contains(S))throw new me(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);kw(_,S)||_.push(S)}p=new Gn(_),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new RM(new Cn(d),p,g)}class Kf extends rc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}class cy extends rc{_toFieldTransform(e){return new KS(e.path,new ku)}isEqual(e){return e instanceof cy}}class hy extends rc{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Uu(e.serializer,FS(e.serializer,this.Fc));return new KS(e.path,t)}isEqual(e){return e instanceof hy&&this.Fc===e.Fc}}function fy(r,e,t,i){const s=r.Cc(1,e,t);my("Data must be an object, but it was:",s,i);const u=[],h=Cn.empty();La(i,(p,g)=>{const _=gy(e,p,t);g=It(g);const T=s.yc(_);if(g instanceof Kf)u.push(_);else{const S=ic(g,T);S!=null&&(u.push(_),h.set(_,S))}});const d=new Gn(u);return new Ow(h,d,s.fieldTransforms)}function dy(r,e,t,i,s,u){const h=r.Cc(1,e,t),d=[Zg(e,i,t)],p=[s];if(u.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Zg(e,u[S])),p.push(u[S+1]);const g=[],_=Cn.empty();for(let S=d.length-1;S>=0;--S)if(!kw(g,d[S])){const C=d[S];let j=p[S];j=It(j);const V=h.yc(C);if(j instanceof Kf)g.push(C);else{const L=ic(j,V);L!=null&&(g.push(C),_.set(C,L))}}const T=new Gn(g);return new Ow(_,T,h.fieldTransforms)}function IM(r,e,t,i=!1){return ic(t,r.Cc(i?4:3,e))}function ic(r,e){if(Pw(r=It(r)))return my("Unsupported field value:",e,r),Vw(r,e);if(r instanceof rc)return function(i,s){if(!Mw(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,s){const u=[];let h=0;for(const d of i){let p=ic(d,s.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(i,s){if((i=It(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return FS(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=et.fromDate(i);return{timestampValue:pf(s.serializer,u)}}if(i instanceof et){const u=new et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pf(s.serializer,u)}}if(i instanceof ti)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fn)return{bytesValue:rw(s.serializer,i._byteString)};if(i instanceof Tt){const u=s.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw s.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hp(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ni)return function(h,d){return{mapValue:{fields:{[IS]:{stringValue:CS},[df]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return zp(d.serializer,g)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${Pf(i)}`)}(r,e)}function Vw(r,e){const t={};return TS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(r,(i,s)=>{const u=ic(s,e.mc(i));u!=null&&(t[i]=u)}),{mapValue:{fields:t}}}function Pw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof et||r instanceof ti||r instanceof Fn||r instanceof Tt||r instanceof rc||r instanceof ni)}function my(r,e,t){if(!Pw(t)||!ES(t)){const i=Pf(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Zg(r,e,t){if((e=It(e))instanceof Vs)return e._internalPath;if(typeof e=="string")return gy(r,e);throw Sf("Field path arguments must be of type string or ",r,!1,void 0,t)}const CM=new RegExp("[~\\*/\\[\\]]");function gy(r,e,t){if(e.search(CM)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Vs(...e.split("."))._internalPath}catch{throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Sf(r,e,t,i,s){const u=i&&!i.isEmpty(),h=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${i}`),h&&(p+=` in document ${s}`),p+=")"),new me(re.INVALID_ARGUMENT,d+r+p)}function kw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t,i,s,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(py("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class NM extends wf{data(){return super.data()}}function py(r,e){return typeof e=="string"?gy(r,e):e instanceof Vs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yy{}class DM extends yy{}function wr(r,e,...t){let i=[];e instanceof yy&&i.push(e),i=i.concat(t),function(u){const h=u.filter(p=>p instanceof vy).length,d=u.filter(p=>p instanceof Xf).length;if(h>1||h>0&&d>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)r=s._apply(r);return r}class Xf extends DM{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Xf(e,t,i)}_apply(e){const t=this._parse(e);return Lw(e._query,t),new Ms(e.firestore,e.converter,qg(e._query,t))}_parse(e){const t=ul(e.firestore);return function(u,h,d,p,g,_,T){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Mb(T,_);const j=[];for(const V of T)j.push(Ob(p,u,V));S={arrayValue:{values:j}}}else S=Ob(p,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Mb(T,_),S=IM(d,h,T,_==="in"||_==="not-in");return Lt.create(g,_,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Vn(r,e,t){const i=e,s=py("where",r);return Xf._create(s,i,t)}class vy extends yy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,u){let h=s;const d=u.getFlattenedFilters();for(const p of d)Lw(h,p),h=qg(h,p)}(e._query,t),new Ms(e.firestore,e.converter,qg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ob(r,e,t){if(typeof(t=It(t))=="string"){if(t==="")throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jS(e)&&t.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ot.fromString(t));if(!be.isDocumentKey(i))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $E(r,new be(i))}if(t instanceof Tt)return $E(r,t._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(t)}.`)}function Mb(r,e){if(!Array.isArray(r)||r.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lw(r,e){const t=function(s,u){for(const h of s)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Uw{convertValue(e,t="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return La(e,(s,u)=>{i[s]=this.convertValue(u,t)}),i}convertVectorValue(e){const t=e.fields?.[df].arrayValue?.values?.map(i=>Dt(i.doubleValue));return new ni(t)}convertGeoPoint(e){return new ti(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const t=Da(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ot.fromString(e);Ye(cw(i),9688,{name:e});const s=new Vu(i.get(1),i.get(3)),u=new be(i.popFirst(5));return s.isEqual(t)||Li(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class OM extends Uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}class ko{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends wf{constructor(e,t,i,s,u,h){super(e,t,i,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(py("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ca._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:zt("string",Ca._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Wh extends Ca{data(e={}){return super.data(e)}}class Ts{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ko(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Wh(this._firestore,this._userDataWriter,i.key,i,new ko(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(d=>{const p=new Wh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ko(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Wh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ko(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:MM(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ts._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),s.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(r){r=Tn(r,Tt);const e=Tn(r.firestore,Cr);return EM(ll(e),r._key).then(t=>Hw(e,r,t))}Ts._jsonSchemaVersion="firestore/querySnapshot/1.0",Ts._jsonSchema={type:zt("string",Ts._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class Zf extends Uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function Ar(r){r=Tn(r,Ms);const e=Tn(r.firestore,Cr),t=ll(e),i=new Zf(e);return jw(r._query),bM(t,r._query).then(s=>new Ts(e,i,r,s))}function VM(r,e,t){r=Tn(r,Tt);const i=Tn(r.firestore,Cr),s=Wf(r.converter,e,t);return ac(i,[Qf(ul(i),"setDoc",r._key,s,r.converter!==null,t).toMutation(r._key,Ut.none())])}function _y(r,e,t,...i){r=Tn(r,Tt);const s=Tn(r.firestore,Cr),u=ul(s);let h;return h=typeof(e=It(e))=="string"||e instanceof Vs?dy(u,"updateDoc",r._key,e,t,i):fy(u,"updateDoc",r._key,e),ac(s,[h.toMutation(r._key,Ut.exists(!0))])}function zw(r){return ac(Tn(r.firestore,Cr),[new Ju(r._key,Ut.none())])}function Bw(r,e){const t=Tn(r.firestore,Cr),i=gn(r),s=Wf(r.converter,e);return ac(t,[Qf(ul(r.firestore),"addDoc",i._key,s,r.converter!==null,{}).toMutation(i._key,Ut.exists(!1))]).then(()=>i)}function qw(r,...e){r=It(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Db(e[i])||(t=e[i++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Db(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let u,h,d;if(r instanceof Tt)h=Tn(r.firestore,Cr),d=Lf(r._key.path),u={next:p=>{e[i]&&e[i](Hw(h,r,p))},error:e[i+1],complete:e[i+2]};else{const p=Tn(r,Ms);h=Tn(p.firestore,Cr),d=p._query;const g=new Zf(h);u={next:_=>{e[i]&&e[i](new Ts(h,g,p,_))},error:e[i+1],complete:e[i+2]},jw(r._query)}return function(g,_,T,S){const C=new oy(S),j=new iy(_,C,T);return g.asyncQueue.enqueueAndForget(async()=>ty(await bf(g),j)),()=>{C.Nu(),g.asyncQueue.enqueueAndForget(async()=>ny(await bf(g),j))}}(ll(h),d,s,u)}function ac(r,e){return function(i,s){const u=new Jr;return i.asyncQueue.enqueueAndForget(async()=>aM(await vM(i),s,u)),u.promise}(ll(r),e)}function Hw(r,e,t){const i=t.docs.get(e._key),s=new Zf(r);return new Ca(r,s,e._key,i,new ko(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ul(e)}set(e,t,i){this._verifyNotCommitted();const s=Ta(e,this._firestore),u=Wf(s.converter,t,i),h=Qf(this._dataReader,"WriteBatch.set",s._key,u,s.converter!==null,i);return this._mutations.push(h.toMutation(s._key,Ut.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const u=Ta(e,this._firestore);let h;return h=typeof(t=It(t))=="string"||t instanceof Vs?dy(this._dataReader,"WriteBatch.update",u._key,t,i,s):fy(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Ut.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ta(e,this._firestore);return this._mutations=this._mutations.concat(new Ju(t._key,Ut.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ta(r,e){if((r=It(r)).firestore!==e)throw new me(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ul(e)}get(e){const t=Ta(e,this._firestore),i=new OM(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||s.length!==1)return Se(24041);const u=s[0];if(u.isFoundDocument())return new wf(this._firestore,i,u.key,u,t.converter);if(u.isNoDocument())return new wf(this._firestore,i,t._key,null,t.converter);throw Se(18433,{doc:u})})}set(e,t,i){const s=Ta(e,this._firestore),u=Wf(s.converter,t,i),h=Qf(this._dataReader,"Transaction.set",s._key,u,s.converter!==null,i);return this._transaction.set(s._key,h),this}update(e,t,i,...s){const u=Ta(e,this._firestore);let h;return h=typeof(t=It(t))=="string"||t instanceof Vs?dy(this._dataReader,"Transaction.update",u._key,t,i,s):fy(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=Ta(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM extends jM{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ta(e,this._firestore),i=new Zf(this._firestore);return super.get(e).then(s=>new Ca(this._firestore,i,t._key,s._document,new ko(!1,!1),t.converter))}}function UM(r,e,t){r=Tn(r,Cr);const i={...PM,...t};return function(u){if(u.maxAttempts<1)throw new me(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(u,h,d){const p=new Jr;return u.asyncQueue.enqueueAndForget(async()=>{const g=await _M(u);new gM(u.asyncQueue,g,d,h,p).ju()}),p.promise}(ll(r),s=>e(new LM(r,s)),i)}function jh(){return new cy("serverTimestamp")}function zM(r){return new hy("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(r){return ll(r=Tn(r,Cr)),new kM(r,e=>ac(r,e))}(function(e,t=!0){(function(s){il=s})(tl),Ho(new As("firestore",(i,{instanceIdentifier:s,options:u})=>{const h=i.getProvider("app").getImmediate(),d=new Cr(new CD(i.getProvider("auth-internal")),new OD(h,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(g.options.projectId,_)}(h,s),h);return u={useFetchStreams:t,...u},d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Aa(PE,kE,e),Aa(PE,kE,"esm2020")})();const qM={apiKey:"AIzaSyBSQivX41l48mnAYehuJGcU2FHzEpfHgUE",authDomain:"turnosapp-14e8b.firebaseapp.com",projectId:"turnosapp-14e8b",storageBucket:"turnosapp-14e8b.firebasestorage.app",messagingSenderId:"1094594571259",appId:"1:1094594571259:web:10ee87622b0c91ab63395e"},Fw=xT(qM),sc=SD(Fw),Ze=SM(Fw),Vb=r=>{let e;const t=new Set,i=(g,_)=>{const T=typeof g=="function"?g(e):g;if(!Object.is(T,e)){const S=e;e=_??(typeof T!="object"||T===null)?T:Object.assign({},e,T),t.forEach(C=>C(e,S))}},s=()=>e,d={setState:i,getState:s,getInitialState:()=>p,subscribe:g=>(t.add(g),()=>t.delete(g))},p=e=r(i,s,d);return d},HM=r=>r?Vb(r):Vb,FM=r=>r;function GM(r,e=FM){const t=Ch.useSyncExternalStore(r.subscribe,Ch.useCallback(()=>e(r.getState()),[r,e]),Ch.useCallback(()=>e(r.getInitialState()),[r,e]));return Ch.useDebugValue(t),t}const Pb=r=>{const e=HM(r),t=i=>GM(e,i);return Object.assign(t,e),t},Gw=r=>r?Pb(r):Pb;function YM(r,e){let t;try{t=r()}catch{return}return{getItem:s=>{var u;const h=p=>p===null?null:JSON.parse(p,void 0),d=(u=t.getItem(s))!=null?u:null;return d instanceof Promise?d.then(h):h(d)},setItem:(s,u)=>t.setItem(s,JSON.stringify(u,void 0)),removeItem:s=>t.removeItem(s)}}const Jg=r=>e=>{try{const t=r(e);return t instanceof Promise?t:{then(i){return Jg(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Jg(i)(t)}}}},$M=(r,e)=>(t,i,s)=>{let u={storage:YM(()=>localStorage),partialize:V=>V,version:0,merge:(V,L)=>({...L,...V}),...e},h=!1;const d=new Set,p=new Set;let g=u.storage;if(!g)return r((...V)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),t(...V)},i,s);const _=()=>{const V=u.partialize({...i()});return g.setItem(u.name,{state:V,version:u.version})},T=s.setState;s.setState=(V,L)=>{T(V,L),_()};const S=r((...V)=>{t(...V),_()},i,s);s.getInitialState=()=>S;let C;const j=()=>{var V,L;if(!g)return;h=!1,d.forEach(J=>{var ee;return J((ee=i())!=null?ee:S)});const z=((L=u.onRehydrateStorage)==null?void 0:L.call(u,(V=i())!=null?V:S))||void 0;return Jg(g.getItem.bind(g))(u.name).then(J=>{if(J)if(typeof J.version=="number"&&J.version!==u.version){if(u.migrate){const ee=u.migrate(J.state,J.version);return ee instanceof Promise?ee.then(ie=>[!0,ie]):[!0,ee]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,J.state];return[!1,void 0]}).then(J=>{var ee;const[ie,te]=J;if(C=u.merge(te,(ee=i())!=null?ee:S),t(C,!0),ie)return _()}).then(()=>{z?.(C,void 0),C=i(),h=!0,p.forEach(J=>J(C))}).catch(J=>{z?.(void 0,J)})};return s.persist={setOptions:V=>{u={...u,...V},V.storage&&(g=V.storage)},clearStorage:()=>{g?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>j(),hasHydrated:()=>h,onHydrate:V=>(d.add(V),()=>{d.delete(V)}),onFinishHydration:V=>(p.add(V),()=>{p.delete(V)})},u.skipHydration||j(),C||S},Yw=$M,cr=Gw(Yw(r=>({user:null,info:null,turnos:null,isAuthReady:!1,setUser:({user:e,info:t,turnos:i})=>r({user:e,info:t,turnos:i,isAuthReady:!0}),setTurnos:e=>r({turnos:e}),clearUser:()=>r({user:null,info:null,turnos:null,isAuthReady:!1})}),{name:"auth-storage"}));async function $w(r){try{const e=gn(Ze,"users",r),t=await cl(e);return t.exists()?t.data():(console.warn("No se encontró el usuario"),null)}catch(e){return console.error("Error al obtener datos del usuario:",e),null}}async function Qw(r){try{const e=$n(Ze,"turnos"),t=wr(e,Vn("userId","==",r)),i=await Ar(t),s=[];for(const u of i.docs){const h=u.data(),d=gn(Ze,"servicios",h.servicioId),p=await cl(d),g=p.exists()?p.data():null;s.push({id:u.id,...h,servicio:g})}return s}catch(e){return console.error("Error al obtener turnos:",e),[]}}function QM({children:r}){const e=cr(i=>i.setUser),t=cr(i=>i.clearUser);return k.useEffect(()=>{const i=eS(sc,async s=>{if(s){const[u,h]=await Promise.all([$w(s.uid),Qw(s.uid)]);e({user:s,info:u,turnos:h})}else t()});return()=>i()},[]),r}function ur({type:r="info",message:e,onClose:t}){const[i,s]=k.useState(!1),u="p-3 rounded-md text-sm font-medium mt-2 relative",h={info:"bg-blue-100 text-blue-800 border border-blue-300",success:"bg-green-100 text-green-800 border border-green-300",warning:"bg-yellow-100 text-yellow-800 border border-yellow-300",error:"bg-red-100 text-red-800 border border-red-300"};k.useEffect(()=>{e&&s(!0)},[e]);function d(){s(!1),t&&t()}return!i||!e?null:v.jsxs("div",{className:`${u} ${h[r]}`,children:[e,v.jsx("button",{onClick:d,className:"absolute top-1 right-2 text-lg text-gray-500 hover:text-gray-700",children:"×"})]})}var KM={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function XM(r){if(typeof r=="number")return{value:r,unit:"px"};var e,t=(r.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var i=(r.match(/[^0-9]*$/)||"").toString();return KM[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(r," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function kb(r){var e=XM(r);return"".concat(e.value).concat(e.unit)}var WM=function(r,e,t){var i="react-spinners-".concat(r,"-").concat(t);if(typeof window>"u"||!window.document)return i;var s=document.createElement("style");document.head.appendChild(s);var u=s.sheet,h=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return u&&u.insertRule(h,0),i},Af=function(){return Af=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Af.apply(this,arguments)},ZM=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},JM=WM("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Cs(r){var e=r.loading,t=e===void 0?!0:e,i=r.color,s=i===void 0?"#000000":i,u=r.speedMultiplier,h=u===void 0?1:u,d=r.cssOverride,p=d===void 0?{}:d,g=r.size,_=g===void 0?35:g,T=ZM(r,["loading","color","speedMultiplier","cssOverride","size"]),S=Af({background:"transparent !important",width:kb(_),height:kb(_),borderRadius:"100%",border:"2px solid",borderTopColor:s,borderBottomColor:"transparent",borderLeftColor:s,borderRightColor:s,display:"inline-block",animation:"".concat(JM," ").concat(.75/h,"s 0s infinite linear"),animationFillMode:"both"},p);return t?k.createElement("span",Af({style:S},T)):null}function eV(){const[r,e]=k.useState(""),[t,i]=k.useState(""),[s,u]=k.useState(""),[h,d]=k.useState(!1),p=If(),g=cr(T=>T.setUser),_=async T=>{T.preventDefault(),u(""),d(!0);try{const S=await uN(sc,r,t),C=await $w(S.user.uid),j=await Qw(S.user.uid);g({user:S.user,info:C,turnos:j}),p("/dashboard")}catch{u("Credenciales inválidas.")}finally{d(!1)}};return v.jsx("div",{className:"page-container",children:h?v.jsx("div",{className:"flex justify-center items-center h-40",children:v.jsx(Cs,{color:"#3498db",loading:!0,size:50})}):v.jsxs("div",{className:"form-section max-w-sm mx-auto",children:[v.jsx("h2",{className:"page-subtitle text-center",children:"Iniciar sesión"}),s&&v.jsx(ur,{type:"error",message:s,onClose:()=>u(null)}),v.jsxs("form",{onSubmit:_,children:[v.jsx("label",{className:"form-label",children:"Email"}),v.jsx("input",{type:"email",value:r,onChange:T=>e(T.target.value),placeholder:"tuemail@ejemplo.com",className:"form-control",required:!0}),v.jsx("label",{className:"form-label",children:"Contraseña"}),v.jsx("input",{type:"password",value:t,onChange:T=>i(T.target.value),placeholder:"********",className:"form-control",required:!0}),v.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Iniciar sesión"})]}),v.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600 space-y-2",children:[v.jsxs("p",{children:["¿No tenés cuenta?"," ",v.jsx(vt,{to:"/register",className:"text-blue-600 hover:underline",children:"Registrate"})]}),v.jsxs("p",{children:["¿Olvidaste tu contraseña?"," ",v.jsx(vt,{to:"/recuperar",className:"text-blue-600 hover:underline",children:"Recuperar"})]})]})]})})}function tV(){const[r,e]=k.useState({nombre:"",apellido:"",telefono:"",email:"",password:""}),[t,i]=k.useState(""),[s,u]=k.useState(!1),h=p=>{e({...r,[p.target.name]:p.target.value})},d=async p=>{p.preventDefault(),i(""),u(!0);try{const _=(await createUserWithEmailAndPassword(auth,r.email,r.password)).user.uid;await setDoc(doc(db,"users",_),{nombre:r.nombre,apellido:r.apellido,telefono:r.telefono,email:r.email,createdAt:new Date}),await setDoc(doc(db,"roles",_),{role:"user"}),navigate("/dashboard")}catch(g){i("Error al registrar: "+g.message)}finally{u(!1)}};return v.jsx("div",{className:"page-container",children:v.jsxs("div",{className:"form-section max-w-md mx-auto",children:[v.jsx("h2",{className:"page-subtitle text-center mb-4",children:"Crear cuenta"}),t&&v.jsx(InfoMessage,{type:"error",message:t,onClose:()=>i(null)}),v.jsxs("form",{onSubmit:d,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Nombre"}),v.jsx("input",{name:"nombre",className:"form-control",onChange:h,value:r.nombre,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Apellido"}),v.jsx("input",{name:"apellido",className:"form-control",onChange:h,value:r.apellido,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Teléfono"}),v.jsx("input",{name:"telefono",className:"form-control",onChange:h,value:r.telefono})]}),v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Email"}),v.jsx("input",{type:"email",name:"email",className:"form-control",onChange:h,value:r.email,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Contraseña"}),v.jsx("input",{type:"password",name:"password",className:"form-control",onChange:h,value:r.password,required:!0})]}),v.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:s,children:s?"Registrando...":"Registrarse"})]}),v.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:v.jsxs("p",{children:["¿Ya tenés cuenta?"," ",v.jsx(vt,{to:"/login",className:"text-blue-600 hover:underline",children:"Iniciar sesión"})]})})]})})}var Zh={exports:{}},nV=Zh.exports,jb;function Kw(){return jb||(jb=1,function(r,e){(function(t,i){r.exports=i()})(nV,function(){var t=1e3,i=6e4,s=36e5,u="millisecond",h="second",d="minute",p="hour",g="day",_="week",T="month",S="quarter",C="year",j="date",V="Invalid Date",L=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,z=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,J={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(he){var ue=["th","st","nd","rd"],P=he%100;return"["+he+(ue[(P-20)%10]||ue[P]||ue[0])+"]"}},ee=function(he,ue,P){var K=String(he);return!K||K.length>=ue?he:""+Array(ue+1-K.length).join(P)+he},ie={s:ee,z:function(he){var ue=-he.utcOffset(),P=Math.abs(ue),K=Math.floor(P/60),Z=P%60;return(ue<=0?"+":"-")+ee(K,2,"0")+":"+ee(Z,2,"0")},m:function he(ue,P){if(ue.date()<P.date())return-he(P,ue);var K=12*(P.year()-ue.year())+(P.month()-ue.month()),Z=ue.clone().add(K,T),fe=P-Z<0,I=ue.clone().add(K+(fe?-1:1),T);return+(-(K+(P-Z)/(fe?Z-I:I-Z))||0)},a:function(he){return he<0?Math.ceil(he)||0:Math.floor(he)},p:function(he){return{M:T,y:C,w:_,d:g,D:j,h:p,m:d,s:h,ms:u,Q:S}[he]||String(he||"").toLowerCase().replace(/s$/,"")},u:function(he){return he===void 0}},te="en",pe={};pe[te]=J;var U="$isDayjsObject",x=function(he){return he instanceof q||!(!he||!he[U])},N=function he(ue,P,K){var Z;if(!ue)return te;if(typeof ue=="string"){var fe=ue.toLowerCase();pe[fe]&&(Z=fe),P&&(pe[fe]=P,Z=fe);var I=ue.split("-");if(!Z&&I.length>1)return he(I[0])}else{var X=ue.name;pe[X]=ue,Z=X}return!K&&Z&&(te=Z),Z||!K&&te},O=function(he,ue){if(x(he))return he.clone();var P=typeof ue=="object"?ue:{};return P.date=he,P.args=arguments,new q(P)},M=ie;M.l=N,M.i=x,M.w=function(he,ue){return O(he,{locale:ue.$L,utc:ue.$u,x:ue.$x,$offset:ue.$offset})};var q=function(){function he(P){this.$L=N(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[U]=!0}var ue=he.prototype;return ue.parse=function(P){this.$d=function(K){var Z=K.date,fe=K.utc;if(Z===null)return new Date(NaN);if(M.u(Z))return new Date;if(Z instanceof Date)return new Date(Z);if(typeof Z=="string"&&!/Z$/i.test(Z)){var I=Z.match(L);if(I){var X=I[2]-1||0,ce=(I[7]||"0").substring(0,3);return fe?new Date(Date.UTC(I[1],X,I[3]||1,I[4]||0,I[5]||0,I[6]||0,ce)):new Date(I[1],X,I[3]||1,I[4]||0,I[5]||0,I[6]||0,ce)}}return new Date(Z)}(P),this.init()},ue.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},ue.$utils=function(){return M},ue.isValid=function(){return this.$d.toString()!==V},ue.isSame=function(P,K){var Z=O(P);return this.startOf(K)<=Z&&Z<=this.endOf(K)},ue.isAfter=function(P,K){return O(P)<this.startOf(K)},ue.isBefore=function(P,K){return this.endOf(K)<O(P)},ue.$g=function(P,K,Z){return M.u(P)?this[K]:this.set(Z,P)},ue.unix=function(){return Math.floor(this.valueOf()/1e3)},ue.valueOf=function(){return this.$d.getTime()},ue.startOf=function(P,K){var Z=this,fe=!!M.u(K)||K,I=M.p(P),X=function(lt,ut){var wt=M.w(Z.$u?Date.UTC(Z.$y,ut,lt):new Date(Z.$y,ut,lt),Z);return fe?wt:wt.endOf(g)},ce=function(lt,ut){return M.w(Z.toDate()[lt].apply(Z.toDate("s"),(fe?[0,0,0,0]:[23,59,59,999]).slice(ut)),Z)},se=this.$W,ge=this.$M,Te=this.$D,_e="set"+(this.$u?"UTC":"");switch(I){case C:return fe?X(1,0):X(31,11);case T:return fe?X(1,ge):X(0,ge+1);case _:var $e=this.$locale().weekStart||0,Ve=(se<$e?se+7:se)-$e;return X(fe?Te-Ve:Te+(6-Ve),ge);case g:case j:return ce(_e+"Hours",0);case p:return ce(_e+"Minutes",1);case d:return ce(_e+"Seconds",2);case h:return ce(_e+"Milliseconds",3);default:return this.clone()}},ue.endOf=function(P){return this.startOf(P,!1)},ue.$set=function(P,K){var Z,fe=M.p(P),I="set"+(this.$u?"UTC":""),X=(Z={},Z[g]=I+"Date",Z[j]=I+"Date",Z[T]=I+"Month",Z[C]=I+"FullYear",Z[p]=I+"Hours",Z[d]=I+"Minutes",Z[h]=I+"Seconds",Z[u]=I+"Milliseconds",Z)[fe],ce=fe===g?this.$D+(K-this.$W):K;if(fe===T||fe===C){var se=this.clone().set(j,1);se.$d[X](ce),se.init(),this.$d=se.set(j,Math.min(this.$D,se.daysInMonth())).$d}else X&&this.$d[X](ce);return this.init(),this},ue.set=function(P,K){return this.clone().$set(P,K)},ue.get=function(P){return this[M.p(P)]()},ue.add=function(P,K){var Z,fe=this;P=Number(P);var I=M.p(K),X=function(ge){var Te=O(fe);return M.w(Te.date(Te.date()+Math.round(ge*P)),fe)};if(I===T)return this.set(T,this.$M+P);if(I===C)return this.set(C,this.$y+P);if(I===g)return X(1);if(I===_)return X(7);var ce=(Z={},Z[d]=i,Z[p]=s,Z[h]=t,Z)[I]||1,se=this.$d.getTime()+P*ce;return M.w(se,this)},ue.subtract=function(P,K){return this.add(-1*P,K)},ue.format=function(P){var K=this,Z=this.$locale();if(!this.isValid())return Z.invalidDate||V;var fe=P||"YYYY-MM-DDTHH:mm:ssZ",I=M.z(this),X=this.$H,ce=this.$m,se=this.$M,ge=Z.weekdays,Te=Z.months,_e=Z.meridiem,$e=function(ut,wt,Yt,yn){return ut&&(ut[wt]||ut(K,fe))||Yt[wt].slice(0,yn)},Ve=function(ut){return M.s(X%12||12,ut,"0")},lt=_e||function(ut,wt,Yt){var yn=ut<12?"AM":"PM";return Yt?yn.toLowerCase():yn};return fe.replace(z,function(ut,wt){return wt||function(Yt){switch(Yt){case"YY":return String(K.$y).slice(-2);case"YYYY":return M.s(K.$y,4,"0");case"M":return se+1;case"MM":return M.s(se+1,2,"0");case"MMM":return $e(Z.monthsShort,se,Te,3);case"MMMM":return $e(Te,se);case"D":return K.$D;case"DD":return M.s(K.$D,2,"0");case"d":return String(K.$W);case"dd":return $e(Z.weekdaysMin,K.$W,ge,2);case"ddd":return $e(Z.weekdaysShort,K.$W,ge,3);case"dddd":return ge[K.$W];case"H":return String(X);case"HH":return M.s(X,2,"0");case"h":return Ve(1);case"hh":return Ve(2);case"a":return lt(X,ce,!0);case"A":return lt(X,ce,!1);case"m":return String(ce);case"mm":return M.s(ce,2,"0");case"s":return String(K.$s);case"ss":return M.s(K.$s,2,"0");case"SSS":return M.s(K.$ms,3,"0");case"Z":return I}return null}(ut)||I.replace(":","")})},ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ue.diff=function(P,K,Z){var fe,I=this,X=M.p(K),ce=O(P),se=(ce.utcOffset()-this.utcOffset())*i,ge=this-ce,Te=function(){return M.m(I,ce)};switch(X){case C:fe=Te()/12;break;case T:fe=Te();break;case S:fe=Te()/3;break;case _:fe=(ge-se)/6048e5;break;case g:fe=(ge-se)/864e5;break;case p:fe=ge/s;break;case d:fe=ge/i;break;case h:fe=ge/t;break;default:fe=ge}return Z?fe:M.a(fe)},ue.daysInMonth=function(){return this.endOf(T).$D},ue.$locale=function(){return pe[this.$L]},ue.locale=function(P,K){if(!P)return this.$L;var Z=this.clone(),fe=N(P,K,!0);return fe&&(Z.$L=fe),Z},ue.clone=function(){return M.w(this.$d,this)},ue.toDate=function(){return new Date(this.valueOf())},ue.toJSON=function(){return this.isValid()?this.toISOString():null},ue.toISOString=function(){return this.$d.toISOString()},ue.toString=function(){return this.$d.toUTCString()},he}(),R=q.prototype;return O.prototype=R,[["$ms",u],["$s",h],["$m",d],["$H",p],["$W",g],["$M",T],["$y",C],["$D",j]].forEach(function(he){R[he[1]]=function(ue){return this.$g(ue,he[0],he[1])}}),O.extend=function(he,ue){return he.$i||(he(ue,q,O),he.$i=!0),O},O.locale=N,O.isDayjs=x,O.unix=function(he){return O(1e3*he)},O.en=pe[te],O.Ls=pe,O.p={},O})}(Zh)),Zh.exports}var rV=Kw();const Xr=nT(rV);async function Ey(r,e){const t=gn(Ze,"turnos",r);await _y(t,{estado:e})}async function iV(r){return Ey(r,"confirmado")}async function aV(r){return Ww(r),Ey(r,"rechazado")}async function Xw(r){return Ww(r),Ey(r,"cancelado")}async function sV(){const r=Xr().startOf("day").toDate(),e=wr($n(Ze,"turnos"),Vn("estado","==","pendiente"),Vn("inicio",">=",r)),i=(await Ar(e)).docs.map(g=>({id:g.id,...g.data()}));if(i.length===0)return[];const s=[...new Set(i.map(g=>g.userId))],u=[...new Set(i.map(g=>g.servicioId))];let h={};if(s.length){const g=wr($n(Ze,"users"),Vn(Tf(),"in",s));(await Ar(g)).forEach(T=>{h[T.id]=T.data()})}let d={};if(u.length){const g=wr($n(Ze,"servicios"),Vn(Tf(),"in",u));(await Ar(g)).forEach(T=>{d[T.id]=T.data()})}return i.map(g=>({...g,usuario:h[g.userId]||null,servicio:d[g.servicioId]||null}))}async function oV(r){const e=Xr(r).startOf("day").toDate(),t=Xr(r).endOf("day").toDate(),i=wr($n(Ze,"turnos"),Vn("inicio",">=",e),Vn("inicio","<=",t)),u=(await Ar(i)).docs.map(V=>({id:V.id,...V.data()}));if(u.length===0)return[];const h=[...new Set(u.map(V=>V.userId))],d=[...new Set(u.map(V=>V.servicioId))],p=wr($n(Ze,"users"),Vn(Tf(),"in",h)),g=await Ar(p),_={};g.forEach(V=>{_[V.id]=V.data()});const T=wr($n(Ze,"servicios"),Vn(Tf(),"in",d)),S=await Ar(T),C={};return S.forEach(V=>{C[V.id]=V.data()}),u.map(V=>({...V,usuario:_[V.userId]||null,servicio:C[V.servicioId]||null}))}async function Ww(r){const e=gn(Ze,"turnos",r),t=await cl(e);if(!t.exists())return;const{slotIds:i=[]}=t.data(),s=BM(Ze);for(const u of i){const h=gn(Ze,"slots",u);s.update(h,{capacidad:zM(1)})}s.update(e,{slotIds:[]}),await s.commit()}function lV(){const[r,e]=k.useState(null),[t,i]=k.useState(null),s=cr(g=>g.turnos),u=cr(g=>g.setTurnos),[h,d]=k.useState(!1),p=async g=>{try{d(!0),await Xw(g),u(s.map(_=>_.id===g?{..._,estado:"cancelado"}:_)),i("El turno fue cancelado correctamente."),e(null)}catch{e("No se pudo cancelar el turno. Intenta de nuevo."),i(null)}finally{d(!1)}};return v.jsx("div",{className:"page-container",children:h?v.jsx("div",{className:"flex justify-center items-center h-40",children:v.jsx(Cs,{color:"#3498db",loading:!0,size:50})}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2",children:[v.jsx("h2",{className:"page-title",children:"📅 Tus próximos turnos"}),v.jsx(vt,{to:"/turnos",className:"btn-primary inline-block max-w-fit sm:ml-4",children:"➕ Sacar nuevo turno"})]}),r&&v.jsx(ur,{type:"error",message:r}),t&&v.jsx(ur,{type:"success",message:t}),v.jsx("div",{className:"form-section",children:s.length===0?v.jsx("p",{className:"text-gray-500 mt-2",children:"No tenés turnos próximos."}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:s.map(g=>v.jsxs("div",{className:"bg-white p-4 rounded shadow border",children:[v.jsx("h3",{className:"font-bold text-lg text-gray-800",children:g.servicio?.nombre}),v.jsxs("p",{className:"text-gray-700",children:[v.jsx("strong",{children:"💲 Precio:"})," $",g.servicio?.precio]}),v.jsxs("p",{className:"text-gray-700",children:[v.jsx("strong",{children:"📅 Fecha:"})," ",new et(g.inicio.seconds,g.inicio.nanoseconds).toDate().toLocaleString("es-AR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),v.jsxs("p",{className:"text-gray-700",children:[v.jsx("strong",{children:"⏳ Duración:"})," ",g.servicio?.duracionMinutos," minutos"]}),v.jsxs("p",{className:"text-gray-700",children:[v.jsx("strong",{children:"📌 Estado:"})," ",g.estado]}),(g.estado==="pendiente"||g.estado==="confirmado")&&v.jsx("button",{onClick:()=>p(g.id),className:"btn-danger mt-3 w-full",children:"❌ Cancelar turno"})]},g.id))})})]})})}async function Lb(){try{const r=$n(Ze,"servicios"),e=wr(r,Vn("activo","==",!0)),t=await Ar(e);return t.empty?(console.warn("No se encontraron servicios activos"),[]):t.docs.map(s=>({id:s.id,...s.data()}))}catch(r){return console.error("Error al obtener servicios:",r),[]}}const Zw=Gw(Yw((r,e)=>({servicios:null,isLoading:!1,fetchServicios:async()=>{const{servicios:t}=e();if(t&&t.length>0)return t;r({isLoading:!0});const i=await Lb();return r({servicios:i,isLoading:!1}),i},refreshServicios:async()=>{r({isLoading:!0});const t=await Lb();return r({servicios:t,isLoading:!1}),t},clearServicios:()=>r({servicios:null})}),{name:"servicios-storage"}));async function uV(r){const e=r.toISOString().slice(0,10);let t=(r.getDay()+6)%7;const i=await cl(gn(Ze,"configuracion","admin"));if(!i.exists())throw new Error("Configuración no encontrada");const s=i.data(),u=s.horarios??{};let h=Array.isArray(u)?u[t]??[]:u[String(t)]??[];const d=Number(s.turnosSimultaneos??1),p=Number(s.minutosSlot??15),g=await Ar(wr($n(Ze,"configuracion","admin","excepciones"),Vn("fecha","==",e)));if(!g.empty){const j=g.docs[0].data();j.tipo==="cerrado"?h=[]:j.tipo==="abierto"&&(Array.isArray(j.franjas)?h=j.franjas.map(V=>({inicio:V.inicio,fin:V.fin})):h=[{inicio:j.inicio,fin:j.fin}])}const _=new Date(`${e}T00:00:00`),T=new Date(`${e}T23:59:59.999`),C=(await Ar(wr($n(Ze,"slots"),Vn("fechaHoraInicio",">=",_),Vn("fechaHoraInicio","<=",T)))).docs.map(j=>{const V=j.data();return{id:j.id,fechaHoraInicio:V.fechaHoraInicio.toDate?V.fechaHoraInicio.toDate():new Date(V.fechaHoraInicio),fechaHoraFin:V.fechaHoraFin.toDate?V.fechaHoraFin.toDate():new Date(V.fechaHoraFin),capacidad:typeof V.capacidad=="number"?V.capacidad:d}});return{horarioAtencion:h,turnosSimultaneos:d,slotsRegistrados:C,minutosSlot:p}}function cV(r,e,t,i,s,u){const h=[],d=new Date,p=r.getFullYear()===d.getFullYear()&&r.getMonth()===d.getMonth()&&r.getDate()===d.getDate();return e.forEach(({inicio:g,fin:_})=>{const T=new Date(`${r.toISOString().slice(0,10)}T${g}`),S=new Date(`${r.toISOString().slice(0,10)}T${_}`);for(let C=new Date(T);C<S;C.setMinutes(C.getMinutes()+t)){if(p&&C<=d)continue;const j=new Date(C.getTime()+u*6e4);if(j>S)continue;let V=!1;for(let z=new Date(C);z<j;z.setMinutes(z.getMinutes()+t)){const J=i.find(ee=>ee.fechaHoraInicio.getTime()===z.getTime());if(J&&J.capacidad===0){V=!0;break}}if(V)continue;const L=i.find(z=>z.fechaHoraInicio.getTime()===C.getTime());(!L||L.capacidad>0)&&h.push({id:L?.id??`gen-${C.getTime()}`,fechaHoraInicio:new Date(C),fechaHoraFin:j,capacidad:L?.capacidad??s,disponible:(L?.capacidad??s)>0})}}),h}function hV(r){const e=r.getFullYear(),t=String(r.getMonth()+1).padStart(2,"0"),i=String(r.getDate()).padStart(2,"0"),s=String(r.getHours()).padStart(2,"0"),u=String(r.getMinutes()).padStart(2,"0");return`${e}-${t}-${i}T${s}:${u}`}async function fV({slotInicio:r,duracionMinutos:e,userUid:t,servicioUid:i}){const s=await cl(gn(Ze,"configuracion","admin")),u=s.data().minutosSlot,h=s.data().turnosSimultaneos,d=Math.max(1,Math.ceil(e/u)),p=Array.from({length:d},(j,V)=>new Date(r.getTime()+V*u*6e4)),g=p.map(hV),_=g.map(j=>gn(Ze,"slots",j)),T=new Date(r.getTime()+e*6e4),S=crypto.randomUUID(),C=gn(Ze,"turnos",S);return await UM(Ze,async j=>{const V=[];for(let L=0;L<_.length;L++){const z=_[L],J=p[L],ee=await j.get(z);V.push({ref:z,inicio:J,snap:ee})}for(let L=0;L<V.length;L++){const{ref:z,inicio:J,snap:ee}=V[L];let ie;if(!ee.exists())ie=h,j.set(z,{fechaHoraInicio:et.fromDate(J),fechaHoraFin:et.fromDate(new Date(J.getTime()+u*6e4)),capacidad:ie-1,creadoEn:jh(),actualizadoEn:jh()});else{const te=ee.data();if(ie=typeof te.capacidad=="number"?te.capacidad:h,ie<=0)throw new Error("Sin disponibilidad en uno de los tramos.");j.update(z,{capacidad:ie-1,actualizadoEn:jh()})}}j.set(C,{userId:t,servicioId:i,inicio:et.fromDate(r),fin:et.fromDate(T),duracionMinutos:e,slotIds:g,estado:"confirmado",fechaCreacion:jh()})}),{turnoId:S,slotIds:g}}function dV({servicios:r,loading:e,onSelect:t}){return v.jsxs("section",{children:[v.jsx("h2",{className:"text-2xl font-semibold mb-4 text-indigo-600",children:"1️⃣ Elegí un servicio"}),e?v.jsx("p",{className:"text-gray-500",children:"Cargando servicios..."}):r.length===0?v.jsx("p",{className:"text-gray-500",children:"No hay servicios disponibles."}):v.jsx("ul",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3",children:r.map(i=>v.jsxs("li",{className:"border bg-indigo-50 rounded-lg p-5 shadow-sm hover:shadow-lg hover:border-indigo-400 transition-all duration-200 flex flex-col bg-white group",children:[v.jsx("div",{className:"flex items-center gap-2 mb-2",children:v.jsx("h3",{className:"text-lg font-bold text-gray-800",children:i.nombre})}),v.jsxs("p",{className:"text-sm text-gray-600",children:[v.jsx("strong",{children:"Duración:"})," ",i.duracionMinutos," min"]}),typeof i.precio=="number"&&v.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[v.jsx("strong",{children:"Precio:"})," $ $",i.precio]}),v.jsx("button",{className:"mt-auto bg-indigo-600 text-white px-3 py-2 rounded-lg hover:bg-indigo-700 w-full transition-colors",onClick:()=>t(i),children:"Elegir"})]},i.id))})]})}function mV({servicio:r,fechaStr:e,todayStr:t,onFechaChange:i,slots:s,loading:u,horaSel:h,onHoraChange:d,onBack:p,onContinuar:g}){return v.jsxs("section",{className:"rounded-lg border p-6 bg-white mt-6 shadow-sm",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("button",{className:"text-indigo-500 hover:text-indigo-700 flex items-center gap-1",onClick:p,children:"← Cambiar servicio"}),v.jsxs("div",{className:"bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium",children:["💆 ",r.nombre," · ⏳ ",r.duracionMinutos," min"]})]}),v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📅 Seleccioná la fecha"}),v.jsx("input",{type:"date",className:"border rounded px-3 py-2 mb-6 w-full focus:outline-none focus:ring-2 focus:ring-indigo-500",value:e,min:t,onChange:i}),u?v.jsx("p",{className:"text-gray-500",children:"Cargando horarios..."}):s.length===0?v.jsx("p",{className:"text-gray-500",children:"No hay horarios disponibles para esta fecha. Probá con otro día."}):v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"⏰ Elegí un horario:"}),v.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3",children:s.map(_=>{const T=_.fechaHoraInicio.toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit",hour12:!1}),S=h===T;return v.jsx("button",{type:"button",disabled:!_.disponible,className:`px-3 py-2 rounded-full text-sm border transition-all duration-200
                    ${_.disponible?S?"bg-indigo-600 text-white border-indigo-600":"bg-white hover:bg-indigo-50 border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"}
                  `,"aria-pressed":S,onClick:()=>d(T),children:T},_.id+T)})}),v.jsx("div",{className:"mt-8 flex justify-end",children:v.jsx("button",{className:`px-5 py-2 rounded-lg font-medium transition-colors duration-200 ${h?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!h,onClick:g,children:"Continuar →"})})]})]})}function gV({servicio:r,fecha:e,horaSel:t,confirming:i,onBack:s,onConfirm:u}){return v.jsxs("section",{className:"rounded-lg border p-6 bg-white mt-6 shadow-sm",children:[v.jsx("button",{className:"text-indigo-500 hover:text-indigo-700 flex items-center gap-1 mb-6",onClick:s,children:"← Cambiar fecha u horario"}),v.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"📋 Revisá y confirmá"}),v.jsxs("ul",{className:"text-gray-700 mb-8 space-y-2 bg-indigo-50 rounded-lg p-4",children:[v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"💆 Servicio:"})," ",r.nombre]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"⏳ Duración:"})," ",r.duracionMinutos," min"]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"📅 Fecha:"})," ",e.toLocaleDateString("es-AR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"⏰ Horario:"})," ",t," hs"]}),typeof r.precio=="number"&&v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"💲 Precio:"})," $",r.precio]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-end",children:[v.jsx("button",{disabled:i,className:`px-5 py-2 rounded-lg font-medium transition-colors duration-200 ${i?"bg-gray-300 text-gray-600 cursor-wait":"bg-green-600 text-white hover:bg-green-700"}`,onClick:u,children:i?"Confirmando...":"Confirmar turno"}),v.jsx("button",{className:"px-5 py-2 rounded-lg border hover:bg-gray-50 font-medium",onClick:s,children:"Volver"})]})]})}function pV(){const[r,e]=k.useState([]),t=Zw(R=>R.fetchServicios),[i,s]=k.useState(!0),[u,h]=k.useState(""),[d,p]=k.useState(""),[g,_]=k.useState(1),[T,S]=k.useState(null),[C,j]=k.useState(()=>{const R=new Date;return new Date(R.getFullYear(),R.getMonth(),R.getDate())}),[V,L]=k.useState([]),[z,J]=k.useState(!1),[ee,ie]=k.useState(""),[te,pe]=k.useState(!1),U=cr(R=>R.user),x=R=>{const he=R.getFullYear(),ue=String(R.getMonth()+1).padStart(2,"0"),P=String(R.getDate()).padStart(2,"0");return`${he}-${ue}-${P}`},N=x(new Date),O=x(C);function M(R,he){const[ue,P]=he.split(":").map(Number),K=new Date(R);return K.setHours(ue,P,0,0),K}k.useEffect(()=>{let R=!0;return(async()=>{try{s(!0);const he=await t();R&&e(he)}catch{R&&h("No pudimos cargar los servicios.")}finally{R&&s(!1)}})(),()=>{R=!1}},[]),k.useEffect(()=>{if(!T)return;let R=!0;return(async()=>{try{J(!0);const{horarioAtencion:he,turnosSimultaneos:ue,slotsRegistrados:P,minutosSlot:K}=await uV(C),Z=cV(C,he,K,P,ue,T.duracionMinutos);R&&L(Z)}catch(he){console.error(he),R&&h("No pudimos cargar los horarios."),R&&L([])}finally{R&&J(!1)}})(),()=>{R=!1}},[T,C]);const q=async()=>{if(!U?.uid){h("Tenés que iniciar sesión para reservar.");return}if(!(!T||!ee)){pe(!0),h(""),p("");try{const R=M(C,ee),{turnoId:he}=await fV({slotInicio:R,duracionMinutos:T.duracionMinutos,userUid:U.uid,servicioUid:T.id});p(`Turno confirmado: ${T.nombre} el día ${C} a las ${ee}`),_(1),S(null),ie("")}catch(R){console.error(R),h(R.message==="Sin disponibilidad en uno de los tramos."?"El horario se encuentra reservado.":"No pudimos confirmar el turno. Probá de nuevo.")}finally{pe(!1)}}};return v.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[v.jsx("h1",{className:"page-title",children:"Sacar turno"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Elegí un servicio, seleccioná fecha y horario, y confirmá tu reserva."}),v.jsx("div",{className:"flex items-center mb-8",children:[1,2,3].map(R=>v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${g>=R?"bg-indigo-600 text-white":"bg-gray-300 text-gray-600"}`,children:R}),R<3&&v.jsx("div",{className:`h-1 w-14 ${g>R?"bg-indigo-600":"bg-gray-300"}`})]},R))}),u&&v.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded border border-red-200 bg-red-50 px-4 py-3 text-red-700",children:["❌ ",u]}),d&&v.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded border border-green-200 bg-green-50 px-4 py-3 text-green-700",children:["✅ ",d]}),g===1&&v.jsx("div",{className:"bg-white p-6 rounded shadow",children:v.jsx(dV,{servicios:r,loading:i,onSelect:R=>{S(R),ie(""),_(2)}})}),g===2&&T&&v.jsx("div",{className:"bg-white p-6 rounded shadow",children:v.jsx(mV,{servicio:T,fechaStr:O,todayStr:N,onFechaChange:R=>{const[he,ue,P]=R.target.value.split("-").map(Number);j(new Date(he,ue-1,P)),ie("")},slots:V,loading:z,horaSel:ee,onHoraChange:ie,onBack:()=>{S(null),ie(""),_(1)},onContinuar:()=>_(3)})}),g===3&&T&&ee&&v.jsx("div",{className:"bg-white p-6 rounded shadow",children:v.jsx(gV,{servicio:T,fecha:C,horaSel:ee,confirming:te,onBack:()=>_(2),onConfirm:q})})]})}function yV(r){const e={};for(let t=0;t<7;t++){const i=Array.isArray(r?.[t])?r[t]:[];e[String(t)]=i}return e}function vV(r){const e=[];if(Array.isArray(r))for(let t=0;t<7;t++)e[t]=Array.isArray(r[t])?r[t]:[];else for(let t=0;t<7;t++){const i=String(t);e[t]=Array.isArray(r?.[i])?r[i]:[]}return e}function _V(r,e,t,i){const s=gn(Ze,"configuracion",r);return qw(s,u=>{if(u.exists()){const h=u.data();t({turnosSimultaneos:Number(h.turnosSimultaneos??1),minutosSlot:Number(h.minutosSlot??15),horarios:h.horarios?vV(h.horarios):e})}else t(null)},u=>i(u))}function EV(r,e,t,i){return VM(gn(Ze,"configuracion",r),{turnosSimultaneos:Number(e),minutosSlot:Number(t),horarios:yV(i)},{merge:!0})}function bV(r,e,t){const i=Xr().format("YYYY-MM-DD"),s=$n(Ze,"configuracion",r,"excepciones"),u=wr(s,Vn("fecha",">=",i));return qw(u,h=>{const d=[];h.forEach(p=>d.push({id:p.id,...p.data()})),e(d)},h=>t(h))}function TV(r,e){return Bw($n(Ze,"configuracion",r,"excepciones"),e)}function SV(r,e){return zw(gn(Ze,"configuracion",r,"excepciones",e))}function wV(r,e){const t=k.useMemo(()=>Array.from({length:7},()=>[{inicio:"09:00",fin:"18:00"}]),[]),[i,s]=k.useState(1),[u,h]=k.useState(15),[d,p]=k.useState(t),[g,_]=k.useState([]),[T,S]=k.useState(!0),[C,j]=k.useState("");return k.useEffect(()=>{if(!e||!r)return;const V=_V(r,t,z=>{z&&(s(z.turnosSimultaneos??1),h(z.minutosSlot??15),p(z.horarios??t)),S(!1)},z=>{j(z.message),S(!1)}),L=bV(r,z=>_(z),z=>j(z.message));return()=>{V(),L()}},[r,e,t]),{turnosSimultaneos:i,setTurnosSimultaneos:s,minutosSlot:u,setMinutosSlot:h,horarios:d,setHorarios:p,excepciones:g,loading:T,error:C,defaultHorarios:t,saveConfig:()=>EV(r,i,u,d),addExcepcion:V=>TV(r,V),removeExcepcion:V=>SV(r,V)}}function AV({value:r,onChange:e}){return v.jsxs(v.Fragment,{children:[v.jsx("label",{className:"form-label",htmlFor:"turnosSimultaneos",children:"Turnos simultáneos"}),v.jsx("input",{id:"turnosSimultaneos",type:"number",min:"1",value:r,onChange:t=>e(Number(t.target.value)),className:"form-control w-32"})]})}function RV({dia:r,franjas:e,onAdd:t,onUpdate:i,onDelete:s}){const u=!e||e.length===0;return v.jsxs("div",{className:"mb-4",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx("strong",{className:"text-lg mr-2 whitespace-nowrap",children:r}),v.jsx("div",{className:"flex-grow h-px bg-gray-300"})]}),v.jsx("div",{className:"space-y-2",children:u?v.jsx("div",{className:"text-gray-500 italic",children:"Cerrado"}):e.map((h,d)=>v.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-2 items-center",children:[v.jsx("input",{type:"time",value:h.inicio,onChange:p=>i(d,"inicio",p.target.value),className:"border px-2 py-1 rounded"}),v.jsx("input",{type:"time",value:h.fin,onChange:p=>i(d,"fin",p.target.value),className:"border px-2 py-1 rounded"}),v.jsx("button",{onClick:()=>s(d),className:"text-red-500 hover:text-red-700 text-lg",title:"Eliminar franja",children:"🗑"})]},d))}),v.jsx("div",{className:"mt-2 flex justify-end",children:v.jsx("button",{onClick:t,className:"btn-primary",children:"+ Franja"})})]})}function xV({diasSemana:r,horarios:e,onAgregar:t,onActualizar:i,onEliminar:s}){return v.jsxs(v.Fragment,{children:[v.jsx("label",{className:"form-label",children:"Horarios semanales"}),r.map((u,h)=>v.jsx(RV,{dia:u,franjas:e[h]||[],onAdd:()=>t(h),onUpdate:(d,p,g)=>i(h,d,p,g),onDelete:d=>s(h,d)},u))]})}function IV({nuevaExcepcion:r,setNuevaExcepcion:e,onAdd:t}){const i=()=>{e({...r,franjas:[...r.franjas||[],{inicio:"",fin:""}]})},s=h=>{const d=r.franjas.filter((p,g)=>g!==h);e({...r,franjas:d})},u=(h,d,p)=>{const g=r.franjas.map((_,T)=>T===h?{..._,[d]:p}:_);e({...r,franjas:g})};return v.jsxs("div",{className:"form-section",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"form-label",htmlFor:"fecha",children:"Fecha"}),v.jsx("input",{id:"fecha",type:"date",value:r.fecha,min:new Date().toISOString().split("T")[0],onChange:h=>e({...r,fecha:h.target.value}),className:"form-control"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"form-label",htmlFor:"tipo",children:"Tipo"}),v.jsxs("select",{id:"tipo",value:r.tipo,onChange:h=>e({...r,tipo:h.target.value,franjas:h.target.value==="abierto"?r.franjas||[]:[]}),className:"form-control",children:[v.jsx("option",{value:"cerrado",children:"Cerrado"}),v.jsx("option",{value:"abierto",children:"Abierto especial"})]})]})]}),r.tipo==="abierto"&&v.jsxs("div",{className:"space-y-3",children:[(r.franjas||[]).map((h,d)=>v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 items-center",children:[v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Inicio"}),v.jsx("input",{type:"time",value:h.inicio,onChange:p=>u(d,"inicio",p.target.value),className:"form-control"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Fin"}),v.jsx("input",{type:"time",value:h.fin,onChange:p=>u(d,"fin",p.target.value),className:"form-control"})]}),v.jsx("div",{className:"text-right md:text-left",children:v.jsx("button",{onClick:()=>s(d),className:"btn-danger w-full md:w-auto",children:"Eliminar"})})]},d)),v.jsx("button",{onClick:i,className:"btn-secondary mb-3",children:"+ Agregar franja"})]}),v.jsx("div",{className:"flex justify-start md:justify-end items-end h-full",children:v.jsx("button",{onClick:t,className:"btn-primary",children:"Agregar excepción"})})]})}function CV({excepciones:r,onDelete:e}){return!r||r.length===0?v.jsx("p",{className:"text-sm text-gray-500",children:"No hay excepciones registradas."}):v.jsx("div",{className:"table mt-4",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Fecha"}),v.jsx("th",{children:"Tipo"}),v.jsx("th",{children:"Franjas"}),v.jsx("th",{children:"Acciones"})]})}),v.jsx("tbody",{children:r.map(t=>v.jsxs("tr",{children:[v.jsx("td",{children:t.fecha}),v.jsx("td",{className:"capitalize",children:t.tipo}),v.jsx("td",{children:t.tipo==="abierto"&&(t.franjas||[]).length>0?t.franjas.map((i,s)=>v.jsxs("span",{children:[i.inicio," a ",i.fin,s<t.franjas.length-1&&" | "]},s)):v.jsx("span",{className:"text-gray-400",children:"—"})}),v.jsx("td",{children:v.jsx("button",{onClick:()=>e(t.id),className:"btn-danger",title:"Eliminar excepción",children:"🗑"})})]},t.id))})]})})}const NV=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"];function DV(){const{info:r,isAuthReady:e}=cr(),t=r?.rolId,[i,s]=k.useState(null),[u,h]=k.useState(null),[d,p]=k.useState(!1),{turnosSimultaneos:g,setTurnosSimultaneos:_,minutosSlot:T,setMinutosSlot:S,horarios:C,setHorarios:j,excepciones:V,loading:L,errorConfig:z,saveConfig:J,addExcepcion:ee,removeExcepcion:ie}=wV(t,e),[te,pe]=k.useState({fecha:"",tipo:"cerrado",franjas:[]}),U=async()=>{try{if(te.tipo==="abierto"&&(!te.franjas||te.franjas.length===0)){alert("Agregá al menos una franja");return}p(!0),ee(te).then(()=>pe({fecha:"",tipo:"cerrado",franjas:[]}),h("Excepción agregada"))}catch{s("No se pudo añadir la excepción"),h(null)}finally{p(!1)}},x=async R=>{try{p(!0),ie(R),h("Excepción eliminada"),s(null)}catch{s("No se pudo eliminar la excepción"),h(null)}finally{p(!1)}},N=async()=>{try{p(!0),await J(),h("Configuración guardada correctamente"),s(null)}catch{s("No se pudo guardar la configuración"),h(null)}finally{p(!1)}},O=R=>{const he=[...C];he[R]=[...he[R]||[],{inicio:"09:00",fin:"18:00"}],j(he)},M=(R,he,ue,P)=>{const K=[...C];K[R]=K[R].map((Z,fe)=>fe===he?{...Z,[ue]:P}:Z),j(K)},q=(R,he)=>{const ue=[...C];ue[R]=ue[R].filter((P,K)=>K!==he),j(ue)};return v.jsx("div",{className:"page-container",children:L||d?v.jsx("div",{className:"flex justify-center items-center h-40",children:v.jsx(Cs,{color:"#3498db",loading:!0,size:50})}):v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"page-title",children:"Configuración"}),v.jsxs("div",{className:"space-y-4 mb-6",children:[i&&v.jsx(ur,{type:"error",message:i,onClose:()=>s(null)}),z&&v.jsx(ur,{type:"error",message:z,onClose:()=>s(null)}),u&&v.jsx(ur,{type:"success",message:u,onClose:()=>h(null)})]}),v.jsxs("div",{className:"form-section",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:gap-6",children:[v.jsx("div",{className:"md:w-1/2",children:v.jsx(AV,{value:g,onChange:_})}),v.jsxs("div",{className:"md:w-1/2 mt-4 md:mt-0",children:[v.jsx("label",{className:"form-label",children:"Minutos por bloque"}),v.jsx("input",{type:"number",min:"5",step:"5",value:T??15,onChange:R=>S(Number(R.target.value)),className:"form-control w-32"})]})]}),v.jsx("div",{className:"mt-6",children:v.jsx(xV,{diasSemana:NV,horarios:C,onAgregar:O,onActualizar:M,onEliminar:q})})]}),v.jsxs("div",{className:"form-section",children:[v.jsx("label",{className:"form-label",children:"Excepciones"}),v.jsx(IV,{nuevaExcepcion:te,setNuevaExcepcion:pe,onAdd:U}),v.jsx(CV,{excepciones:V,onDelete:x})]}),v.jsx("div",{className:"text-right",children:v.jsx("button",{onClick:N,className:"btn-primary",children:"Guardar Configuración"})})]})})}var Jh={exports:{}},OV=Jh.exports,Ub;function MV(){return Ub||(Ub=1,function(r,e){(function(t,i){r.exports=i(Kw())})(OV,function(t){function i(h){return h&&typeof h=="object"&&"default"in h?h:{default:h}}var s=i(t),u={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(h){return h+"º"}};return s.default.locale(u,null,!0),u})}(Jh)),Jh.exports}MV();function Jw(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=Jw(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function Jf(){for(var r,e,t=0,i="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=Jw(r))&&(i&&(i+=" "),i+=e);return i}const VV=(r,e,t,i)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;const s=Object.getOwnPropertyDescriptor(r,t),u=Object.getOwnPropertyDescriptor(e,t);!PV(s,u)&&i||Object.defineProperty(r,t,u)},PV=function(r,e){return r===void 0||r.configurable||r.writable===e.writable&&r.enumerable===e.enumerable&&r.configurable===e.configurable&&(r.writable||r.value===e.value)},kV=(r,e)=>{const t=Object.getPrototypeOf(e);t!==Object.getPrototypeOf(r)&&Object.setPrototypeOf(r,t)},jV=(r,e)=>`/* Wrapped ${r}*/
${e}`,LV=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),UV=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),zV=(r,e,t)=>{const i=t===""?"":`with ${t.trim()}() `,s=jV.bind(null,i,e.toString());Object.defineProperty(s,"name",UV);const{writable:u,enumerable:h,configurable:d}=LV;Object.defineProperty(r,"toString",{value:s,writable:u,enumerable:h,configurable:d})};function BV(r,e,{ignoreNonConfigurable:t=!1}={}){const{name:i}=r;for(const s of Reflect.ownKeys(e))VV(r,e,s,t);return kV(r,e),zV(r,e,i),r}const qV=new WeakMap,zb=new WeakMap;function eA(r,{cacheKey:e,cache:t=new Map,maxAge:i}={}){if(i===0)return r;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const s=function(...u){const h=e?e(u):u[0],d=t.get(h);if(d)return d.data;const p=r.apply(this,u),g=typeof i=="function"?i(...u):i;if(t.set(h,{data:p,maxAge:g?Date.now()+g:Number.POSITIVE_INFINITY}),g&&g>0&&g!==Number.POSITIVE_INFINITY){const _=setTimeout(()=>{t.delete(h)},g);_.unref?.();const T=zb.get(r)??new Set;T.add(_),zb.set(r,T)}return p};return BV(s,r,{ignoreNonConfigurable:!0}),qV.set(s,t),s}function HV(r){return typeof r=="string"}function FV(r,e,t){return t.indexOf(r)===e}function GV(r){return r.toLowerCase()===r}function Bb(r){return r.indexOf(",")===-1?r:r.split(",")}function ep(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var e=r.split(".")[0],t=e===void 0?"":e;return ep(t)}if(r.indexOf("@")!==-1){var i=r.split("@")[0],t=i===void 0?"":i;return ep(t)}if(r.indexOf("-")===-1||!GV(r))return r;var s=r.split("-"),u=s[0],h=s[1],d=h===void 0?"":h;return"".concat(u,"-").concat(d.toUpperCase())}function YV(r){var e=r===void 0?{}:r,t=e.useFallbackLocale,i=t===void 0?!0:t,s=e.fallbackLocale,u=s===void 0?"en-US":s,h=[];if(typeof navigator<"u"){for(var d=navigator.languages||[],p=[],g=0,_=d;g<_.length;g++){var T=_[g];p=p.concat(Bb(T))}var S=navigator.language,C=S&&Bb(S);h=h.concat(p,C)}return i&&h.push(u),h.filter(HV).map(ep).filter(FV)}var $V=eA(YV,{cacheKey:JSON.stringify});function QV(r){return $V(r)[0]||null}var tA=eA(QV,{cacheKey:JSON.stringify});function Bi(r,e,t){return function(s,u=t){const h=r(s)+u;return e(h)}}function oc(r){return function(t){return new Date(r(t).getTime()-1)}}function lc(r,e){return function(i){return[r(i),e(i)]}}function Et(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;const e=Number.parseInt(r,10);if(typeof r=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${r}.`)}function za(r){if(r instanceof Date)return r.getMonth();throw new Error(`Failed to get month from date: ${r}.`)}function ed(r){if(r instanceof Date)return r.getDate();throw new Error(`Failed to get year from date: ${r}.`)}function hl(r){const e=Et(r),t=e+(-e+1)%100,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const KV=Bi(Et,hl,-100),nA=Bi(Et,hl,100),by=oc(nA),XV=Bi(Et,by,-100),rA=lc(hl,by);function Ba(r){const e=Et(r),t=e+(-e+1)%10,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const iA=Bi(Et,Ba,-10),Ty=Bi(Et,Ba,10),td=oc(Ty),aA=Bi(Et,td,-10),sA=lc(Ba,td);function fl(r){const e=Et(r),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const oA=Bi(Et,fl,-1),Sy=Bi(Et,fl,1),nd=oc(Sy),lA=Bi(Et,nd,-1),WV=lc(fl,nd);function wy(r,e){return function(i,s=e){const u=Et(i),h=za(i)+s,d=new Date;return d.setFullYear(u,h,1),d.setHours(0,0,0,0),r(d)}}function Ps(r){const e=Et(r),t=za(r),i=new Date;return i.setFullYear(e,t,1),i.setHours(0,0,0,0),i}const uA=wy(Ps,-1),Ay=wy(Ps,1),uc=oc(Ay),cA=wy(uc,-1),ZV=lc(Ps,uc);function JV(r,e){return function(i,s=e){const u=Et(i),h=za(i),d=ed(i)+s,p=new Date;return p.setFullYear(u,h,d),p.setHours(0,0,0,0),r(p)}}function cc(r){const e=Et(r),t=za(r),i=ed(r),s=new Date;return s.setFullYear(e,t,i),s.setHours(0,0,0,0),s}const eP=JV(cc,1),Ry=oc(eP),tP=lc(cc,Ry);function hA(r){return ed(uc(r))}var mn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},nP={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},xy=[0,1,2,3,4,5,6],bg=new Map;function rP(r){return function(t,i){var s=t||tA();bg.has(s)||bg.set(s,new Map);var u=bg.get(s);return u.has(r)||u.set(r,new Intl.DateTimeFormat(s||void 0,r).format),u.get(r)(i)}}function iP(r){var e=new Date(r);return new Date(e.setHours(12))}function ks(r){return function(e,t){return rP(r)(e,iP(t))}}var aP={day:"numeric"},sP={day:"numeric",month:"long",year:"numeric"},oP={month:"long"},lP={month:"long",year:"numeric"},uP={weekday:"short"},cP={weekday:"long"},hP={year:"numeric"},fP=ks(aP),dP=ks(sP),mP=ks(oP),fA=ks(lP),gP=ks(uP),pP=ks(cP),rd=ks(hP),yP=xy[0],vP=xy[5],qb=xy[6];function zu(r,e){e===void 0&&(e=mn.ISO_8601);var t=r.getDay();switch(e){case mn.ISO_8601:return(t+6)%7;case mn.ISLAMIC:return(t+1)%7;case mn.HEBREW:case mn.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function _P(r){var e=hl(r);return Et(e)}function EP(r){var e=Ba(r);return Et(e)}function tp(r,e){e===void 0&&(e=mn.ISO_8601);var t=Et(r),i=za(r),s=r.getDate()-zu(r,e);return new Date(t,i,s)}function bP(r,e){e===void 0&&(e=mn.ISO_8601);var t=e===mn.GREGORY?mn.GREGORY:mn.ISO_8601,i=tp(r,e),s=Et(r)+1,u,h;do u=new Date(s,0,t===mn.ISO_8601?4:1),h=tp(u,e),s-=1;while(r<h);return Math.round((i.getTime()-h.getTime())/(864e5*7))+1}function Ss(r,e){switch(r){case"century":return hl(e);case"decade":return Ba(e);case"year":return fl(e);case"month":return Ps(e);case"day":return cc(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function TP(r,e){switch(r){case"century":return KV(e);case"decade":return iA(e);case"year":return oA(e);case"month":return uA(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function dA(r,e){switch(r){case"century":return nA(e);case"decade":return Ty(e);case"year":return Sy(e);case"month":return Ay(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function SP(r,e){switch(r){case"decade":return iA(e,-100);case"year":return oA(e,-10);case"month":return uA(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function wP(r,e){switch(r){case"decade":return Ty(e,100);case"year":return Sy(e,10);case"month":return Ay(e,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function mA(r,e){switch(r){case"century":return by(e);case"decade":return td(e);case"year":return nd(e);case"month":return uc(e);case"day":return Ry(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function AP(r,e){switch(r){case"century":return XV(e);case"decade":return aA(e);case"year":return lA(e);case"month":return cA(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function RP(r,e){switch(r){case"decade":return aA(e,-100);case"year":return lA(e,-10);case"month":return cA(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function Hb(r,e){switch(r){case"century":return rA(e);case"decade":return sA(e);case"year":return WV(e);case"month":return ZV(e);case"day":return tP(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function xP(r,e,t){var i=[e,t].sort(function(s,u){return s.getTime()-u.getTime()});return[Ss(r,i[0]),mA(r,i[1])]}function gA(r,e,t){return t.map(function(i){return(e||rd)(r,i)}).join(" – ")}function IP(r,e,t){return gA(r,e,rA(t))}function pA(r,e,t){return gA(r,e,sA(t))}function CP(r){return r.getDay()===new Date().getDay()}function yA(r,e){e===void 0&&(e=mn.ISO_8601);var t=r.getDay();switch(e){case mn.ISLAMIC:case mn.HEBREW:return t===vP||t===qb;case mn.ISO_8601:case mn.GREGORY:return t===qb||t===yP;default:throw new Error("Unsupported calendar type.")}}var Qr="react-calendar__navigation";function NP(r){var e=r.activeStartDate,t=r.drillUp,i=r.formatMonthYear,s=i===void 0?fA:i,u=r.formatYear,h=u===void 0?rd:u,d=r.locale,p=r.maxDate,g=r.minDate,_=r.navigationAriaLabel,T=_===void 0?"":_,S=r.navigationAriaLive,C=r.navigationLabel,j=r.next2AriaLabel,V=j===void 0?"":j,L=r.next2Label,z=L===void 0?"»":L,J=r.nextAriaLabel,ee=J===void 0?"":J,ie=r.nextLabel,te=ie===void 0?"›":ie,pe=r.prev2AriaLabel,U=pe===void 0?"":pe,x=r.prev2Label,N=x===void 0?"«":x,O=r.prevAriaLabel,M=O===void 0?"":O,q=r.prevLabel,R=q===void 0?"‹":q,he=r.setActiveStartDate,ue=r.showDoubleView,P=r.view,K=r.views,Z=K.indexOf(P)>0,fe=P!=="century",I=TP(P,e),X=fe?SP(P,e):void 0,ce=dA(P,e),se=fe?wP(P,e):void 0,ge=function(){if(I.getFullYear()<0)return!0;var ct=AP(P,e);return g&&g>=ct}(),Te=fe&&function(){if(X.getFullYear()<0)return!0;var ct=RP(P,e);return g&&g>=ct}(),_e=p&&p<ce,$e=fe&&p&&p<se;function Ve(){he(I,"prev")}function lt(){he(X,"prev2")}function ut(){he(ce,"next")}function wt(){he(se,"next2")}function Yt(ct){var hr=function(){switch(P){case"century":return IP(d,h,ct);case"decade":return pA(d,h,ct);case"year":return h(d,ct);case"month":return s(d,ct);default:throw new Error("Invalid view: ".concat(P,"."))}}();return C?C({date:ct,label:hr,locale:d||tA()||void 0,view:P}):hr}function yn(){var ct="".concat(Qr,"__label");return v.jsxs("button",{"aria-label":T,"aria-live":S,className:ct,disabled:!Z,onClick:t,style:{flexGrow:1},type:"button",children:[v.jsx("span",{className:"".concat(ct,"__labelText ").concat(ct,"__labelText--from"),children:Yt(e)}),ue?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"".concat(ct,"__divider"),children:" – "}),v.jsx("span",{className:"".concat(ct,"__labelText ").concat(ct,"__labelText--to"),children:Yt(ce)})]}):null]})}return v.jsxs("div",{className:Qr,children:[N!==null&&fe?v.jsx("button",{"aria-label":U,className:"".concat(Qr,"__arrow ").concat(Qr,"__prev2-button"),disabled:Te,onClick:lt,type:"button",children:N}):null,R!==null&&v.jsx("button",{"aria-label":M,className:"".concat(Qr,"__arrow ").concat(Qr,"__prev-button"),disabled:ge,onClick:Ve,type:"button",children:R}),yn(),te!==null&&v.jsx("button",{"aria-label":ee,className:"".concat(Qr,"__arrow ").concat(Qr,"__next-button"),disabled:_e,onClick:ut,type:"button",children:te}),z!==null&&fe?v.jsx("button",{"aria-label":V,className:"".concat(Qr,"__arrow ").concat(Qr,"__next2-button"),disabled:$e,onClick:wt,type:"button",children:z}):null]})}var jo=function(){return jo=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},jo.apply(this,arguments)},DP=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function Fb(r){return"".concat(r,"%")}function Iy(r){var e=r.children,t=r.className,i=r.count,s=r.direction,u=r.offset,h=r.style,d=r.wrap,p=DP(r,["children","className","count","direction","offset","style","wrap"]);return v.jsx("div",jo({className:t,style:jo({display:"flex",flexDirection:s,flexWrap:d?"wrap":"nowrap"},h)},p,{children:k.Children.map(e,function(g,_){var T=u&&_===0?Fb(100*u/i):null;return k.cloneElement(g,jo(jo({},g.props),{style:{flexBasis:Fb(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:T,marginInlineStart:T,marginInlineEnd:0}}))})}))}function OP(r,e,t){return e&&e>r?e:t&&t<r?t:r}function Bu(r,e){return e[0]<=r&&e[1]>=r}function MP(r,e){return r[0]<=e[0]&&r[1]>=e[1]}function vA(r,e){return Bu(r[0],e)||Bu(r[1],e)}function Gb(r,e,t){var i=vA(e,r),s=[];if(i){s.push(t);var u=Bu(r[0],e),h=Bu(r[1],e);u&&s.push("".concat(t,"Start")),h&&s.push("".concat(t,"End")),u&&h&&s.push("".concat(t,"BothEnds"))}return s}function VP(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function PP(r){if(!r)throw new Error("args is required");var e=r.value,t=r.date,i=r.hover,s="react-calendar__tile",u=[s];if(!t)return u;var h=new Date,d=function(){if(Array.isArray(t))return t;var C=r.dateType;if(!C)throw new Error("dateType is required when date is not an array of two dates");return Hb(C,t)}();if(Bu(h,d)&&u.push("".concat(s,"--now")),!e||!VP(e))return u;var p=function(){if(Array.isArray(e))return e;var C=r.valueType;if(!C)throw new Error("valueType is required when value is not an array of two dates");return Hb(C,e)}();MP(p,d)?u.push("".concat(s,"--active")):vA(p,d)&&u.push("".concat(s,"--hasActive"));var g=Gb(p,d,"".concat(s,"--range"));u.push.apply(u,g);var _=Array.isArray(e)?e:[e];if(i&&_.length===1){var T=i>p[0]?[p[0],i]:[i,p[0]],S=Gb(T,d,"".concat(s,"--hover"));u.push.apply(u,S)}return u}function id(r){for(var e=r.className,t=r.count,i=t===void 0?3:t,s=r.dateTransform,u=r.dateType,h=r.end,d=r.hover,p=r.offset,g=r.renderTile,_=r.start,T=r.step,S=T===void 0?1:T,C=r.value,j=r.valueType,V=[],L=_;L<=h;L+=S){var z=s(L);V.push(g({classes:PP({date:z,dateType:u,hover:d,value:C,valueType:j}),date:z}))}return v.jsx(Iy,{className:e,count:i,offset:p,wrap:!0,children:V})}function ad(r){var e=r.activeStartDate,t=r.children,i=r.classes,s=r.date,u=r.formatAbbr,h=r.locale,d=r.maxDate,p=r.maxDateTransform,g=r.minDate,_=r.minDateTransform,T=r.onClick,S=r.onMouseOver,C=r.style,j=r.tileClassName,V=r.tileContent,L=r.tileDisabled,z=r.view,J=k.useMemo(function(){var ie={activeStartDate:e,date:s,view:z};return typeof j=="function"?j(ie):j},[e,s,j,z]),ee=k.useMemo(function(){var ie={activeStartDate:e,date:s,view:z};return typeof V=="function"?V(ie):V},[e,s,V,z]);return v.jsxs("button",{className:Jf(i,J),disabled:g&&_(g)>s||d&&p(d)<s||L?.({activeStartDate:e,date:s,view:z}),onClick:T?function(ie){return T(s,ie)}:void 0,onFocus:S?function(){return S(s)}:void 0,onMouseOver:S?function(){return S(s)}:void 0,style:C,type:"button",children:[u?v.jsx("abbr",{"aria-label":u(h,s),children:t}):t,ee]})}var np=function(){return np=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},np.apply(this,arguments)},kP=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},Yb="react-calendar__century-view__decades__decade";function jP(r){var e=r.classes,t=e===void 0?[]:e,i=r.currentCentury,s=r.formatYear,u=s===void 0?rd:s,h=kP(r,["classes","currentCentury","formatYear"]),d=h.date,p=h.locale,g=[];return t&&g.push.apply(g,t),g.push(Yb),hl(d).getFullYear()!==i&&g.push("".concat(Yb,"--neighboringCentury")),v.jsx(ad,np({},h,{classes:g,maxDateTransform:td,minDateTransform:Ba,view:"century",children:pA(p,u,d)}))}var rp=function(){return rp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},rp.apply(this,arguments)},$b=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function LP(r){var e=r.activeStartDate,t=r.hover,i=r.showNeighboringCentury,s=r.value,u=r.valueType,h=$b(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),d=_P(e),p=d+(i?119:99);return v.jsx(id,{className:"react-calendar__century-view__decades",dateTransform:Ba,dateType:"decade",end:p,hover:t,renderTile:function(g){var _=g.date,T=$b(g,["date"]);return v.jsx(jP,rp({},h,T,{activeStartDate:e,currentCentury:d,date:_}),_.getTime())},start:d,step:10,value:s,valueType:u})}var ip=function(){return ip=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},ip.apply(this,arguments)};function UP(r){function e(){return v.jsx(LP,ip({},r))}return v.jsx("div",{className:"react-calendar__century-view",children:e()})}var ap=function(){return ap=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},ap.apply(this,arguments)},zP=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},Qb="react-calendar__decade-view__years__year";function BP(r){var e=r.classes,t=e===void 0?[]:e,i=r.currentDecade,s=r.formatYear,u=s===void 0?rd:s,h=zP(r,["classes","currentDecade","formatYear"]),d=h.date,p=h.locale,g=[];return t&&g.push.apply(g,t),g.push(Qb),Ba(d).getFullYear()!==i&&g.push("".concat(Qb,"--neighboringDecade")),v.jsx(ad,ap({},h,{classes:g,maxDateTransform:nd,minDateTransform:fl,view:"decade",children:u(p,d)}))}var sp=function(){return sp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},sp.apply(this,arguments)},Kb=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function qP(r){var e=r.activeStartDate,t=r.hover,i=r.showNeighboringDecade,s=r.value,u=r.valueType,h=Kb(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),d=EP(e),p=d+(i?11:9);return v.jsx(id,{className:"react-calendar__decade-view__years",dateTransform:fl,dateType:"year",end:p,hover:t,renderTile:function(g){var _=g.date,T=Kb(g,["date"]);return v.jsx(BP,sp({},h,T,{activeStartDate:e,currentDecade:d,date:_}),_.getTime())},start:d,value:s,valueType:u})}var op=function(){return op=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},op.apply(this,arguments)};function HP(r){function e(){return v.jsx(qP,op({},r))}return v.jsx("div",{className:"react-calendar__decade-view",children:e()})}var lp=function(){return lp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},lp.apply(this,arguments)},FP=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},Xb=function(r,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,u;i<s;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return r.concat(u||Array.prototype.slice.call(e))},GP="react-calendar__year-view__months__month";function YP(r){var e=r.classes,t=e===void 0?[]:e,i=r.formatMonth,s=i===void 0?mP:i,u=r.formatMonthYear,h=u===void 0?fA:u,d=FP(r,["classes","formatMonth","formatMonthYear"]),p=d.date,g=d.locale;return v.jsx(ad,lp({},d,{classes:Xb(Xb([],t,!0),[GP],!1),formatAbbr:h,maxDateTransform:uc,minDateTransform:Ps,view:"year",children:s(g,p)}))}var up=function(){return up=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},up.apply(this,arguments)},Wb=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function $P(r){var e=r.activeStartDate,t=r.hover,i=r.value,s=r.valueType,u=Wb(r,["activeStartDate","hover","value","valueType"]),h=0,d=11,p=Et(e);return v.jsx(id,{className:"react-calendar__year-view__months",dateTransform:function(g){var _=new Date;return _.setFullYear(p,g,1),Ps(_)},dateType:"month",end:d,hover:t,renderTile:function(g){var _=g.date,T=Wb(g,["date"]);return v.jsx(YP,up({},u,T,{activeStartDate:e,date:_}),_.getTime())},start:h,value:i,valueType:s})}var cp=function(){return cp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},cp.apply(this,arguments)};function QP(r){function e(){return v.jsx($P,cp({},r))}return v.jsx("div",{className:"react-calendar__year-view",children:e()})}var hp=function(){return hp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},hp.apply(this,arguments)},KP=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},Tg="react-calendar__month-view__days__day";function XP(r){var e=r.calendarType,t=r.classes,i=t===void 0?[]:t,s=r.currentMonthIndex,u=r.formatDay,h=u===void 0?fP:u,d=r.formatLongDate,p=d===void 0?dP:d,g=KP(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),_=g.date,T=g.locale,S=[];return i&&S.push.apply(S,i),S.push(Tg),yA(_,e)&&S.push("".concat(Tg,"--weekend")),_.getMonth()!==s&&S.push("".concat(Tg,"--neighboringMonth")),v.jsx(ad,hp({},g,{classes:S,formatAbbr:p,maxDateTransform:Ry,minDateTransform:cc,view:"month",children:h(T,_)}))}var fp=function(){return fp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},fp.apply(this,arguments)},Zb=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function WP(r){var e=r.activeStartDate,t=r.calendarType,i=r.hover,s=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,h=r.value,d=r.valueType,p=Zb(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=Et(e),_=za(e),T=s||u,S=zu(e,t),C=T?0:S,j=(T?-S:0)+1,V=function(){if(s)return j+42-1;var L=hA(e);if(u){var z=new Date;z.setFullYear(g,_,L),z.setHours(0,0,0,0);var J=7-zu(z,t)-1;return L+J}return L}();return v.jsx(id,{className:"react-calendar__month-view__days",count:7,dateTransform:function(L){var z=new Date;return z.setFullYear(g,_,L),cc(z)},dateType:"day",hover:i,end:V,renderTile:function(L){var z=L.date,J=Zb(L,["date"]);return v.jsx(XP,fp({},p,J,{activeStartDate:e,calendarType:t,currentMonthIndex:_,date:z}),z.getTime())},offset:C,start:j,value:h,valueType:d})}var _A="react-calendar__month-view__weekdays",Sg="".concat(_A,"__weekday");function ZP(r){for(var e=r.calendarType,t=r.formatShortWeekday,i=t===void 0?gP:t,s=r.formatWeekday,u=s===void 0?pP:s,h=r.locale,d=r.onMouseLeave,p=new Date,g=Ps(p),_=Et(g),T=za(g),S=[],C=1;C<=7;C+=1){var j=new Date(_,T,C-zu(g,e)),V=u(h,j);S.push(v.jsx("div",{className:Jf(Sg,CP(j)&&"".concat(Sg,"--current"),yA(j,e)&&"".concat(Sg,"--weekend")),children:v.jsx("abbr",{"aria-label":V,title:V,children:i(h,j).replace(".","")})},C))}return v.jsx(Iy,{className:_A,count:7,onFocus:d,onMouseOver:d,children:S})}var Rf=function(){return Rf=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Rf.apply(this,arguments)},Jb=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},eT="react-calendar__tile";function JP(r){var e=r.onClickWeekNumber,t=r.weekNumber,i=v.jsx("span",{children:t});if(e){var s=r.date,u=r.onClickWeekNumber,h=r.weekNumber,d=Jb(r,["date","onClickWeekNumber","weekNumber"]);return v.jsx("button",Rf({},d,{className:eT,onClick:function(p){return u(h,s,p)},type:"button",children:i}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var d=Jb(r,["date","onClickWeekNumber","weekNumber"]);return v.jsx("div",Rf({},d,{className:eT,children:i}))}}function ek(r){var e=r.activeStartDate,t=r.calendarType,i=r.onClickWeekNumber,s=r.onMouseLeave,u=r.showFixedNumberOfWeeks,h=function(){if(u)return 6;var g=hA(e),_=zu(e,t),T=g-(7-_);return 1+Math.ceil(T/7)}(),d=function(){for(var g=Et(e),_=za(e),T=ed(e),S=[],C=0;C<h;C+=1)S.push(tp(new Date(g,_,T+C*7),t));return S}(),p=d.map(function(g){return bP(g,t)});return v.jsx(Iy,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:p.map(function(g,_){var T=d[_];if(!T)throw new Error("date is not defined");return v.jsx(JP,{date:T,onClickWeekNumber:i,weekNumber:g},g)})})}var dp=function(){return dp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},dp.apply(this,arguments)},tk=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function nk(r){if(r)for(var e=0,t=Object.entries(nP);e<t.length;e++){var i=t[e],s=i[0],u=i[1];if(u.includes(r))return s}return mn.ISO_8601}function rk(r){var e=r.activeStartDate,t=r.locale,i=r.onMouseLeave,s=r.showFixedNumberOfWeeks,u=r.calendarType,h=u===void 0?nk(t):u,d=r.formatShortWeekday,p=r.formatWeekday,g=r.onClickWeekNumber,_=r.showWeekNumbers,T=tk(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function S(){return v.jsx(ZP,{calendarType:h,formatShortWeekday:d,formatWeekday:p,locale:t,onMouseLeave:i})}function C(){return _?v.jsx(ek,{activeStartDate:e,calendarType:h,onClickWeekNumber:g,onMouseLeave:i,showFixedNumberOfWeeks:s}):null}function j(){return v.jsx(WP,dp({calendarType:h},T))}var V="react-calendar__month-view";return v.jsx("div",{className:Jf(V,_?"".concat(V,"--weekNumbers"):""),children:v.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[C(),v.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[S(),j()]})]})})}var Lo=function(){return Lo=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Lo.apply(this,arguments)},Lh="react-calendar",ef=["century","decade","year","month"],ik=["decade","year","month","day"],Cy=new Date;Cy.setFullYear(1,0,1);Cy.setHours(0,0,0,0);var ak=new Date(864e13);function Eu(r){return r instanceof Date?r:new Date(r)}function EA(r,e){return ef.slice(ef.indexOf(r),ef.indexOf(e)+1)}function sk(r,e,t){var i=EA(e,t);return i.indexOf(r)!==-1}function Ny(r,e,t){return r&&sk(r,e,t)?r:t}function bA(r){var e=ef.indexOf(r);return ik[e]}function ok(r,e){var t=Array.isArray(r)?r[e]:r;if(!t)return null;var i=Eu(t);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(r));return i}function TA(r,e){var t=r.value,i=r.minDate,s=r.maxDate,u=r.maxDetail,h=ok(t,e);if(!h)return null;var d=bA(u),p=function(){switch(e){case 0:return Ss(d,h);case 1:return mA(d,h);default:throw new Error("Invalid index value: ".concat(e))}}();return OP(p,i,s)}var Dy=function(r){return TA(r,0)},SA=function(r){return TA(r,1)},lk=function(r){return[Dy,SA].map(function(e){return e(r)})};function wA(r){var e=r.maxDate,t=r.maxDetail,i=r.minDate,s=r.minDetail,u=r.value,h=r.view,d=Ny(h,s,t),p=Dy({value:u,minDate:i,maxDate:e,maxDetail:t})||new Date;return Ss(d,p)}function uk(r){var e=r.activeStartDate,t=r.defaultActiveStartDate,i=r.defaultValue,s=r.defaultView,u=r.maxDate,h=r.maxDetail,d=r.minDate,p=r.minDetail,g=r.value,_=r.view,T=Ny(_,p,h),S=e||t;return S?Ss(T,S):wA({maxDate:u,maxDetail:h,minDate:d,minDetail:p,value:g||i,view:_||s})}function wg(r){return r&&(!Array.isArray(r)||r.length===1)}function Uh(r,e){return r instanceof Date&&e instanceof Date&&r.getTime()===e.getTime()}var ck=k.forwardRef(function(e,t){var i=e.activeStartDate,s=e.allowPartialRange,u=e.calendarType,h=e.className,d=e.defaultActiveStartDate,p=e.defaultValue,g=e.defaultView,_=e.formatDay,T=e.formatLongDate,S=e.formatMonth,C=e.formatMonthYear,j=e.formatShortWeekday,V=e.formatWeekday,L=e.formatYear,z=e.goToRangeStartOnSelect,J=z===void 0?!0:z,ee=e.inputRef,ie=e.locale,te=e.maxDate,pe=te===void 0?ak:te,U=e.maxDetail,x=U===void 0?"month":U,N=e.minDate,O=N===void 0?Cy:N,M=e.minDetail,q=M===void 0?"century":M,R=e.navigationAriaLabel,he=e.navigationAriaLive,ue=e.navigationLabel,P=e.next2AriaLabel,K=e.next2Label,Z=e.nextAriaLabel,fe=e.nextLabel,I=e.onActiveStartDateChange,X=e.onChange,ce=e.onClickDay,se=e.onClickDecade,ge=e.onClickMonth,Te=e.onClickWeekNumber,_e=e.onClickYear,$e=e.onDrillDown,Ve=e.onDrillUp,lt=e.onViewChange,ut=e.prev2AriaLabel,wt=e.prev2Label,Yt=e.prevAriaLabel,yn=e.prevLabel,ct=e.returnValue,hr=ct===void 0?"start":ct,tn=e.selectRange,nn=e.showDoubleView,js=e.showFixedNumberOfWeeks,qi=e.showNavigation,Hi=qi===void 0?!0:qi,ai=e.showNeighboringCentury,dl=e.showNeighboringDecade,si=e.showNeighboringMonth,qa=si===void 0?!0:si,Ls=e.showWeekNumbers,gt=e.tileClassName,Xe=e.tileContent,wn=e.tileDisabled,Ot=e.value,Ha=e.view,Us=k.useState(d),oi=Us[0],Qn=Us[1],Dr=k.useState(null),Pn=Dr[0],li=Dr[1],Or=k.useState(Array.isArray(p)?p.map(function(Ce){return Ce!==null?Eu(Ce):null}):p!=null?Eu(p):null),ui=Or[0],Fa=Or[1],Fi=k.useState(g),fr=Fi[0],Kn=Fi[1],Mt=i||oi||uk({activeStartDate:i,defaultActiveStartDate:d,defaultValue:p,defaultView:g,maxDate:pe,maxDetail:x,minDate:O,minDetail:q,value:Ot,view:Ha}),mt=function(){var Ce=function(){return tn&&wg(ui)?ui:Ot!==void 0?Ot:ui}();return Ce?Array.isArray(Ce)?Ce.map(function(Pe){return Pe!==null?Eu(Pe):null}):Ce!==null?Eu(Ce):null:null}(),Mr=bA(x),Qe=Ny(Ha||fr,q,x),rn=EA(q,x),Vr=tn?Pn:null,Gi=rn.indexOf(Qe)<rn.length-1,ht=rn.indexOf(Qe)>0,At=k.useCallback(function(Ce){var Pe=function(){switch(hr){case"start":return Dy;case"end":return SA;case"range":return lk;default:throw new Error("Invalid returnValue.")}}();return Pe({maxDate:pe,maxDetail:x,minDate:O,value:Ce})},[pe,x,O,hr]),pt=k.useCallback(function(Ce,Pe){Qn(Ce);var De={action:Pe,activeStartDate:Ce,value:mt,view:Qe};I&&!Uh(Mt,Ce)&&I(De)},[Mt,I,mt,Qe]),an=k.useCallback(function(Ce,Pe){var De=function(){switch(Qe){case"century":return se;case"decade":return _e;case"year":return ge;case"month":return ce;default:throw new Error("Invalid view: ".concat(Qe,"."))}}();De&&De(Ce,Pe)},[ce,se,ge,_e,Qe]),ci=k.useCallback(function(Ce,Pe){if(Gi){an(Ce,Pe);var De=rn[rn.indexOf(Qe)+1];if(!De)throw new Error("Attempted to drill down from the lowest view.");Qn(Ce),Kn(De);var sn={action:"drillDown",activeStartDate:Ce,value:mt,view:De};I&&!Uh(Mt,Ce)&&I(sn),lt&&Qe!==De&&lt(sn),$e&&$e(sn)}},[Mt,Gi,I,an,$e,lt,mt,Qe,rn]),Ga=k.useCallback(function(){if(ht){var Ce=rn[rn.indexOf(Qe)-1];if(!Ce)throw new Error("Attempted to drill up from the highest view.");var Pe=Ss(Ce,Mt);Qn(Pe),Kn(Ce);var De={action:"drillUp",activeStartDate:Pe,value:mt,view:Ce};I&&!Uh(Mt,Pe)&&I(De),lt&&Qe!==Ce&&lt(De),Ve&&Ve(De)}},[Mt,ht,I,Ve,lt,mt,Qe,rn]),Xn=k.useCallback(function(Ce,Pe){var De=mt;an(Ce,Pe);var sn=tn&&!wg(De),$t;if(tn)if(sn)$t=Ss(Mr,Ce);else{if(!De)throw new Error("previousValue is required");if(Array.isArray(De))throw new Error("previousValue must not be an array");$t=xP(Mr,De,Ce)}else $t=At(Ce);var An=!tn||sn||J?wA({maxDate:pe,maxDetail:x,minDate:O,minDetail:q,value:$t,view:Qe}):null;Pe.persist(),Qn(An),Fa($t);var pr={action:"onChange",activeStartDate:An,value:$t,view:Qe};if(I&&!Uh(Mt,An)&&I(pr),X)if(tn){var Bs=wg($t);if(!Bs)X($t||null,Pe);else if(s){if(Array.isArray($t))throw new Error("value must not be an array");X([$t||null,null],Pe)}}else X($t||null,Pe)},[Mt,s,At,J,pe,x,O,q,I,X,an,tn,mt,Mr,Qe]);function zs(Ce){li(Ce)}function dr(){li(null)}k.useImperativeHandle(t,function(){return{activeStartDate:Mt,drillDown:ci,drillUp:Ga,onChange:Xn,setActiveStartDate:pt,value:mt,view:Qe}},[Mt,ci,Ga,Xn,pt,mt,Qe]);function mr(Ce){var Pe=Ce?dA(Qe,Mt):Ss(Qe,Mt),De=Gi?ci:Xn,sn={activeStartDate:Pe,hover:Vr,locale:ie,maxDate:pe,minDate:O,onClick:De,onMouseOver:tn?zs:void 0,tileClassName:gt,tileContent:Xe,tileDisabled:wn,value:mt,valueType:Mr};switch(Qe){case"century":return v.jsx(UP,Lo({formatYear:L,showNeighboringCentury:ai},sn));case"decade":return v.jsx(HP,Lo({formatYear:L,showNeighboringDecade:dl},sn));case"year":return v.jsx(QP,Lo({formatMonth:S,formatMonthYear:C},sn));case"month":return v.jsx(rk,Lo({calendarType:u,formatDay:_,formatLongDate:T,formatShortWeekday:j,formatWeekday:V,onClickWeekNumber:Te,onMouseLeave:tn?dr:void 0,showFixedNumberOfWeeks:typeof js<"u"?js:nn,showNeighboringMonth:qa,showWeekNumbers:Ls},sn));default:throw new Error("Invalid view: ".concat(Qe,"."))}}function gr(){return Hi?v.jsx(NP,{activeStartDate:Mt,drillUp:Ga,formatMonthYear:C,formatYear:L,locale:ie,maxDate:pe,minDate:O,navigationAriaLabel:R,navigationAriaLive:he,navigationLabel:ue,next2AriaLabel:P,next2Label:K,nextAriaLabel:Z,nextLabel:fe,prev2AriaLabel:ut,prev2Label:wt,prevAriaLabel:Yt,prevLabel:yn,setActiveStartDate:pt,showDoubleView:nn,view:Qe,views:rn}):null}var Wn=Array.isArray(mt)?mt:[mt];return v.jsxs("div",{className:Jf(Lh,tn&&Wn.length===1&&"".concat(Lh,"--selectRange"),nn&&"".concat(Lh,"--doubleView"),h),ref:ee,children:[gr(),v.jsxs("div",{className:"".concat(Lh,"__viewContainer"),onBlur:tn?dr:void 0,onMouseLeave:tn?dr:void 0,children:[mr(),nn?mr(!0):null]})]})});function hk({fechaSeleccionada:r,onSelectDate:e}){return v.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:v.jsx(ck,{value:r,onChange:e,locale:"es-ES"})})}Xr.locale("es");function fk(){const[r,e]=k.useState(new Date),[t,i]=k.useState([]),s=["pendiente","confirmado","cancelado","rechazado"],[u,h]=k.useState([]),[d,p]=k.useState(null),[g,_]=k.useState(null),[T,S]=k.useState(!1),[C,j]=k.useState(!1);k.useEffect(()=>{async function ie(){try{S(!0);const te=await oV(r);i(te),p(null)}catch{p("Error al cargar los turnos")}finally{S(!1)}}ie()},[r]),k.useEffect(()=>{async function ie(){try{j(!0);const te=await sV();h(te)}catch{p("Error al cargar los turnos pendientes")}finally{j(!1)}}ie()},[]);const V=s.reduce((ie,te)=>(ie[te]=[],ie),{}),L=(ie,te)=>{i(pe=>pe.map(U=>U.id===ie?{...U,estado:te}:U))};t.forEach(ie=>{const te=ie.estado||"sin estado";V[te]||(V[te]=[]),V[te].push(ie)});const z=async ie=>{try{S(!0),await Xw(ie),L(ie,"cancelado"),_("Turno cancelado")}catch{p("Error al cancelar turno")}finally{S(!1)}},J=async ie=>{try{j(!0),await iV(ie),h(te=>te.filter(pe=>pe.id!==ie)),t.some(te=>te.id===ie)&&(S(!0),L(ie,"confirmado")),_("Turno confirmado")}catch{p("Error al aceptar turno")}finally{j(!1),S(!1)}},ee=async ie=>{try{j(!0),await aV(ie),h(te=>te.filter(pe=>pe.id!==ie)),t.some(te=>te.id===ie)&&(S(!0),L(ie,"rechazado")),_("Turno rechazado")}catch{p("Error al rechazar turno")}finally{j(!1),S(!1)}};return v.jsxs("div",{className:"page-container",children:[v.jsx("h2",{className:"page-title",children:"Administración de Servicios"}),d&&v.jsx(ur,{type:"error",message:d,onClose:()=>p(null)}),g&&v.jsx(ur,{type:"success",message:g,onClose:()=>_(null)}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[v.jsx("div",{className:"md:w-1/3",children:v.jsx(hk,{fechaSeleccionada:r,onSelectDate:e})}),v.jsxs("div",{className:"md:w-2/3",children:[v.jsxs("h2",{className:"page-subtitle",children:["Turnos para ",Xr(r).format("DD/MM/YYYY")]}),T?v.jsx("div",{className:"flex justify-center items-center h-32",children:v.jsx(Cs,{color:"#3498db",loading:!0,size:50})}):t.length===0?v.jsx("p",{className:"text-gray-500",children:"No hay turnos para esta fecha"}):Object.keys(V).map(ie=>v.jsxs("div",{className:"mb-6",children:[v.jsxs("h3",{className:"text-lg font-semibold capitalize border-b pb-1 mb-2",children:[ie," (",V[ie].length,")"]}),v.jsx("div",{className:"space-y-3 mt-2",children:V[ie].map(te=>v.jsxs("div",{className:"form-section",children:[v.jsxs("p",{className:"font-medium",children:[Xr(te.inicio.toDate()).format("HH:mm")," -"," ",Xr(te.fin.toDate()).format("HH:mm")]}),te.usuario&&v.jsxs("p",{className:"text-sm text-gray-700",children:[te.usuario.apellido,", ",te.usuario.nombre," |"," ",te.usuario.telefono]}),te.servicio&&v.jsxs("p",{className:"text-sm text-gray-500",children:[te.servicio.nombre," - $",te.servicio.precio]}),te.estado==="confirmado"&&v.jsx("div",{className:"flex gap-2 mt-3",children:v.jsx("button",{onClick:async()=>{window.confirm("¿Seguro que quieres rechazar este turno?")&&z(te.id)},className:"btn-danger",children:"❌ Cancelar"})}),te.estado==="pendiente"&&v.jsxs("div",{className:"flex gap-2 mt-3",children:[v.jsx("button",{onClick:async()=>J(te.id),className:"btn-primary",children:"✅ Aceptar"}),v.jsx("button",{onClick:async()=>{window.confirm("¿Seguro que quieres rechazar este turno?")&&ee(te.id)},className:"btn-danger",children:"❌ Rechazar"})]})]},te.id))})]},ie))]}),v.jsx("div",{className:"md:w-2/3",children:C?v.jsx("div",{className:"flex justify-center items-center h-32",children:v.jsx(Cs,{color:"#3498db",loading:!0,size:50})}):u.length===0?v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"page-subtitle",children:"Turnos pendientes"}),v.jsx("p",{className:"text-gray-500",children:"No hay turnos pendientes desde hoy"})]}):v.jsxs("div",{children:[v.jsxs("h2",{className:"page-subtitle",children:["Turnos pendientes (",u.length,")"]}),v.jsx("div",{className:"space-y-3",children:u.map(ie=>v.jsxs("div",{className:"form-section",children:[v.jsxs("p",{className:"font-medium",children:[Xr(ie.inicio.toDate()).format("DD/MM/YYYY HH:mm")," -"," ",Xr(ie.fin.toDate()).format("HH:mm")]}),ie.usuario&&v.jsxs("p",{className:"text-sm text-gray-700",children:[ie.usuario.apellido,", ",ie.usuario.nombre," |"," ",ie.usuario.telefono]}),ie.servicio&&v.jsxs("p",{className:"text-sm text-gray-500",children:[ie.servicio.nombre," - $",ie.servicio.precio]}),v.jsxs("div",{className:"flex gap-2 mt-3",children:[v.jsx("button",{onClick:async()=>J(ie.id),className:"btn-primary",children:"✅ Aceptar"}),v.jsx("button",{onClick:async()=>{window.confirm("¿Seguro que quieres rechazar este turno?")&&ee(ie.id)},className:"btn-danger",children:"❌ Rechazar"})]})]},ie.id))})]})})]})]})}function dk(){const r=cr(h=>h.user),e=Zw(h=>h.fetchServicios),[t,i]=k.useState([]),[s,u]=k.useState(!0);return k.useEffect(()=>{(async()=>{try{u(!0);const d=await e();i(d)}catch(d){console.error(d)}finally{u(!1)}})()},[e]),v.jsxs(v.Fragment,{children:[v.jsxs("section",{className:"text-center mt-12 max-w-4xl mx-auto px-6",children:[v.jsx("h1",{className:"text-4xl font-extrabold text-indigo-600 mb-4",children:"Tu salón, organizado y sin estrés"}),v.jsx("p",{className:"text-gray-700 text-lg mb-6",children:"Gestioná tus turnos, servicios y clientes desde una sola app. Simple, rápido y profesional ✨"}),!r&&v.jsxs("div",{className:"flex justify-center gap-4",children:[v.jsx(vt,{to:"/login",className:"bg-indigo-600 text-white px-5 py-3 rounded-lg hover:bg-indigo-700 transition",children:"Iniciar sesión"}),v.jsx(vt,{to:"/register",className:"bg-gray-200 text-gray-800 px-5 py-3 rounded-lg hover:bg-gray-300 transition",children:"Registrarse"})]})]}),v.jsxs("section",{className:"mt-20 px-6 max-w-5xl mx-auto",children:[v.jsx("h2",{className:"text-2xl font-bold text-center mb-10 text-indigo-600",children:"¿Qué ofrecemos?"}),v.jsxs("div",{className:"grid gap-10 sm:grid-cols-2",children:[v.jsxs("div",{className:"bg-indigo-50 rounded p-5 flex items-start gap-4",children:[v.jsx("div",{className:"text-3xl",children:"📅"}),v.jsxs("div",{children:[v.jsx("h3",{className:"uppercase font-semibold text-indigo-700 mb-1",children:"Agendar citas"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Administrá tus reservas sobre la marcha y aceptá fácilmente turnos online."})]})]}),v.jsxs("div",{className:"bg-indigo-50 rounded p-5 flex items-start gap-4",children:[v.jsx("div",{className:"text-3xl",children:"📲"}),v.jsxs("div",{children:[v.jsx("h3",{className:"uppercase font-semibold text-indigo-700 mb-1",children:"Gestión desde el celular"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Controlá tu agenda, clientes y servicios desde cualquier dispositivo."})]})]}),v.jsxs("div",{className:"bg-indigo-50 rounded p-5 flex items-start gap-4",children:[v.jsx("div",{className:"text-3xl",children:"📈"}),v.jsxs("div",{children:[v.jsx("h3",{className:"uppercase font-semibold text-indigo-700 mb-1",children:"Estadísticas"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Visualizá el rendimiento de tu salón y tomá decisiones con datos reales."})]})]}),v.jsxs("div",{className:"bg-indigo-50 rounded p-5 flex items-start gap-4",children:[v.jsx("div",{className:"text-3xl",children:"💬"}),v.jsxs("div",{children:[v.jsx("h3",{className:"uppercase font-semibold text-indigo-700 mb-1",children:"Recordatorios automáticos"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Tus clientes reciben notificaciones para no olvidar sus turnos."})]})]})]})]}),v.jsx("div",{className:"bg-indigo-50 w-full mt-8 p-6",children:v.jsxs("section",{className:"px-6 max-w-6xl mx-auto",children:[v.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-indigo-600",children:"Servicios que ofrecemos"}),s?v.jsx("p",{className:"text-center text-gray-500",children:"Cargando servicios..."}):t.length===0?v.jsx("p",{className:"text-center text-gray-500",children:"Próximamente podrás ver nuestros servicios disponibles."}):v.jsx("ul",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3",children:t.map(h=>v.jsxs("li",{className:"bg-white border rounded-lg p-5 shadow-sm hover:shadow-lg transition flex flex-col",children:[v.jsx("h4",{className:"text-lg font-bold mb-1 text-indigo-600",children:h.nombre}),v.jsx("p",{className:"text-sm text-gray-600 flex-grow",children:h.descripcion||"Servicio personalizado para tu bienestar."}),v.jsxs("p",{className:"text-sm font-semibold mt-3",children:["⏳ ",h.duracionMinutos," min"]})]},h.id))})]})}),v.jsxs("section",{className:"mt-24 px-6 max-w-5xl mx-auto text-center",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4 text-indigo-600",children:"¡Transformá tu forma de trabajar!"}),v.jsx("p",{className:"text-gray-600 mb-8",children:"Sumate a cientos de profesionales que ya gestionan su salón con nuestra app. Reservas, clientes y servicios en un solo lugar."}),v.jsx(vt,{to:"/turnos",className:"inline-block bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition",children:"Reservá tu turno ahora"})]}),v.jsx("section",{className:"mt-24 py-16 px-6 bg-gradient-to-r from-indigo-200 via-indigo-100 to-indigo-50",children:v.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-indigo-700 mb-10",children:"Usá tu app como quieras, donde quieras"}),v.jsxs("div",{className:"grid gap-10 sm:grid-cols-3 text-left sm:text-center",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-indigo-600 mb-2",children:"⏰ En cualquier momento"}),v.jsx("p",{className:"text-sm text-gray-700",children:"Gestioná tu salón las 24 horas, sin depender de horarios de atención."})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-indigo-600 mb-2",children:"🌍 En cualquier lugar"}),v.jsx("p",{className:"text-sm text-gray-700",children:"Accedé desde tu celular, estés en el salón o tomando un café."})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-indigo-600 mb-2",children:"🔐 Seguro y confiable"}),v.jsx("p",{className:"text-sm text-gray-700",children:"Tus datos están protegidos en la nube con tecnología de última generación."})]})]})]})})]})}function No({allowedRoles:r,children:e}){const{user:t,info:i,isAuthReady:s}=cr();return s?!t||!r.includes(i.rolId)?v.jsx(QR,{to:"/login"}):e:v.jsx("p",{className:"text-center mt-10",children:"Cargando sesión..."})}function tT(){const r=If(),e=cr(i=>i.clearUser),t=async()=>{try{await fN(sc),e(),r("/login")}catch(i){console.error("Error al cerrar sesión:",i)}};return v.jsx("button",{onClick:t,className:"btn-danger",children:"Cerrar sesión"})}function mk({title:r,titleId:e,...t},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),r?k.createElement("title",{id:e},r):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const gk=k.forwardRef(mk);function pk({title:r,titleId:e,...t},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),r?k.createElement("title",{id:e},r):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const yk=k.forwardRef(pk);function vk({title:r,titleId:e,...t},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),r?k.createElement("title",{id:e},r):null,k.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const _k=k.forwardRef(vk);function Ek(){const[r,e]=k.useState(null),[t,i]=k.useState(!1),[s,u]=k.useState(!1),h=cr(p=>p.info);k.useEffect(()=>{const p=eS(sc,g=>{e(g)});return()=>p()},[]);const d=()=>u(!s);return v.jsxs("header",{className:"bg-indigo-600 text-white",children:[v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center",children:[v.jsx("h1",{className:"text-xl font-bold",children:"Mi App"}),v.jsx("button",{className:"md:hidden",onClick:d,"aria-label":"Abrir menú",children:s?v.jsx(yk,{className:"h-6 w-6"}):v.jsx(gk,{className:"h-6 w-6"})}),v.jsxs("nav",{className:"hidden md:flex gap-4 items-center",children:[v.jsx(vt,{to:"/",className:"hover:underline",children:"Inicio"}),r&&h?v.jsxs(v.Fragment,{children:[h.rolId==="admin"&&v.jsxs(v.Fragment,{children:[v.jsx(vt,{to:"/admin/servicios",className:"hover:underline",children:"Servicios"}),v.jsx(vt,{to:"/admin/turnos",className:"hover:underline",children:"Turnos"}),v.jsx(vt,{to:"/admin/horarios",className:"hover:underline",children:"Configuración"})]}),h.rolId==="user"&&v.jsx(vt,{to:"/dashboard",className:"hover:underline",children:"Mis turnos"}),v.jsxs("div",{className:"relative",children:[v.jsxs("button",{onClick:()=>i(!t),className:"flex items-center gap-2 px-3 py-1 rounded hover:bg-indigo-700 transition font-semibold text-white",children:[v.jsx(_k,{className:"h-6 w-6"}),h.nombre,v.jsx("svg",{className:`w-4 h-4 transform transition-transform ${t?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&v.jsxs("div",{className:"absolute right-0 mt-2 bg-indigo-50 text-gray-800 rounded shadow-lg z-10 w-44 border animate-fadeIn",children:[v.jsx(vt,{to:"/perfil",className:"block px-4 py-2 hover:bg-indigo-50 transition",onClick:()=>i(!1),children:"Modificar perfil"}),v.jsx("div",{className:"border-t",children:v.jsx("div",{className:"px-4 py-2",children:v.jsx(tT,{})})})]})]})]}):v.jsx(vt,{to:"/login",className:"hover:underline",children:"Iniciar sesión"})]})]}),s&&v.jsxs("nav",{className:"md:hidden bg-indigo-700 px-4 pb-4 space-y-2",children:[v.jsx(vt,{to:"/",className:"block hover:underline",children:"Inicio"}),r&&h?v.jsxs(v.Fragment,{children:[h.rolId==="admin"&&v.jsxs(v.Fragment,{children:[v.jsx(vt,{to:"/admin/servicios",className:"block hover:underline",children:"Servicios"}),v.jsx(vt,{to:"/admin/turnos",className:"block hover:underline",children:"Turnos"}),v.jsx(vt,{to:"/admin/horarios",className:"block hover:underline",children:"Configuración"})]}),h.rolId==="user"&&v.jsx(vt,{to:"/dashboard",className:"block hover:underline",children:"Mis turnos"}),v.jsx(vt,{to:"/perfil",className:"block hover:underline",children:"Modificar perfil"}),v.jsx("div",{children:v.jsx(tT,{})})]}):v.jsx(vt,{to:"/login",className:"block hover:underline",children:"Iniciar sesión"})]})]})}function bk(){return v.jsxs("footer",{className:"bg-gray-100 text-gray-700 text-sm mt-auto",children:[v.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10 grid grid-cols-1 md:grid-cols-4 gap-8",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold mb-2",children:"Mi App"}),v.jsx("p",{className:"text-gray-600",children:"Plataforma de gestión de turnos y servicios. Optimiza tu tiempo y el de tus clientes."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold mb-2",children:"Servicios"}),v.jsxs("ul",{className:"space-y-1",children:[v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:underline",children:"Turnos"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:underline",children:"Agenda"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:underline",children:"Reportes"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold mb-2",children:"Soporte"}),v.jsxs("ul",{className:"space-y-1",children:[v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:underline",children:"Preguntas frecuentes"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:underline",children:"Contacto"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:underline",children:"Documentación"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold mb-2",children:"Legal"}),v.jsxs("ul",{className:"space-y-1",children:[v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:underline",children:"Términos y condiciones"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:underline",children:"Política de privacidad"})})]})]})]}),v.jsxs("div",{className:"border-t border-gray-300 text-center py-4 text-xs text-gray-500",children:["© ",new Date().getFullYear()," Mi App. Todos los derechos reservados."]})]})}function Tk({children:r}){return v.jsxs("div",{className:"flex flex-col min-h-screen",children:[v.jsx(Ek,{}),v.jsx("main",{className:"flex-grow ",children:r}),v.jsx(bk,{})]})}const AA=$n(Ze,"servicios");async function Sk(){return(await Ar(AA)).docs.map(e=>({id:e.id,...e.data()}))}function wk(r){return Bw(AA,{...r,duracionMinutos:Number(r.duracionMinutos),precio:Number(r.precio)})}function Ak(r,e){return _y(gn(Ze,"servicios",r),{...e,duracionMinutos:Number(e.duracionMinutos),precio:Number(e.precio)})}function Rk(r){return zw(gn(Ze,"servicios",r))}function xk(){const[r,e]=k.useState([]),[t,i]=k.useState({nombre:"",duracionMinutos:30,precio:0,activo:!0}),[s,u]=k.useState(null),[h,d]=k.useState(null),[p,g]=k.useState(null),[_,T]=k.useState(!1);k.useEffect(()=>{try{S()}catch{d("Ocurrió un error al cargar los servicios"),T(!1)}},[]);async function S(){T(!0),e(await Sk()),T(!1)}const C=z=>{const{name:J,value:ee,type:ie,checked:te}=z.target;i(pe=>({...pe,[J]:ie==="checkbox"?te:ee}))},j=async z=>{try{if(T(!0),z.preventDefault(),!t.nombre)return;s?(await Ak(s,t),u(null),g("Servicio editado")):(await wk(t),g("Servicio añadido")),i({nombre:"",duracionMinutos:30,precio:0,activo:!0}),S()}catch{d("Hubo un error al guardar el servicio")}finally{T(!1)}},V=z=>{i(z),u(z.id)},L=async z=>{try{if(T(!0),!window.confirm("¿Eliminar este servicio?"))return;await Rk(z),e(r.filter(J=>J.id!==z)),g("Servicio eliminado")}catch{d("No se pude eliminar el servicio")}finally{T(!1)}};return v.jsx("div",{className:"page-container",children:_?v.jsx("div",{className:"flex justify-center items-center h-40",children:v.jsx(Cs,{color:"#3498db",loading:!0,size:50})}):v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"page-title",children:"Administración de Servicios"}),h&&v.jsx(ur,{type:"error",message:h,onClose:()=>d(null)}),p&&v.jsx(ur,{type:"success",message:p,onClose:()=>g(null)}),v.jsxs("form",{onSubmit:j,className:"form-section",children:[v.jsx("h3",{children:"Agregar/Modificar servicio"}),v.jsx("label",{className:"form-label",children:"Nombre"}),v.jsx("input",{type:"text",name:"nombre",placeholder:"Nombre",value:t.nombre,onChange:C,required:!0,className:"form-control"}),v.jsx("label",{className:"form-label",children:"Precio"}),v.jsx("input",{type:"text",name:"precio",placeholder:"0",value:t.precio,onChange:C,required:!0,className:"form-control"}),v.jsx("label",{className:"form-label",children:"Duración"}),v.jsx("input",{type:"text",name:"duracion",placeholder:"30",value:t.duracion,onChange:C,required:!0,className:"form-control"}),v.jsxs("label",{className:"form-label flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",name:"activo",checked:t.activo,onChange:C}),"Activo"]}),v.jsx("button",{type:"submit",className:"btn-primary",children:s?"Actualizar":"Agregar"})]}),v.jsxs("table",{className:"table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Nombre"}),v.jsx("th",{children:"Duración"}),v.jsx("th",{children:"Precio"}),v.jsx("th",{children:"Activo"}),v.jsx("th",{children:"Acciones"})]})}),v.jsxs("tbody",{children:[r.map(z=>v.jsxs("tr",{children:[v.jsx("td",{children:z.nombre}),v.jsxs("td",{children:[z.duracionMinutos," min"]}),v.jsxs("td",{children:["$",z.precio]}),v.jsx("td",{children:z.activo?"✅":"❌"}),v.jsxs("td",{children:[v.jsx("button",{onClick:()=>V(z),className:"btn-secondary",children:"Editar"}),v.jsx("button",{onClick:()=>L(z.id),className:"btn-danger",children:"Eliminar"})]})]},z.id)),r.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:"5",children:"No hay servicios"})})]})]})]})})}function Ik(){const[r,e]=k.useState(""),[t,i]=k.useState(""),[s,u]=k.useState(""),[h,d]=k.useState(""),[p,g]=k.useState(!0),_=cr(L=>L.user),[T,S]=k.useState(null),[C,j]=k.useState(null);k.useEffect(()=>{(async()=>{try{if(!_)return;g(!0);const z=gn(Ze,"users",_.uid),J=await cl(z);if(J.exists()){const ee=J.data();e(ee.nombre||""),i(ee.apellido||""),u(ee.telefono||""),d(ee.email||_.email)}}catch(z){console.error("Error al cargar datos:",z)}finally{g(!1)}})()},[]);const V=async L=>{L.preventDefault();try{g(!0);const z=sc.currentUser,J=gn(Ze,"users",z.uid);await _y(J,{nombre:r,apellido:t,telefono:s,email:h}),j("Datos actualizados correctamente")}catch(z){console.error("Error al actualizar:",z),S("Hubo un error al actualizar")}finally{g(!1)}};return v.jsx("div",{className:"page-container",children:p?v.jsx("div",{className:"flex justify-center items-center h-40",children:v.jsx(Cs,{color:"#3498db",loading:!0,size:50})}):v.jsxs("div",{className:"form-section max-w-md mx-auto",children:[v.jsx("h2",{className:"page-subtitle",children:"Mi Perfil"}),T&&v.jsx(ur,{type:"error",message:T}),C&&v.jsx(ur,{type:"success",message:C}),v.jsxs("form",{onSubmit:V,children:[v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Nombre"}),v.jsx("input",{type:"text",value:r,onChange:L=>e(L.target.value),className:"form-control",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Apellido"}),v.jsx("input",{type:"text",value:t,onChange:L=>i(L.target.value),className:"form-control",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Teléfono"}),v.jsx("input",{type:"tel",value:s,onChange:L=>u(L.target.value),className:"form-control",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Email"}),v.jsx("input",{type:"email",value:h,onChange:L=>d(L.target.value),className:"form-control",required:!0})]}),v.jsx("div",{className:"mt-4",children:v.jsx("button",{type:"submit",className:"btn-primary",children:"Guardar cambios"})})]})]})})}function Ck(){const[r,e]=k.useState(""),[t,i]=k.useState(""),[s,u]=k.useState(""),[h,d]=k.useState(!1),p=async g=>{g.preventDefault(),i(""),u(""),d(!0);try{await sendPasswordResetEmail(auth,r),i("Te enviamos un correo para restablecer tu contraseña.")}catch(_){u("Hubo un problema: "+_.message)}finally{d(!1)}};return v.jsx("div",{className:"page-container",children:v.jsxs("div",{className:"form-section max-w-sm mx-auto",children:[v.jsx("h2",{className:"page-subtitle text-center mb-4",children:"Recuperar contraseña"}),s&&v.jsx(InfoMessage,{type:"error",message:s,onClose:()=>u(null)}),t&&v.jsx(InfoMessage,{type:"success",message:t,onClose:()=>i("")}),v.jsxs("form",{onSubmit:p,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"form-label",children:"Email"}),v.jsx("input",{type:"email",placeholder:"tuemail@ejemplo.com",className:"form-control",value:r,onChange:g=>e(g.target.value),required:!0})]}),v.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:h,children:h?"Enviando...":"Enviar correo de recuperación"})]}),v.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:v.jsx("p",{children:v.jsx(vt,{to:"/login",className:"text-blue-600 hover:underline",children:"Volver a iniciar sesión"})})})]})})}function Nk(){return v.jsx(QM,{children:v.jsx(_x,{basename:"/TurnosApp",children:v.jsx(Tk,{children:v.jsxs(XR,{children:[v.jsx(br,{path:"/",element:v.jsx(dk,{})}),v.jsx(br,{path:"/login",element:v.jsx(eV,{})}),v.jsx(br,{path:"/register",element:v.jsx(tV,{})}),v.jsx(br,{path:"/recuperar",element:v.jsx(Ck,{})}),v.jsx(br,{path:"/perfil",element:v.jsx(No,{allowedRoles:["user","admin"],children:v.jsx(Ik,{})})}),v.jsx(br,{path:"/dashboard",element:v.jsx(No,{allowedRoles:["user","admin"],children:v.jsx(lV,{})})}),v.jsx(br,{path:"/turnos",element:v.jsx(No,{allowedRoles:["user","admin"],children:v.jsx(pV,{})})}),v.jsx(br,{path:"/admin/turnos",element:v.jsx(No,{allowedRoles:["admin"],children:v.jsx(fk,{})})}),v.jsx(br,{path:"/admin/horarios",element:v.jsx(No,{allowedRoles:["admin"],children:v.jsx(DV,{})})}),v.jsx(br,{path:"/admin/servicios",element:v.jsx(No,{allowedRoles:["admin"],children:v.jsx(xk,{})})})]})})})})}aR.createRoot(document.getElementById("root")).render(v.jsx(k.StrictMode,{children:v.jsx(Nk,{})}));
