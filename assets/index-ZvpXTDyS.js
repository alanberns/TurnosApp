(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=t(s);fetch(s.href,u)}})();function nb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ng={exports:{}},du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function W1(){if(F0)return du;F0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,u){var h=null;if(u!==void 0&&(h=""+u),s.key!==void 0&&(h=""+s.key),"key"in s){u={};for(var d in s)d!=="key"&&(u[d]=s[d])}else u=s;return s=u.ref,{$$typeof:r,type:i,key:h,ref:s!==void 0?s:null,props:u}}return du.Fragment=e,du.jsx=t,du.jsxs=t,du}var G0;function Z1(){return G0||(G0=1,ng.exports=W1()),ng.exports}var _=Z1(),rg={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function J1(){if(Y0)return Oe;Y0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,V={};function j(x,X,ce){this.props=x,this.context=X,this.refs=V,this.updater=ce||C}j.prototype.isReactComponent={},j.prototype.setState=function(x,X){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,X,"setState")},j.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function z(){}z.prototype=j.prototype;function J(x,X,ce){this.props=x,this.context=X,this.refs=V,this.updater=ce||C}var ee=J.prototype=new z;ee.constructor=J,k(ee,j.prototype),ee.isPureReactComponent=!0;var ie=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function U(x,X,ce,se,ge,be){return ce=be.ref,{$$typeof:r,type:x,key:X,ref:ce!==void 0?ce:null,props:be}}function I(x,X){return U(x.type,X,void 0,void 0,void 0,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function O(x){var X={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ce){return X[ce]})}var M=/\/+/g;function H(x,X){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):X.toString(36)}function R(){}function he(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(R,R):(x.status="pending",x.then(function(X){x.status==="pending"&&(x.status="fulfilled",x.value=X)},function(X){x.status==="pending"&&(x.status="rejected",x.reason=X)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ue(x,X,ce,se,ge){var be=typeof x;(be==="undefined"||be==="boolean")&&(x=null);var _e=!1;if(x===null)_e=!0;else switch(be){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(x.$$typeof){case r:case e:_e=!0;break;case v:return _e=x._init,ue(_e(x._payload),X,ce,se,ge)}}if(_e)return ge=ge(x),_e=se===""?"."+H(x,0):se,ie(ge)?(ce="",_e!=null&&(ce=_e.replace(M,"$&/")+"/"),ue(ge,X,ce,"",function(lt){return lt})):ge!=null&&(D(ge)&&(ge=I(ge,ce+(ge.key==null||x&&x.key===ge.key?"":(""+ge.key).replace(M,"$&/")+"/")+_e)),X.push(ge)),1;_e=0;var Qe=se===""?".":se+":";if(ie(x))for(var Ve=0;Ve<x.length;Ve++)se=x[Ve],be=Qe+H(se,Ve),_e+=ue(se,X,ce,be,ge);else if(Ve=w(x),typeof Ve=="function")for(x=Ve.call(x),Ve=0;!(se=x.next()).done;)se=se.value,be=Qe+H(se,Ve++),_e+=ue(se,X,ce,be,ge);else if(be==="object"){if(typeof x.then=="function")return ue(he(x),X,ce,se,ge);throw X=String(x),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return _e}function P(x,X,ce){if(x==null)return x;var se=[],ge=0;return ue(x,se,"","",function(be){return X.call(ce,be,ge++)}),se}function K(x){if(x._status===-1){var X=x._result;X=X(),X.then(function(ce){(x._status===0||x._status===-1)&&(x._status=1,x._result=ce)},function(ce){(x._status===0||x._status===-1)&&(x._status=2,x._result=ce)}),x._status===-1&&(x._status=0,x._result=X)}if(x._status===1)return x._result.default;throw x._result}var Z=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function fe(){}return Oe.Children={map:P,forEach:function(x,X,ce){P(x,function(){X.apply(this,arguments)},ce)},count:function(x){var X=0;return P(x,function(){X++}),X},toArray:function(x){return P(x,function(X){return X})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Oe.Component=j,Oe.Fragment=t,Oe.Profiler=s,Oe.PureComponent=J,Oe.StrictMode=i,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(x){return te.H.useMemoCache(x)}},Oe.cache=function(x){return function(){return x.apply(null,arguments)}},Oe.cloneElement=function(x,X,ce){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var se=k({},x.props),ge=x.key,be=void 0;if(X!=null)for(_e in X.ref!==void 0&&(be=void 0),X.key!==void 0&&(ge=""+X.key),X)!pe.call(X,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&X.ref===void 0||(se[_e]=X[_e]);var _e=arguments.length-2;if(_e===1)se.children=ce;else if(1<_e){for(var Qe=Array(_e),Ve=0;Ve<_e;Ve++)Qe[Ve]=arguments[Ve+2];se.children=Qe}return U(x.type,ge,void 0,void 0,be,se)},Oe.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Oe.createElement=function(x,X,ce){var se,ge={},be=null;if(X!=null)for(se in X.key!==void 0&&(be=""+X.key),X)pe.call(X,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=X[se]);var _e=arguments.length-2;if(_e===1)ge.children=ce;else if(1<_e){for(var Qe=Array(_e),Ve=0;Ve<_e;Ve++)Qe[Ve]=arguments[Ve+2];ge.children=Qe}if(x&&x.defaultProps)for(se in _e=x.defaultProps,_e)ge[se]===void 0&&(ge[se]=_e[se]);return U(x,be,void 0,void 0,null,ge)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(x){return{$$typeof:d,render:x}},Oe.isValidElement=D,Oe.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:K}},Oe.memo=function(x,X){return{$$typeof:g,type:x,compare:X===void 0?null:X}},Oe.startTransition=function(x){var X=te.T,ce={};te.T=ce;try{var se=x(),ge=te.S;ge!==null&&ge(ce,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(fe,Z)}catch(be){Z(be)}finally{te.T=X}},Oe.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Oe.use=function(x){return te.H.use(x)},Oe.useActionState=function(x,X,ce){return te.H.useActionState(x,X,ce)},Oe.useCallback=function(x,X){return te.H.useCallback(x,X)},Oe.useContext=function(x){return te.H.useContext(x)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(x,X){return te.H.useDeferredValue(x,X)},Oe.useEffect=function(x,X,ce){var se=te.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(x,X)},Oe.useId=function(){return te.H.useId()},Oe.useImperativeHandle=function(x,X,ce){return te.H.useImperativeHandle(x,X,ce)},Oe.useInsertionEffect=function(x,X){return te.H.useInsertionEffect(x,X)},Oe.useLayoutEffect=function(x,X){return te.H.useLayoutEffect(x,X)},Oe.useMemo=function(x,X){return te.H.useMemo(x,X)},Oe.useOptimistic=function(x,X){return te.H.useOptimistic(x,X)},Oe.useReducer=function(x,X,ce){return te.H.useReducer(x,X,ce)},Oe.useRef=function(x){return te.H.useRef(x)},Oe.useState=function(x){return te.H.useState(x)},Oe.useSyncExternalStore=function(x,X,ce){return te.H.useSyncExternalStore(x,X,ce)},Oe.useTransition=function(){return te.H.useTransition()},Oe.version="19.1.1",Oe}var $0;function pp(){return $0||($0=1,rg.exports=J1()),rg.exports}var L=pp();const Nh=nb(L);var ig={exports:{}},mu={},ag={exports:{}},sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function eR(){return Q0||(Q0=1,function(r){function e(P,K){var Z=P.length;P.push(K);e:for(;0<Z;){var fe=Z-1>>>1,x=P[fe];if(0<s(x,K))P[fe]=K,P[Z]=x,Z=fe;else break e}}function t(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var K=P[0],Z=P.pop();if(Z!==K){P[0]=Z;e:for(var fe=0,x=P.length,X=x>>>1;fe<X;){var ce=2*(fe+1)-1,se=P[ce],ge=ce+1,be=P[ge];if(0>s(se,Z))ge<x&&0>s(be,se)?(P[fe]=be,P[ge]=Z,fe=ge):(P[fe]=se,P[ce]=Z,fe=ce);else if(ge<x&&0>s(be,Z))P[fe]=be,P[ge]=Z,fe=ge;else break e}}return K}function s(P,K){var Z=P.sortIndex-K.sortIndex;return Z!==0?Z:P.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,b=null,w=3,C=!1,k=!1,V=!1,j=!1,z=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ie(P){for(var K=t(g);K!==null;){if(K.callback===null)i(g);else if(K.startTime<=P)i(g),K.sortIndex=K.expirationTime,e(p,K);else break;K=t(g)}}function te(P){if(V=!1,ie(P),!k)if(t(p)!==null)k=!0,pe||(pe=!0,H());else{var K=t(g);K!==null&&ue(te,K.startTime-P)}}var pe=!1,U=-1,I=5,D=-1;function O(){return j?!0:!(r.unstable_now()-D<I)}function M(){if(j=!1,pe){var P=r.unstable_now();D=P;var K=!0;try{e:{k=!1,V&&(V=!1,J(U),U=-1),C=!0;var Z=w;try{t:{for(ie(P),b=t(p);b!==null&&!(b.expirationTime>P&&O());){var fe=b.callback;if(typeof fe=="function"){b.callback=null,w=b.priorityLevel;var x=fe(b.expirationTime<=P);if(P=r.unstable_now(),typeof x=="function"){b.callback=x,ie(P),K=!0;break t}b===t(p)&&i(p),ie(P)}else i(p);b=t(p)}if(b!==null)K=!0;else{var X=t(g);X!==null&&ue(te,X.startTime-P),K=!1}}break e}finally{b=null,w=Z,C=!1}K=void 0}}finally{K?H():pe=!1}}}var H;if(typeof ee=="function")H=function(){ee(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,he=R.port2;R.port1.onmessage=M,H=function(){he.postMessage(null)}}else H=function(){z(M,0)};function ue(P,K){U=z(function(){P(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(P){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var Z=w;w=K;try{return P()}finally{w=Z}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Z=w;w=P;try{return K()}finally{w=Z}},r.unstable_scheduleCallback=function(P,K,Z){var fe=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?fe+Z:fe):Z=fe,P){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=Z+x,P={id:v++,callback:K,priorityLevel:P,startTime:Z,expirationTime:x,sortIndex:-1},Z>fe?(P.sortIndex=Z,e(g,P),t(p)===null&&P===t(g)&&(V?(J(U),U=-1):V=!0,ue(te,Z-fe))):(P.sortIndex=x,e(p,P),k||C||(k=!0,pe||(pe=!0,H()))),P},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(P){var K=w;return function(){var Z=w;w=K;try{return P.apply(this,arguments)}finally{w=Z}}}}(sg)),sg}var K0;function tR(){return K0||(K0=1,ag.exports=eR()),ag.exports}var og={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function nR(){if(X0)return _n;X0=1;var r=pp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},_n.flushSync=function(p){var g=h.T,v=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=g,i.p=v,i.d.f()}},_n.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},_n.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},_n.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:C}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},_n.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},_n.requestFormReset=function(p){i.d.r(p)},_n.unstable_batchedUpdates=function(p,g){return p(g)},_n.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},_n.useFormStatus=function(){return h.H.useHostTransitionStatus()},_n.version="19.1.1",_n}var W0;function rR(){if(W0)return og.exports;W0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),og.exports=nR(),og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function iR(){if(Z0)return mu;Z0=1;var r=tR(),e=pp(),t=rR();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var a=n,o=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(o=a.return),n=a.return;while(n)}return a.tag===3?o:null}function h(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(i(188))}function p(n){var a=n.alternate;if(!a){if(a=u(n),a===null)throw Error(i(188));return a!==n?null:n}for(var o=n,l=a;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),n;if(m===l)return d(f),a;m=m.sibling}throw Error(i(188))}if(o.return!==l.return)o=f,l=m;else{for(var T=!1,S=f.child;S;){if(S===o){T=!0,o=f,l=m;break}if(S===l){T=!0,l=f,o=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===o){T=!0,o=m,l=f;break}if(S===l){T=!0,l=m,o=f;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==l)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:a}function g(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=g(n),a!==null)return a;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function he(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case j:return"Profiler";case V:return"StrictMode";case te:return"Suspense";case pe:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case ee:return(n.displayName||"Context")+".Provider";case J:return(n._context.displayName||"Context")+".Consumer";case ie:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return a=n.displayName||null,a!==null?a:he(n.type)||"Memo";case I:a=n._payload,n=n._init;try{return he(n(a))}catch{}}return null}var ue=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},fe=[],x=-1;function X(n){return{current:n}}function ce(n){0>x||(n.current=fe[x],fe[x]=null,x--)}function se(n,a){x++,fe[x]=n.current,n.current=a}var ge=X(null),be=X(null),_e=X(null),Qe=X(null);function Ve(n,a){switch(se(_e,a),se(be,n),se(ge,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?v0(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=v0(a),n=_0(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(ge),se(ge,n)}function lt(){ce(ge),ce(be),ce(_e)}function ut(n){n.memoizedState!==null&&se(Qe,n);var a=ge.current,o=_0(a,n.type);a!==o&&(se(be,n),se(ge,o))}function wt(n){be.current===n&&(ce(ge),ce(be)),Qe.current===n&&(ce(Qe),lu._currentValue=Z)}var $t=Object.prototype.hasOwnProperty,yn=r.unstable_scheduleCallback,ct=r.unstable_cancelCallback,fr=r.unstable_shouldYield,nn=r.unstable_requestPaint,rn=r.unstable_now,Us=r.unstable_getCurrentPriorityLevel,qi=r.unstable_ImmediatePriority,Fi=r.unstable_UserBlockingPriority,ai=r.unstable_NormalPriority,ml=r.unstable_LowPriority,si=r.unstable_IdlePriority,qa=r.log,zs=r.unstable_setDisableYieldValue,gt=null,We=null;function Sn(n){if(typeof qa=="function"&&zs(n),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(gt,n)}catch{}}var Nt=Math.clz32?Math.clz32:oi,Fa=Math.log,Bs=Math.LN2;function oi(n){return n>>>=0,n===0?32:31-(Fa(n)/Bs|0)|0}var Qn=256,Dr=4194304;function Pn(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function li(n,a,o){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=Pn(l):(T&=S,T!==0?f=Pn(T):o||(o=S&~n,o!==0&&(f=Pn(o))))):(S=l&~m,S!==0?f=Pn(S):T!==0?f=Pn(T):o||(o=l&~n,o!==0&&(f=Pn(o)))),f===0?0:a!==0&&a!==f&&(a&m)===0&&(m=f&-f,o=a&-a,m>=o||m===32&&(o&4194048)!==0)?a:f}function Nr(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function ui(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ga(){var n=Qn;return Qn<<=1,(Qn&4194048)===0&&(Qn=256),n}function Gi(){var n=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),n}function dr(n){for(var a=[],o=0;31>o;o++)a.push(n);return a}function Kn(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ot(n,a,o,l,f,m){var T=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var S=n.entanglements,N=n.expirationTimes,Y=n.hiddenUpdates;for(o=T&~o;0<o;){var ne=31-Nt(o),oe=1<<ne;S[ne]=0,N[ne]=-1;var $=Y[ne];if($!==null)for(Y[ne]=null,ne=0;ne<$.length;ne++){var Q=$[ne];Q!==null&&(Q.lane&=-536870913)}o&=~oe}l!==0&&mt(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~a))}function mt(n,a,o){n.pendingLanes|=a,n.suspendedLanes&=~a;var l=31-Nt(a);n.entangledLanes|=a,n.entanglements[l]=n.entanglements[l]|1073741824|o&4194090}function Or(n,a){var o=n.entangledLanes|=a;for(n=n.entanglements;o;){var l=31-Nt(o),f=1<<l;f&a|n[l]&a&&(n[l]|=a),o&=~f}}function Ke(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function an(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Mr(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:j0(n.type))}function Yi(n,a){var o=K.p;try{return K.p=n,a()}finally{K.p=o}}var ht=Math.random().toString(36).slice(2),St="__reactFiber$"+ht,pt="__reactProps$"+ht,sn="__reactContainer$"+ht,ci="__reactEvents$"+ht,Ya="__reactListeners$"+ht,Xn="__reactHandles$"+ht,Hs="__reactResources$"+ht,mr="__reactMarker$"+ht;function gr(n){delete n[St],delete n[pt],delete n[ci],delete n[Ya],delete n[Xn]}function pr(n){var a=n[St];if(a)return a;for(var o=n.parentNode;o;){if(a=o[sn]||o[St]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(n=w0(n);n!==null;){if(o=n[St])return o;n=w0(n)}return a}n=o,o=n.parentNode}return null}function Wn(n){if(n=n[St]||n[sn]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Ce(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function Pe(n){var a=n[Hs];return a||(a=n[Hs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ne(n){n[mr]=!0}var on=new Set,Qt={};function An(n,a){yr(n,a),yr(n+"Capture",a)}function yr(n,a){for(Qt[n]=a,n=0;n<a.length;n++)on.add(a[n])}var qs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dc={},$a={};function mc(n){return $t.call($a,n)?!0:$t.call(dc,n)?!1:qs.test(n)?$a[n]=!0:(dc[n]=!0,!1)}function $i(n,a,o){if(mc(a))if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+o)}}function Vr(n,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+o)}}function ln(n,a,o,l){if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(a,o,""+l)}}var Qa,gc;function hi(n){if(Qa===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Qa=a&&a[1]||"",gc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qa+n+gc}var Fs=!1;function Gs(n,a){if(!n||Fs)return"";Fs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Q){var $=Q}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(Q){$=Q}n.call(oe.prototype)}}else{try{throw Error()}catch(Q){$=Q}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var N=T.split(`
`),Y=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===Y.length)for(l=N.length-1,f=Y.length-1;1<=l&&0<=f&&N[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==Y[f]){var ne=`
`+N[l].replace(" at new "," at ");return n.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",n.displayName)),ne}while(1<=l&&0<=f);break}}}finally{Fs=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?hi(o):""}function gl(n){switch(n.tag){case 26:case 27:case 5:return hi(n.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Gs(n.type,!1);case 11:return Gs(n.type.render,!1);case 1:return Gs(n.type,!0);case 31:return hi("Activity");default:return""}}function Ys(n){try{var a="";do a+=gl(n),n=n.return;while(n);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function pl(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function sd(n){var a=pl(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),l=""+n[a];if(!n.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(n,a,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function $s(n){n._valueTracker||(n._valueTracker=sd(n))}function yl(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var o=a.getValue(),l="";return n&&(l=pl(n)?n.checked?"true":"false":n.value),n=l,n!==o?(a.setValue(n),!0):!1}function Ka(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var od=/[\n"\\]/g;function Mt(n){return n.replace(od,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function kn(n,a,o,l,f,m,T,S){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),a!=null?T==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Rn(a)):n.value!==""+Rn(a)&&(n.value=""+Rn(a)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),a!=null?Qi(n,T,Rn(a)):o!=null?Qi(n,T,Rn(o)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Rn(S):n.removeAttribute("name")}function Xa(n,a,o,l,f,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),a!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||a!=null))return;o=o!=null?""+Rn(o):"",a=a!=null?""+Rn(a):o,S||a===n.value||(n.value=a),n.defaultValue=a}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Qi(n,a,o){a==="number"&&Ka(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function fi(n,a,o,l){if(n=n.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=a.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&l&&(n[o].defaultSelected=!0)}else{for(o=""+Rn(o),a=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function rt(n,a,o){if(a!=null&&(a=""+Rn(a),a!==n.value&&(n.value=a),o==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=o!=null?""+Rn(o):""}function Wa(n,a,o,l){if(a==null){if(l!=null){if(o!=null)throw Error(i(92));if(ue(l)){if(1<l.length)throw Error(i(93));l=l[0]}o=l}o==null&&(o=""),a=o}o=Rn(a),n.defaultValue=o,l=n.textContent,l===o&&l!==""&&l!==null&&(n.value=l)}function Zn(n,a){if(a){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=a;return}}n.textContent=a}var Za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(n,a,o){var l=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":l?n.setProperty(a,o):typeof o!="number"||o===0||Za.has(a)?a==="float"?n.cssFloat=o:n[a]=(""+o).trim():n[a]=o+"px"}function vl(n,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in a)l=a[f],a.hasOwnProperty(f)&&o[f]!==l&&pc(n,f,l)}else for(var m in a)a.hasOwnProperty(m)&&pc(n,m,a[m])}function _l(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ud=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(n){return ud.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var di=null;function Jn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var mi=null,gi=null;function El(n){var a=Wn(n);if(a&&(n=a.stateNode)){var o=n[pt]||null;e:switch(n=a.stateNode,a.type){case"input":if(kn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Mt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var l=o[a];if(l!==n&&l.form===n.form){var f=l[pt]||null;if(!f)throw Error(i(90));kn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)l=o[a],l.form===n.form&&yl(l)}break e;case"textarea":rt(n,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&fi(n,!!o.multiple,a,!1)}}}var Pr=!1;function yc(n,a,o){if(Pr)return n(a,o);Pr=!0;try{var l=n(a);return l}finally{if(Pr=!1,(mi!==null||gi!==null)&&(ch(),mi&&(a=mi,n=gi,gi=mi=null,El(a),n)))for(a=0;a<n.length;a++)El(n[a])}}function Ja(n,a){var o=n.stateNode;if(o===null)return null;var l=o[pt]||null;if(l===null)return null;o=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=!1;if(vr)try{var es={};Object.defineProperty(es,"passive",{get:function(){er=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{er=!1}var kr=null,Ki=null,pi=null;function Tl(){if(pi)return pi;var n,a=Ki,o=a.length,l,f="value"in kr?kr.value:kr.textContent,m=f.length;for(n=0;n<o&&a[n]===f[n];n++);var T=o-n;for(l=1;l<=T&&a[o-l]===f[m-l];l++);return pi=f.slice(n,1<l?1-l:void 0)}function Lr(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function jr(){return!0}function bl(){return!1}function Kt(n){function a(o,l,f,m,T){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(o=n[S],this[S]=o?o(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?jr:bl,this.isPropagationStopped=bl,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),a}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Kt(Je),ts=v({},Je,{view:0,detail:0}),vc=Kt(ts),Xs,Ws,Ur,ns=v({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ur&&(Ur&&n.type==="mousemove"?(Xs=n.screenX-Ur.screenX,Ws=n.screenY-Ur.screenY):Ws=Xs=0,Ur=n),Xs)},movementY:function(n){return"movementY"in n?n.movementY:Ws}}),tr=Kt(ns),_c=v({},ns,{dataTransfer:0}),cd=Kt(_c),rs=v({},ts,{relatedTarget:0}),Zs=Kt(rs),wl=v({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=Kt(wl),Ec=v({},Je,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),eo=Kt(Ec),hd=v({},Je,{data:0}),Sl=Kt(hd),is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Al(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=bc[n])?!!a[n]:!1}function as(){return Al}var wc=v({},ts,{key:function(n){if(n.key){var a=is[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Lr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Tc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(n){return n.type==="keypress"?Lr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Lr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),to=Kt(wc),Sc=v({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Kt(Sc),yi=v({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),Ac=Kt(yi),Rc=v({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ic=Kt(Rc),xc=v({},ns,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),no=Kt(xc),In=v({},Je,{newState:0,oldState:0}),Cc=Kt(In),Dc=[9,13,27,32],zr=vr&&"CompositionEvent"in window,c=null;vr&&"documentMode"in document&&(c=document.documentMode);var y=vr&&"TextEvent"in window&&!c,E=vr&&(!zr||c&&8<c&&11>=c),A=" ",F=!1;function W(n,a){switch(n){case"keyup":return Dc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var He=!1;function Bt(n,a){switch(n){case"compositionend":return de(a);case"keypress":return a.which!==32?null:(F=!0,A);case"textInput":return n=a.data,n===A&&F?null:n;default:return null}}function qe(n,a){if(He)return n==="compositionend"||!zr&&W(n,a)?(n=Tl(),pi=Ki=kr=null,He=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Xt[n.type]:a==="textarea"}function vi(n,a,o,l){mi?gi?gi.push(l):gi=[l]:mi=l,a=ph(a,"onChange"),0<a.length&&(o=new Ks("onChange","change",null,o,l),n.push({event:o,listeners:a}))}var un=null,Br=null;function Il(n){d0(n,0)}function Nc(n){var a=Ce(n);if(yl(a))return n}function Vy(n,a){if(n==="change")return a}var Py=!1;if(vr){var fd;if(vr){var dd="oninput"in document;if(!dd){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),dd=typeof ky.oninput=="function"}fd=dd}else fd=!1;Py=fd&&(!document.documentMode||9<document.documentMode)}function Ly(){un&&(un.detachEvent("onpropertychange",jy),Br=un=null)}function jy(n){if(n.propertyName==="value"&&Nc(Br)){var a=[];vi(a,Br,n,Jn(n)),yc(Il,a)}}function IA(n,a,o){n==="focusin"?(Ly(),un=a,Br=o,un.attachEvent("onpropertychange",jy)):n==="focusout"&&Ly()}function xA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Nc(Br)}function CA(n,a){if(n==="click")return Nc(a)}function DA(n,a){if(n==="input"||n==="change")return Nc(a)}function NA(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Ln=typeof Object.is=="function"?Object.is:NA;function xl(n,a){if(Ln(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var o=Object.keys(n),l=Object.keys(a);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!$t.call(a,f)||!Ln(n[f],a[f]))return!1}return!0}function Uy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zy(n,a){var o=Uy(n);n=0;for(var l;o;){if(o.nodeType===3){if(l=n+o.textContent.length,n<=a&&l>=a)return{node:o,offset:a-n};n=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Uy(o)}}function By(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?By(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Hy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Ka(n.document);a instanceof n.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)n=a.contentWindow;else break;a=Ka(n.document)}return a}function md(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var OA=vr&&"documentMode"in document&&11>=document.documentMode,ro=null,gd=null,Cl=null,pd=!1;function qy(n,a,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pd||ro==null||ro!==Ka(l)||(l=ro,"selectionStart"in l&&md(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&xl(Cl,l)||(Cl=l,l=ph(gd,"onSelect"),0<l.length&&(a=new Ks("onSelect","select",null,a,o),n.push({event:a,listeners:l}),a.target=ro)))}function ss(n,a){var o={};return o[n.toLowerCase()]=a.toLowerCase(),o["Webkit"+n]="webkit"+a,o["Moz"+n]="moz"+a,o}var io={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},yd={},Fy={};vr&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function os(n){if(yd[n])return yd[n];if(!io[n])return n;var a=io[n],o;for(o in a)if(a.hasOwnProperty(o)&&o in Fy)return yd[n]=a[o];return n}var Gy=os("animationend"),Yy=os("animationiteration"),$y=os("animationstart"),MA=os("transitionrun"),VA=os("transitionstart"),PA=os("transitioncancel"),Qy=os("transitionend"),Ky=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function _r(n,a){Ky.set(n,a),An(a,[n])}var Xy=new WeakMap;function nr(n,a){if(typeof n=="object"&&n!==null){var o=Xy.get(n);return o!==void 0?o:(a={value:n,source:a,stack:Ys(a)},Xy.set(n,a),a)}return{value:n,source:a,stack:Ys(a)}}var rr=[],ao=0,_d=0;function Oc(){for(var n=ao,a=_d=ao=0;a<n;){var o=rr[a];rr[a++]=null;var l=rr[a];rr[a++]=null;var f=rr[a];rr[a++]=null;var m=rr[a];if(rr[a++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&Wy(o,f,m)}}function Mc(n,a,o,l){rr[ao++]=n,rr[ao++]=a,rr[ao++]=o,rr[ao++]=l,_d|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Ed(n,a,o,l){return Mc(n,a,o,l),Vc(n)}function so(n,a){return Mc(n,null,null,a),Vc(n)}function Wy(n,a,o){n.lanes|=o;var l=n.alternate;l!==null&&(l.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&a!==null&&(f=31-Nt(o),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[a]:l.push(a),a.lane=o|536870912),m):null}function Vc(n){if(50<eu)throw eu=0,Rm=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var oo={};function kA(n,a,o,l){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,a,o,l){return new kA(n,a,o,l)}function Td(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _i(n,a){var o=n.alternate;return o===null?(o=jn(n.tag,a,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=a,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,a=n.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Zy(n,a){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,a=o.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Pc(n,a,o,l,f,m){var T=0;if(l=n,typeof n=="function")Td(n)&&(T=1);else if(typeof n=="string")T=j1(n,o,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case D:return n=jn(31,o,a,f),n.elementType=D,n.lanes=m,n;case k:return ls(o.children,f,m,a);case V:T=8,f|=24;break;case j:return n=jn(12,o,a,f|2),n.elementType=j,n.lanes=m,n;case te:return n=jn(13,o,a,f),n.elementType=te,n.lanes=m,n;case pe:return n=jn(19,o,a,f),n.elementType=pe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:case ee:T=10;break e;case J:T=9;break e;case ie:T=11;break e;case U:T=14;break e;case I:T=16,l=null;break e}T=29,o=Error(i(130,n===null?"null":typeof n,"")),l=null}return a=jn(T,o,a,f),a.elementType=n,a.type=l,a.lanes=m,a}function ls(n,a,o,l){return n=jn(7,n,l,a),n.lanes=o,n}function bd(n,a,o){return n=jn(6,n,null,a),n.lanes=o,n}function wd(n,a,o){return a=jn(4,n.children!==null?n.children:[],n.key,a),a.lanes=o,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var lo=[],uo=0,kc=null,Lc=0,ir=[],ar=0,us=null,Ei=1,Ti="";function cs(n,a){lo[uo++]=Lc,lo[uo++]=kc,kc=n,Lc=a}function Jy(n,a,o){ir[ar++]=Ei,ir[ar++]=Ti,ir[ar++]=us,us=n;var l=Ei;n=Ti;var f=32-Nt(l)-1;l&=~(1<<f),o+=1;var m=32-Nt(a)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Ei=1<<32-Nt(a)+f|o<<f|l,Ti=m+n}else Ei=1<<m|o<<f|l,Ti=n}function Sd(n){n.return!==null&&(cs(n,1),Jy(n,1,0))}function Ad(n){for(;n===kc;)kc=lo[--uo],lo[uo]=null,Lc=lo[--uo],lo[uo]=null;for(;n===us;)us=ir[--ar],ir[ar]=null,Ti=ir[--ar],ir[ar]=null,Ei=ir[--ar],ir[ar]=null}var xn=null,At=null,Ze=!1,hs=null,Hr=!1,Rd=Error(i(519));function fs(n){var a=Error(i(418,""));throw Ol(nr(a,n)),Rd}function ev(n){var a=n.stateNode,o=n.type,l=n.memoizedProps;switch(a[St]=n,a[pt]=l,o){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(o=0;o<nu.length;o++)je(nu[o],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":je("invalid",a),Xa(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$s(a);break;case"select":je("invalid",a);break;case"textarea":je("invalid",a),Wa(a,l.value,l.defaultValue,l.children),$s(a)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||l.suppressHydrationWarning===!0||y0(a.textContent,o)?(l.popover!=null&&(je("beforetoggle",a),je("toggle",a)),l.onScroll!=null&&je("scroll",a),l.onScrollEnd!=null&&je("scrollend",a),l.onClick!=null&&(a.onclick=yh),a=!0):a=!1,a||fs(n)}function tv(n){for(xn=n.return;xn;)switch(xn.tag){case 5:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:xn=xn.return}}function Dl(n){if(n!==xn)return!1;if(!Ze)return tv(n),Ze=!0,!1;var a=n.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Hm(n.type,n.memoizedProps)),o=!o),o&&At&&fs(n),tv(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(a===0){At=Tr(n.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;n=n.nextSibling}At=null}}else a===27?(a=At,ha(n.type)?(n=Ym,Ym=null,At=n):At=a):At=xn?Tr(n.stateNode.nextSibling):null;return!0}function Nl(){At=xn=null,Ze=!1}function nv(){var n=hs;return n!==null&&(On===null?On=n:On.push.apply(On,n),hs=null),n}function Ol(n){hs===null?hs=[n]:hs.push(n)}var Id=X(null),ds=null,bi=null;function Xi(n,a,o){se(Id,a._currentValue),a._currentValue=o}function wi(n){n._currentValue=Id.current,ce(Id)}function xd(n,a,o){for(;n!==null;){var l=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),n===o)break;n=n.return}}function Cd(n,a,o,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var N=0;N<a.length;N++)if(S.context===a[N]){m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),xd(m.return,o,n),l||(T=null);break e}m=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(i(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),xd(T,o,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ml(n,a,o,l){n=null;for(var f=a,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=f.type;Ln(f.pendingProps.value,T.value)||(n!==null?n.push(S):n=[S])}}else if(f===Qe.current){if(T=f.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(lu):n=[lu])}f=f.return}n!==null&&Cd(a,n,o,l),a.flags|=262144}function jc(n){for(n=n.firstContext;n!==null;){if(!Ln(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ms(n){ds=n,bi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function vn(n){return rv(ds,n)}function Uc(n,a){return ds===null&&ms(n),rv(n,a)}function rv(n,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},bi===null){if(n===null)throw Error(i(308));bi=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else bi=bi.next=a;return o}var LA=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(o,l){n.push(l)}};this.abort=function(){a.aborted=!0,n.forEach(function(o){return o()})}},jA=r.unstable_scheduleCallback,UA=r.unstable_NormalPriority,qt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new LA,data:new Map,refCount:0}}function Vl(n){n.refCount--,n.refCount===0&&jA(UA,function(){n.controller.abort()})}var Pl=null,Nd=0,co=0,ho=null;function zA(n,a){if(Pl===null){var o=Pl=[];Nd=0,co=Mm(),ho={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Nd++,a.then(iv,iv),a}function iv(){if(--Nd===0&&Pl!==null){ho!==null&&(ho.status="fulfilled");var n=Pl;Pl=null,co=0,ho=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function BA(n,a){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){l.status="fulfilled",l.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var av=P.S;P.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&zA(n,a),av!==null&&av(n,a)};var gs=X(null);function Od(){var n=gs.current;return n!==null?n:dt.pooledCache}function zc(n,a){a===null?se(gs,gs.current):se(gs,a.pool)}function sv(){var n=Od();return n===null?null:{parent:qt._currentValue,pool:n}}var kl=Error(i(460)),ov=Error(i(474)),Bc=Error(i(542)),Md={then:function(){}};function lv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Hc(){}function uv(n,a,o){switch(o=n[o],o===void 0?n.push(a):o!==a&&(a.then(Hc,Hc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,hv(n),n;default:if(typeof a.status=="string")a.then(Hc,Hc);else{if(n=dt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(l){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=l}},function(l){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,hv(n),n}throw Ll=a,kl}}var Ll=null;function cv(){if(Ll===null)throw Error(i(459));var n=Ll;return Ll=null,n}function hv(n){if(n===kl||n===Bc)throw Error(i(483))}var Wi=!1;function Vd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Zi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ji(n,a,o){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var f=l.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a,a=Vc(n),Wy(n,null,o),a}return Mc(n,l,a,o),Vc(n)}function jl(n,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var l=a.lanes;l&=n.pendingLanes,o|=l,a.lanes=o,Or(n,o)}}function kd(n,a){var o=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=a:m=m.next=a}else f=m=a;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=a:n.next=a,o.lastBaseUpdate=a}var Ld=!1;function Ul(){if(Ld){var n=ho;if(n!==null)throw n}}function zl(n,a,o,l){Ld=!1;var f=n.updateQueue;Wi=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,Y=N.next;N.next=null,T===null?m=Y:T.next=Y,T=N;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==T&&(S===null?ne.firstBaseUpdate=Y:S.next=Y,ne.lastBaseUpdate=N))}if(m!==null){var oe=f.baseState;T=0,ne=Y=N=null,S=m;do{var $=S.lane&-536870913,Q=$!==S.lane;if(Q?(Fe&$)===$:(l&$)===$){$!==0&&$===co&&(Ld=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var xe=n,Se=S;$=a;var st=o;switch(Se.tag){case 1:if(xe=Se.payload,typeof xe=="function"){oe=xe.call(st,oe,$);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Se.payload,$=typeof xe=="function"?xe.call(st,oe,$):xe,$==null)break e;oe=v({},oe,$);break e;case 2:Wi=!0}}$=S.callback,$!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(Y=ne=Q,N=oe):ne=ne.next=Q,T|=$;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);ne===null&&(N=oe),f.baseState=N,f.firstBaseUpdate=Y,f.lastBaseUpdate=ne,m===null&&(f.shared.lanes=0),oa|=T,n.lanes=T,n.memoizedState=oe}}function fv(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function dv(n,a){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)fv(o[n],a)}var fo=X(null),qc=X(0);function mv(n,a){n=Di,se(qc,n),se(fo,a),Di=n|a.baseLanes}function jd(){se(qc,Di),se(fo,fo.current)}function Ud(){Di=qc.current,ce(fo),ce(qc)}var ea=0,Me=null,it=null,Vt=null,Fc=!1,mo=!1,ps=!1,Gc=0,Bl=0,go=null,HA=0;function xt(){throw Error(i(321))}function zd(n,a){if(a===null)return!1;for(var o=0;o<a.length&&o<n.length;o++)if(!Ln(n[o],a[o]))return!1;return!0}function Bd(n,a,o,l,f,m){return ea=m,Me=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,P.H=n===null||n.memoizedState===null?Wv:Zv,ps=!1,m=o(l,f),ps=!1,mo&&(m=pv(a,o,l,f)),gv(n),m}function gv(n){P.H=Wc;var a=it!==null&&it.next!==null;if(ea=0,Vt=it=Me=null,Fc=!1,Bl=0,go=null,a)throw Error(i(300));n===null||Wt||(n=n.dependencies,n!==null&&jc(n)&&(Wt=!0))}function pv(n,a,o,l){Me=n;var f=0;do{if(mo&&(go=null),Bl=0,mo=!1,25<=f)throw Error(i(301));if(f+=1,Vt=it=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}P.H=KA,m=a(o,l)}while(mo);return m}function qA(){var n=P.H,a=n.useState()[0];return a=typeof a.then=="function"?Hl(a):a,n=n.useState()[0],(it!==null?it.memoizedState:null)!==n&&(Me.flags|=1024),a}function Hd(){var n=Gc!==0;return Gc=0,n}function qd(n,a,o){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~o}function Fd(n){if(Fc){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Fc=!1}ea=0,Vt=it=Me=null,mo=!1,Bl=Gc=0,go=null}function Dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Me.memoizedState=Vt=n:Vt=Vt.next=n,Vt}function Pt(){if(it===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=it.next;var a=Vt===null?Me.memoizedState:Vt.next;if(a!==null)Vt=a,it=n;else{if(n===null)throw Me.alternate===null?Error(i(467)):Error(i(310));it=n,n={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Vt===null?Me.memoizedState=Vt=n:Vt=Vt.next=n}return Vt}function Gd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(n){var a=Bl;return Bl+=1,go===null&&(go=[]),n=uv(go,n,a),a=Me,(Vt===null?a.memoizedState:Vt.next)===null&&(a=a.alternate,P.H=a===null||a.memoizedState===null?Wv:Zv),n}function Yc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Hl(n);if(n.$$typeof===ee)return vn(n)}throw Error(i(438,String(n)))}function Yd(n){var a=null,o=Me.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Gd(),Me.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(n),l=0;l<n;l++)o[l]=O;return a.index++,o}function Si(n,a){return typeof a=="function"?a(n):a}function $c(n){var a=Pt();return $d(a,it,n)}function $d(n,a,o){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}a.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{a=f.next;var S=T=null,N=null,Y=a,ne=!1;do{var oe=Y.lane&-536870913;if(oe!==Y.lane?(Fe&oe)===oe:(ea&oe)===oe){var $=Y.revertLane;if($===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),oe===co&&(ne=!0);else if((ea&$)===$){Y=Y.next,$===co&&(ne=!0);continue}else oe={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(S=N=oe,T=m):N=N.next=oe,Me.lanes|=$,oa|=$;oe=Y.action,ps&&o(m,oe),m=Y.hasEagerState?Y.eagerState:o(m,oe)}else $={lane:oe,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(S=N=$,T=m):N=N.next=$,Me.lanes|=oe,oa|=oe;Y=Y.next}while(Y!==null&&Y!==a);if(N===null?T=m:N.next=S,!Ln(m,n.memoizedState)&&(Wt=!0,ne&&(o=ho,o!==null)))throw o;n.memoizedState=m,n.baseState=T,n.baseQueue=N,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Qd(n){var a=Pt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var l=o.dispatch,f=o.pending,m=a.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=n(m,T.action),T=T.next;while(T!==f);Ln(m,a.memoizedState)||(Wt=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),o.lastRenderedState=m}return[m,l]}function yv(n,a,o){var l=Me,f=Pt(),m=Ze;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=a();var T=!Ln((it||f).memoizedState,o);T&&(f.memoizedState=o,Wt=!0),f=f.queue;var S=Ev.bind(null,l,f,n);if(ql(2048,8,S,[n]),f.getSnapshot!==a||T||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,po(9,Qc(),_v.bind(null,l,f,o,a),null),dt===null)throw Error(i(349));m||(ea&124)!==0||vv(l,a,o)}return o}function vv(n,a,o){n.flags|=16384,n={getSnapshot:a,value:o},a=Me.updateQueue,a===null?(a=Gd(),Me.updateQueue=a,a.stores=[n]):(o=a.stores,o===null?a.stores=[n]:o.push(n))}function _v(n,a,o,l){a.value=o,a.getSnapshot=l,Tv(a)&&bv(n)}function Ev(n,a,o){return o(function(){Tv(a)&&bv(n)})}function Tv(n){var a=n.getSnapshot;n=n.value;try{var o=a();return!Ln(n,o)}catch{return!0}}function bv(n){var a=so(n,2);a!==null&&qn(a,n,2)}function Kd(n){var a=Dn();if(typeof n=="function"){var o=n;if(n=o(),ps){Sn(!0);try{o()}finally{Sn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:n},a}function wv(n,a,o,l){return n.baseState=o,$d(n,it,typeof l=="function"?l:Si)}function FA(n,a,o,l,f){if(Xc(n))throw Error(i(485));if(n=a.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};P.T!==null?o(!0):m.isTransition=!1,l(m),o=a.pending,o===null?(m.next=a.pending=m,Sv(a,m)):(m.next=o.next,a.pending=o.next=m)}}function Sv(n,a){var o=a.action,l=a.payload,f=n.state;if(a.isTransition){var m=P.T,T={};P.T=T;try{var S=o(f,l),N=P.S;N!==null&&N(T,S),Av(n,a,S)}catch(Y){Xd(n,a,Y)}finally{P.T=m}}else try{m=o(f,l),Av(n,a,m)}catch(Y){Xd(n,a,Y)}}function Av(n,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){Rv(n,a,l)},function(l){return Xd(n,a,l)}):Rv(n,a,o)}function Rv(n,a,o){a.status="fulfilled",a.value=o,Iv(a),n.state=o,a=n.pending,a!==null&&(o=a.next,o===a?n.pending=null:(o=o.next,a.next=o,Sv(n,o)))}function Xd(n,a,o){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=o,Iv(a),a=a.next;while(a!==l)}n.action=null}function Iv(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function xv(n,a){return a}function Cv(n,a){if(Ze){var o=dt.formState;if(o!==null){e:{var l=Me;if(Ze){if(At){t:{for(var f=At,m=Hr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Tr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){At=Tr(f.nextSibling),l=f.data==="F!";break e}}fs(l)}l=!1}l&&(a=o[0])}}return o=Dn(),o.memoizedState=o.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xv,lastRenderedState:a},o.queue=l,o=Qv.bind(null,Me,l),l.dispatch=o,l=Kd(!1),m=tm.bind(null,Me,!1,l.queue),l=Dn(),f={state:a,dispatch:null,action:n,pending:null},l.queue=f,o=FA.bind(null,Me,f,m,o),f.dispatch=o,l.memoizedState=n,[a,o,!1]}function Dv(n){var a=Pt();return Nv(a,it,n)}function Nv(n,a,o){if(a=$d(n,a,xv)[0],n=$c(Si)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Hl(a)}catch(T){throw T===kl?Bc:T}else l=a;a=Pt();var f=a.queue,m=f.dispatch;return o!==a.memoizedState&&(Me.flags|=2048,po(9,Qc(),GA.bind(null,f,o),null)),[l,m,n]}function GA(n,a){n.action=a}function Ov(n){var a=Pt(),o=it;if(o!==null)return Nv(a,o,n);Pt(),a=a.memoizedState,o=Pt();var l=o.queue.dispatch;return o.memoizedState=n,[a,l,!1]}function po(n,a,o,l){return n={tag:n,create:o,deps:l,inst:a,next:null},a=Me.updateQueue,a===null&&(a=Gd(),Me.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=n.next=n:(l=o.next,o.next=n,n.next=l,a.lastEffect=n),n}function Qc(){return{destroy:void 0,resource:void 0}}function Mv(){return Pt().memoizedState}function Kc(n,a,o,l){var f=Dn();l=l===void 0?null:l,Me.flags|=n,f.memoizedState=po(1|a,Qc(),o,l)}function ql(n,a,o,l){var f=Pt();l=l===void 0?null:l;var m=f.memoizedState.inst;it!==null&&l!==null&&zd(l,it.memoizedState.deps)?f.memoizedState=po(a,m,o,l):(Me.flags|=n,f.memoizedState=po(1|a,m,o,l))}function Vv(n,a){Kc(8390656,8,n,a)}function Pv(n,a){ql(2048,8,n,a)}function kv(n,a){return ql(4,2,n,a)}function Lv(n,a){return ql(4,4,n,a)}function jv(n,a){if(typeof a=="function"){n=n();var o=a(n);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Uv(n,a,o){o=o!=null?o.concat([n]):null,ql(4,4,jv.bind(null,a,n),o)}function Wd(){}function zv(n,a){var o=Pt();a=a===void 0?null:a;var l=o.memoizedState;return a!==null&&zd(a,l[1])?l[0]:(o.memoizedState=[n,a],n)}function Bv(n,a){var o=Pt();a=a===void 0?null:a;var l=o.memoizedState;if(a!==null&&zd(a,l[1]))return l[0];if(l=n(),ps){Sn(!0);try{n()}finally{Sn(!1)}}return o.memoizedState=[l,a],l}function Zd(n,a,o){return o===void 0||(ea&1073741824)!==0?n.memoizedState=a:(n.memoizedState=o,n=F_(),Me.lanes|=n,oa|=n,o)}function Hv(n,a,o,l){return Ln(o,a)?o:fo.current!==null?(n=Zd(n,o,l),Ln(n,a)||(Wt=!0),n):(ea&42)===0?(Wt=!0,n.memoizedState=o):(n=F_(),Me.lanes|=n,oa|=n,a)}function qv(n,a,o,l,f){var m=K.p;K.p=m!==0&&8>m?m:8;var T=P.T,S={};P.T=S,tm(n,!1,a,o);try{var N=f(),Y=P.S;if(Y!==null&&Y(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ne=BA(N,l);Fl(n,a,ne,Hn(n))}else Fl(n,a,l,Hn(n))}catch(oe){Fl(n,a,{then:function(){},status:"rejected",reason:oe},Hn())}finally{K.p=m,P.T=T}}function YA(){}function Jd(n,a,o,l){if(n.tag!==5)throw Error(i(476));var f=Fv(n).queue;qv(n,f,a,Z,o===null?YA:function(){return Gv(n),o(l)})}function Fv(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:Z},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:o},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Gv(n){var a=Fv(n).next.queue;Fl(n,a,{},Hn())}function em(){return vn(lu)}function Yv(){return Pt().memoizedState}function $v(){return Pt().memoizedState}function $A(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var o=Hn();n=Zi(o);var l=Ji(a,n,o);l!==null&&(qn(l,a,o),jl(l,a,o)),a={cache:Dd()},n.payload=a;return}a=a.return}}function QA(n,a,o){var l=Hn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Xc(n)?Kv(a,o):(o=Ed(n,a,o,l),o!==null&&(qn(o,n,l),Xv(o,a,l)))}function Qv(n,a,o){var l=Hn();Fl(n,a,o,l)}function Fl(n,a,o,l){var f={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Xc(n))Kv(a,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var T=a.lastRenderedState,S=m(T,o);if(f.hasEagerState=!0,f.eagerState=S,Ln(S,T))return Mc(n,a,f,0),dt===null&&Oc(),!1}catch{}finally{}if(o=Ed(n,a,f,l),o!==null)return qn(o,n,l),Xv(o,a,l),!0}return!1}function tm(n,a,o,l){if(l={lane:2,revertLane:Mm(),action:l,hasEagerState:!1,eagerState:null,next:null},Xc(n)){if(a)throw Error(i(479))}else a=Ed(n,o,l,2),a!==null&&qn(a,n,2)}function Xc(n){var a=n.alternate;return n===Me||a!==null&&a===Me}function Kv(n,a){mo=Fc=!0;var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}function Xv(n,a,o){if((o&4194048)!==0){var l=a.lanes;l&=n.pendingLanes,o|=l,a.lanes=o,Or(n,o)}}var Wc={readContext:vn,use:Yc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},Wv={readContext:vn,use:Yc,useCallback:function(n,a){return Dn().memoizedState=[n,a===void 0?null:a],n},useContext:vn,useEffect:Vv,useImperativeHandle:function(n,a,o){o=o!=null?o.concat([n]):null,Kc(4194308,4,jv.bind(null,a,n),o)},useLayoutEffect:function(n,a){return Kc(4194308,4,n,a)},useInsertionEffect:function(n,a){Kc(4,2,n,a)},useMemo:function(n,a){var o=Dn();a=a===void 0?null:a;var l=n();if(ps){Sn(!0);try{n()}finally{Sn(!1)}}return o.memoizedState=[l,a],l},useReducer:function(n,a,o){var l=Dn();if(o!==void 0){var f=o(a);if(ps){Sn(!0);try{o(a)}finally{Sn(!1)}}}else f=a;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=QA.bind(null,Me,n),[l.memoizedState,n]},useRef:function(n){var a=Dn();return n={current:n},a.memoizedState=n},useState:function(n){n=Kd(n);var a=n.queue,o=Qv.bind(null,Me,a);return a.dispatch=o,[n.memoizedState,o]},useDebugValue:Wd,useDeferredValue:function(n,a){var o=Dn();return Zd(o,n,a)},useTransition:function(){var n=Kd(!1);return n=qv.bind(null,Me,n.queue,!0,!1),Dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,o){var l=Me,f=Dn();if(Ze){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),dt===null)throw Error(i(349));(Fe&124)!==0||vv(l,a,o)}f.memoizedState=o;var m={value:o,getSnapshot:a};return f.queue=m,Vv(Ev.bind(null,l,m,n),[n]),l.flags|=2048,po(9,Qc(),_v.bind(null,l,m,o,a),null),o},useId:function(){var n=Dn(),a=dt.identifierPrefix;if(Ze){var o=Ti,l=Ei;o=(l&~(1<<32-Nt(l)-1)).toString(32)+o,a="«"+a+"R"+o,o=Gc++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=HA++,a="«"+a+"r"+o.toString(32)+"»";return n.memoizedState=a},useHostTransitionStatus:em,useFormState:Cv,useActionState:Cv,useOptimistic:function(n){var a=Dn();a.memoizedState=a.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=tm.bind(null,Me,!0,o),o.dispatch=a,[n,a]},useMemoCache:Yd,useCacheRefresh:function(){return Dn().memoizedState=$A.bind(null,Me)}},Zv={readContext:vn,use:Yc,useCallback:zv,useContext:vn,useEffect:Pv,useImperativeHandle:Uv,useInsertionEffect:kv,useLayoutEffect:Lv,useMemo:Bv,useReducer:$c,useRef:Mv,useState:function(){return $c(Si)},useDebugValue:Wd,useDeferredValue:function(n,a){var o=Pt();return Hv(o,it.memoizedState,n,a)},useTransition:function(){var n=$c(Si)[0],a=Pt().memoizedState;return[typeof n=="boolean"?n:Hl(n),a]},useSyncExternalStore:yv,useId:Yv,useHostTransitionStatus:em,useFormState:Dv,useActionState:Dv,useOptimistic:function(n,a){var o=Pt();return wv(o,it,n,a)},useMemoCache:Yd,useCacheRefresh:$v},KA={readContext:vn,use:Yc,useCallback:zv,useContext:vn,useEffect:Pv,useImperativeHandle:Uv,useInsertionEffect:kv,useLayoutEffect:Lv,useMemo:Bv,useReducer:Qd,useRef:Mv,useState:function(){return Qd(Si)},useDebugValue:Wd,useDeferredValue:function(n,a){var o=Pt();return it===null?Zd(o,n,a):Hv(o,it.memoizedState,n,a)},useTransition:function(){var n=Qd(Si)[0],a=Pt().memoizedState;return[typeof n=="boolean"?n:Hl(n),a]},useSyncExternalStore:yv,useId:Yv,useHostTransitionStatus:em,useFormState:Ov,useActionState:Ov,useOptimistic:function(n,a){var o=Pt();return it!==null?wv(o,it,n,a):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Yd,useCacheRefresh:$v},yo=null,Gl=0;function Zc(n){var a=Gl;return Gl+=1,yo===null&&(yo=[]),uv(yo,n,a)}function Yl(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Jc(n,a){throw a.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Jv(n){var a=n._init;return a(n._payload)}function e_(n){function a(q,B){if(n){var G=q.deletions;G===null?(q.deletions=[B],q.flags|=16):G.push(B)}}function o(q,B){if(!n)return null;for(;B!==null;)a(q,B),B=B.sibling;return null}function l(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function f(q,B){return q=_i(q,B),q.index=0,q.sibling=null,q}function m(q,B,G){return q.index=G,n?(G=q.alternate,G!==null?(G=G.index,G<B?(q.flags|=67108866,B):G):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function T(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function S(q,B,G,ae){return B===null||B.tag!==6?(B=bd(G,q.mode,ae),B.return=q,B):(B=f(B,G),B.return=q,B)}function N(q,B,G,ae){var ve=G.type;return ve===k?ne(q,B,G.props.children,ae,G.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===I&&Jv(ve)===B.type)?(B=f(B,G.props),Yl(B,G),B.return=q,B):(B=Pc(G.type,G.key,G.props,null,q.mode,ae),Yl(B,G),B.return=q,B)}function Y(q,B,G,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=wd(G,q.mode,ae),B.return=q,B):(B=f(B,G.children||[]),B.return=q,B)}function ne(q,B,G,ae,ve){return B===null||B.tag!==7?(B=ls(G,q.mode,ae,ve),B.return=q,B):(B=f(B,G),B.return=q,B)}function oe(q,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=bd(""+B,q.mode,G),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return G=Pc(B.type,B.key,B.props,null,q.mode,G),Yl(G,B),G.return=q,G;case C:return B=wd(B,q.mode,G),B.return=q,B;case I:var ae=B._init;return B=ae(B._payload),oe(q,B,G)}if(ue(B)||H(B))return B=ls(B,q.mode,G,null),B.return=q,B;if(typeof B.then=="function")return oe(q,Zc(B),G);if(B.$$typeof===ee)return oe(q,Uc(q,B),G);Jc(q,B)}return null}function $(q,B,G,ae){var ve=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:S(q,B,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===ve?N(q,B,G,ae):null;case C:return G.key===ve?Y(q,B,G,ae):null;case I:return ve=G._init,G=ve(G._payload),$(q,B,G,ae)}if(ue(G)||H(G))return ve!==null?null:ne(q,B,G,ae,null);if(typeof G.then=="function")return $(q,B,Zc(G),ae);if(G.$$typeof===ee)return $(q,B,Uc(q,G),ae);Jc(q,G)}return null}function Q(q,B,G,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return q=q.get(G)||null,S(B,q,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return q=q.get(ae.key===null?G:ae.key)||null,N(B,q,ae,ve);case C:return q=q.get(ae.key===null?G:ae.key)||null,Y(B,q,ae,ve);case I:var ke=ae._init;return ae=ke(ae._payload),Q(q,B,G,ae,ve)}if(ue(ae)||H(ae))return q=q.get(G)||null,ne(B,q,ae,ve,null);if(typeof ae.then=="function")return Q(q,B,G,Zc(ae),ve);if(ae.$$typeof===ee)return Q(q,B,G,Uc(B,ae),ve);Jc(B,ae)}return null}function xe(q,B,G,ae){for(var ve=null,ke=null,Ee=B,Ae=B=0,Jt=null;Ee!==null&&Ae<G.length;Ae++){Ee.index>Ae?(Jt=Ee,Ee=null):Jt=Ee.sibling;var Xe=$(q,Ee,G[Ae],ae);if(Xe===null){Ee===null&&(Ee=Jt);break}n&&Ee&&Xe.alternate===null&&a(q,Ee),B=m(Xe,B,Ae),ke===null?ve=Xe:ke.sibling=Xe,ke=Xe,Ee=Jt}if(Ae===G.length)return o(q,Ee),Ze&&cs(q,Ae),ve;if(Ee===null){for(;Ae<G.length;Ae++)Ee=oe(q,G[Ae],ae),Ee!==null&&(B=m(Ee,B,Ae),ke===null?ve=Ee:ke.sibling=Ee,ke=Ee);return Ze&&cs(q,Ae),ve}for(Ee=l(Ee);Ae<G.length;Ae++)Jt=Q(Ee,q,Ae,G[Ae],ae),Jt!==null&&(n&&Jt.alternate!==null&&Ee.delete(Jt.key===null?Ae:Jt.key),B=m(Jt,B,Ae),ke===null?ve=Jt:ke.sibling=Jt,ke=Jt);return n&&Ee.forEach(function(pa){return a(q,pa)}),Ze&&cs(q,Ae),ve}function Se(q,B,G,ae){if(G==null)throw Error(i(151));for(var ve=null,ke=null,Ee=B,Ae=B=0,Jt=null,Xe=G.next();Ee!==null&&!Xe.done;Ae++,Xe=G.next()){Ee.index>Ae?(Jt=Ee,Ee=null):Jt=Ee.sibling;var pa=$(q,Ee,Xe.value,ae);if(pa===null){Ee===null&&(Ee=Jt);break}n&&Ee&&pa.alternate===null&&a(q,Ee),B=m(pa,B,Ae),ke===null?ve=pa:ke.sibling=pa,ke=pa,Ee=Jt}if(Xe.done)return o(q,Ee),Ze&&cs(q,Ae),ve;if(Ee===null){for(;!Xe.done;Ae++,Xe=G.next())Xe=oe(q,Xe.value,ae),Xe!==null&&(B=m(Xe,B,Ae),ke===null?ve=Xe:ke.sibling=Xe,ke=Xe);return Ze&&cs(q,Ae),ve}for(Ee=l(Ee);!Xe.done;Ae++,Xe=G.next())Xe=Q(Ee,q,Ae,Xe.value,ae),Xe!==null&&(n&&Xe.alternate!==null&&Ee.delete(Xe.key===null?Ae:Xe.key),B=m(Xe,B,Ae),ke===null?ve=Xe:ke.sibling=Xe,ke=Xe);return n&&Ee.forEach(function(X1){return a(q,X1)}),Ze&&cs(q,Ae),ve}function st(q,B,G,ae){if(typeof G=="object"&&G!==null&&G.type===k&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var ve=G.key;B!==null;){if(B.key===ve){if(ve=G.type,ve===k){if(B.tag===7){o(q,B.sibling),ae=f(B,G.props.children),ae.return=q,q=ae;break e}}else if(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===I&&Jv(ve)===B.type){o(q,B.sibling),ae=f(B,G.props),Yl(ae,G),ae.return=q,q=ae;break e}o(q,B);break}else a(q,B);B=B.sibling}G.type===k?(ae=ls(G.props.children,q.mode,ae,G.key),ae.return=q,q=ae):(ae=Pc(G.type,G.key,G.props,null,q.mode,ae),Yl(ae,G),ae.return=q,q=ae)}return T(q);case C:e:{for(ve=G.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){o(q,B.sibling),ae=f(B,G.children||[]),ae.return=q,q=ae;break e}else{o(q,B);break}else a(q,B);B=B.sibling}ae=wd(G,q.mode,ae),ae.return=q,q=ae}return T(q);case I:return ve=G._init,G=ve(G._payload),st(q,B,G,ae)}if(ue(G))return xe(q,B,G,ae);if(H(G)){if(ve=H(G),typeof ve!="function")throw Error(i(150));return G=ve.call(G),Se(q,B,G,ae)}if(typeof G.then=="function")return st(q,B,Zc(G),ae);if(G.$$typeof===ee)return st(q,B,Uc(q,G),ae);Jc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(o(q,B.sibling),ae=f(B,G),ae.return=q,q=ae):(o(q,B),ae=bd(G,q.mode,ae),ae.return=q,q=ae),T(q)):o(q,B)}return function(q,B,G,ae){try{Gl=0;var ve=st(q,B,G,ae);return yo=null,ve}catch(Ee){if(Ee===kl||Ee===Bc)throw Ee;var ke=jn(29,Ee,null,q.mode);return ke.lanes=ae,ke.return=q,ke}finally{}}}var vo=e_(!0),t_=e_(!1),sr=X(null),qr=null;function ta(n){var a=n.alternate;se(Ft,Ft.current&1),se(sr,n),qr===null&&(a===null||fo.current!==null||a.memoizedState!==null)&&(qr=n)}function n_(n){if(n.tag===22){if(se(Ft,Ft.current),se(sr,n),qr===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(qr=n)}}else na()}function na(){se(Ft,Ft.current),se(sr,sr.current)}function Ai(n){ce(sr),qr===n&&(qr=null),ce(Ft)}var Ft=X(0);function eh(n){for(var a=n;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Gm(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function nm(n,a,o,l){a=n.memoizedState,o=o(l,a),o=o==null?a:v({},a,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var rm={enqueueSetState:function(n,a,o){n=n._reactInternals;var l=Hn(),f=Zi(l);f.payload=a,o!=null&&(f.callback=o),a=Ji(n,f,l),a!==null&&(qn(a,n,l),jl(a,n,l))},enqueueReplaceState:function(n,a,o){n=n._reactInternals;var l=Hn(),f=Zi(l);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=Ji(n,f,l),a!==null&&(qn(a,n,l),jl(a,n,l))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var o=Hn(),l=Zi(o);l.tag=2,a!=null&&(l.callback=a),a=Ji(n,l,o),a!==null&&(qn(a,n,o),jl(a,n,o))}};function r_(n,a,o,l,f,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,T):a.prototype&&a.prototype.isPureReactComponent?!xl(o,l)||!xl(f,m):!0}function i_(n,a,o,l){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,l),a.state!==n&&rm.enqueueReplaceState(a,a.state,null)}function ys(n,a){var o=a;if("ref"in a){o={};for(var l in a)l!=="ref"&&(o[l]=a[l])}if(n=n.defaultProps){o===a&&(o=v({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var th=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function a_(n){th(n)}function s_(n){console.error(n)}function o_(n){th(n)}function nh(n,a){try{var o=n.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function l_(n,a,o){try{var l=n.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function im(n,a,o){return o=Zi(o),o.tag=3,o.payload={element:null},o.callback=function(){nh(n,a)},o}function u_(n){return n=Zi(n),n.tag=3,n}function c_(n,a,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){l_(a,o,l)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){l_(a,o,l),typeof f!="function"&&(la===null?la=new Set([this]):la.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function XA(n,a,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=o.alternate,a!==null&&Ml(a,o,f,!0),o=sr.current,o!==null){switch(o.tag){case 13:return qr===null?xm():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===Md?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([l]):a.add(l),Dm(n,l,f)),!1;case 22:return o.flags|=65536,l===Md?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([l]):o.add(l)),Dm(n,l,f)),!1}throw Error(i(435,o.tag))}return Dm(n,l,f),xm(),!1}if(Ze)return a=sr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,l!==Rd&&(n=Error(i(422),{cause:l}),Ol(nr(n,o)))):(l!==Rd&&(a=Error(i(423),{cause:l}),Ol(nr(a,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=nr(l,o),f=im(n.stateNode,l,f),kd(n,f),Rt!==4&&(Rt=2)),!1;var m=Error(i(520),{cause:l});if(m=nr(m,o),Jl===null?Jl=[m]:Jl.push(m),Rt!==4&&(Rt=2),a===null)return!0;l=nr(l,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=im(o.stateNode,l,n),kd(o,n),!1;case 1:if(a=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(la===null||!la.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=u_(f),c_(f,n,o,l),kd(o,f),!1}o=o.return}while(o!==null);return!1}var h_=Error(i(461)),Wt=!1;function cn(n,a,o,l){a.child=n===null?t_(a,null,o,l):vo(a,n.child,o,l)}function f_(n,a,o,l,f){o=o.render;var m=a.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return ms(a),l=Bd(n,a,o,T,m,f),S=Hd(),n!==null&&!Wt?(qd(n,a,f),Ri(n,a,f)):(Ze&&S&&Sd(a),a.flags|=1,cn(n,a,l,f),a.child)}function d_(n,a,o,l,f){if(n===null){var m=o.type;return typeof m=="function"&&!Td(m)&&m.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=m,m_(n,a,m,l,f)):(n=Pc(o.type,null,l,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(m=n.child,!fm(n,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:xl,o(T,l)&&n.ref===a.ref)return Ri(n,a,f)}return a.flags|=1,n=_i(m,l),n.ref=a.ref,n.return=a,a.child=n}function m_(n,a,o,l,f){if(n!==null){var m=n.memoizedProps;if(xl(m,l)&&n.ref===a.ref)if(Wt=!1,a.pendingProps=l=m,fm(n,f))(n.flags&131072)!==0&&(Wt=!0);else return a.lanes=n.lanes,Ri(n,a,f)}return am(n,a,o,l,f)}function g_(n,a,o){var l=a.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((a.flags&128)!==0){if(l=m!==null?m.baseLanes|o:o,n!==null){for(f=a.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;a.childLanes=m&~l}else a.childLanes=0,a.child=null;return p_(n,a,l,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&zc(a,m!==null?m.cachePool:null),m!==null?mv(a,m):jd(),n_(a);else return a.lanes=a.childLanes=536870912,p_(n,a,m!==null?m.baseLanes|o:o,o)}else m!==null?(zc(a,m.cachePool),mv(a,m),na(),a.memoizedState=null):(n!==null&&zc(a,null),jd(),na());return cn(n,a,f,o),a.child}function p_(n,a,o,l){var f=Od();return f=f===null?null:{parent:qt._currentValue,pool:f},a.memoizedState={baseLanes:o,cachePool:f},n!==null&&zc(a,null),jd(),n_(a),n!==null&&Ml(n,a,l,!0),null}function rh(n,a){var o=a.ref;if(o===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(a.flags|=4194816)}}function am(n,a,o,l,f){return ms(a),o=Bd(n,a,o,l,void 0,f),l=Hd(),n!==null&&!Wt?(qd(n,a,f),Ri(n,a,f)):(Ze&&l&&Sd(a),a.flags|=1,cn(n,a,o,f),a.child)}function y_(n,a,o,l,f,m){return ms(a),a.updateQueue=null,o=pv(a,l,o,f),gv(n),l=Hd(),n!==null&&!Wt?(qd(n,a,m),Ri(n,a,m)):(Ze&&l&&Sd(a),a.flags|=1,cn(n,a,o,m),a.child)}function v_(n,a,o,l,f){if(ms(a),a.stateNode===null){var m=oo,T=o.contextType;typeof T=="object"&&T!==null&&(m=vn(T)),m=new o(l,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=rm,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=l,m.state=a.memoizedState,m.refs={},Vd(a),T=o.contextType,m.context=typeof T=="object"&&T!==null?vn(T):oo,m.state=a.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(nm(a,o,T,l),m.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&rm.enqueueReplaceState(m,m.state,null),zl(a,l,m,f),Ul(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(n===null){m=a.stateNode;var S=a.memoizedProps,N=ys(o,S);m.props=N;var Y=m.context,ne=o.contextType;T=oo,typeof ne=="object"&&ne!==null&&(T=vn(ne));var oe=o.getDerivedStateFromProps;ne=typeof oe=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,ne||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||Y!==T)&&i_(a,m,l,T),Wi=!1;var $=a.memoizedState;m.state=$,zl(a,l,m,f),Ul(),Y=a.memoizedState,S||$!==Y||Wi?(typeof oe=="function"&&(nm(a,o,oe,l),Y=a.memoizedState),(N=Wi||r_(a,o,N,l,$,Y,T))?(ne||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=Y),m.props=l,m.state=Y,m.context=T,l=N):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{m=a.stateNode,Pd(n,a),T=a.memoizedProps,ne=ys(o,T),m.props=ne,oe=a.pendingProps,$=m.context,Y=o.contextType,N=oo,typeof Y=="object"&&Y!==null&&(N=vn(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==oe||$!==N)&&i_(a,m,l,N),Wi=!1,$=a.memoizedState,m.state=$,zl(a,l,m,f),Ul();var Q=a.memoizedState;T!==oe||$!==Q||Wi||n!==null&&n.dependencies!==null&&jc(n.dependencies)?(typeof S=="function"&&(nm(a,o,S,l),Q=a.memoizedState),(ne=Wi||r_(a,o,ne,l,$,Q,N)||n!==null&&n.dependencies!==null&&jc(n.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,N)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=Q),m.props=l,m.state=Q,m.context=N,l=ne):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(a.flags|=1024),l=!1)}return m=l,rh(n,a),l=(a.flags&128)!==0,m||l?(m=a.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,n!==null&&l?(a.child=vo(a,n.child,null,f),a.child=vo(a,null,o,f)):cn(n,a,o,f),a.memoizedState=m.state,n=a.child):n=Ri(n,a,f),n}function __(n,a,o,l){return Nl(),a.flags|=256,cn(n,a,o,l),a.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function om(n){return{baseLanes:n,cachePool:sv()}}function lm(n,a,o){return n=n!==null?n.childLanes&~o:0,a&&(n|=or),n}function E_(n,a,o){var l=a.pendingProps,f=!1,m=(a.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Ft.current&2)!==0),T&&(f=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,n===null){if(Ze){if(f?ta(a):na(),Ze){var S=At,N;if(N=S){e:{for(N=S,S=Hr;N.nodeType!==8;){if(!S){S=null;break e}if(N=Tr(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(a.memoizedState={dehydrated:S,treeContext:us!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},N=jn(18,null,null,0),N.stateNode=S,N.return=a,a.child=N,xn=a,At=null,N=!0):N=!1}N||fs(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Gm(S)?a.lanes=32:a.lanes=536870912,null;Ai(a)}return S=l.children,l=l.fallback,f?(na(),f=a.mode,S=ih({mode:"hidden",children:S},f),l=ls(l,f,o,null),S.return=a,l.return=a,S.sibling=l,a.child=S,f=a.child,f.memoizedState=om(o),f.childLanes=lm(n,T,o),a.memoizedState=sm,l):(ta(a),um(a,S))}if(N=n.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(m)a.flags&256?(ta(a),a.flags&=-257,a=cm(n,a,o)):a.memoizedState!==null?(na(),a.child=n.child,a.flags|=128,a=null):(na(),f=l.fallback,S=a.mode,l=ih({mode:"visible",children:l.children},S),f=ls(f,S,o,null),f.flags|=2,l.return=a,f.return=a,l.sibling=f,a.child=l,vo(a,n.child,null,o),l=a.child,l.memoizedState=om(o),l.childLanes=lm(n,T,o),a.memoizedState=sm,a=f);else if(ta(a),Gm(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var Y=T.dgst;T=Y,l=Error(i(419)),l.stack="",l.digest=T,Ol({value:l,source:null,stack:null}),a=cm(n,a,o)}else if(Wt||Ml(n,a,o,!1),T=(o&n.childLanes)!==0,Wt||T){if(T=dt,T!==null&&(l=o&-o,l=(l&42)!==0?1:Ke(l),l=(l&(T.suspendedLanes|o))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,so(n,l),qn(T,n,l),h_;S.data==="$?"||xm(),a=cm(n,a,o)}else S.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=N.treeContext,At=Tr(S.nextSibling),xn=a,Ze=!0,hs=null,Hr=!1,n!==null&&(ir[ar++]=Ei,ir[ar++]=Ti,ir[ar++]=us,Ei=n.id,Ti=n.overflow,us=a),a=um(a,l.children),a.flags|=4096);return a}return f?(na(),f=l.fallback,S=a.mode,N=n.child,Y=N.sibling,l=_i(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,Y!==null?f=_i(Y,f):(f=ls(f,S,o,null),f.flags|=2),f.return=a,l.return=a,l.sibling=f,a.child=l,l=f,f=a.child,S=n.child.memoizedState,S===null?S=om(o):(N=S.cachePool,N!==null?(Y=qt._currentValue,N=N.parent!==Y?{parent:Y,pool:Y}:N):N=sv(),S={baseLanes:S.baseLanes|o,cachePool:N}),f.memoizedState=S,f.childLanes=lm(n,T,o),a.memoizedState=sm,l):(ta(a),o=n.child,n=o.sibling,o=_i(o,{mode:"visible",children:l.children}),o.return=a,o.sibling=null,n!==null&&(T=a.deletions,T===null?(a.deletions=[n],a.flags|=16):T.push(n)),a.child=o,a.memoizedState=null,o)}function um(n,a){return a=ih({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function ih(n,a){return n=jn(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function cm(n,a,o){return vo(a,n.child,null,o),n=um(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function T_(n,a,o){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a),xd(n.return,a,o)}function hm(n,a,o,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=o,m.tailMode=f)}function b_(n,a,o){var l=a.pendingProps,f=l.revealOrder,m=l.tail;if(cn(n,a,l.children,o),l=Ft.current,(l&2)!==0)l=l&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&T_(n,o,a);else if(n.tag===19)T_(n,o,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Ft,l),f){case"forwards":for(o=a.child,f=null;o!==null;)n=o.alternate,n!==null&&eh(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),hm(a,!1,f,o,m);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&eh(n)===null){a.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}hm(a,!0,o,null,m);break;case"together":hm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ri(n,a,o){if(n!==null&&(a.dependencies=n.dependencies),oa|=a.lanes,(o&a.childLanes)===0)if(n!==null){if(Ml(n,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,o=_i(n,n.pendingProps),a.child=o,o.return=a;n.sibling!==null;)n=n.sibling,o=o.sibling=_i(n,n.pendingProps),o.return=a;o.sibling=null}return a.child}function fm(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&jc(n)))}function WA(n,a,o){switch(a.tag){case 3:Ve(a,a.stateNode.containerInfo),Xi(a,qt,n.memoizedState.cache),Nl();break;case 27:case 5:ut(a);break;case 4:Ve(a,a.stateNode.containerInfo);break;case 10:Xi(a,a.type,a.memoizedProps.value);break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(ta(a),a.flags|=128,null):(o&a.child.childLanes)!==0?E_(n,a,o):(ta(a),n=Ri(n,a,o),n!==null?n.sibling:null);ta(a);break;case 19:var f=(n.flags&128)!==0;if(l=(o&a.childLanes)!==0,l||(Ml(n,a,o,!1),l=(o&a.childLanes)!==0),f){if(l)return b_(n,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Ft,Ft.current),l)break;return null;case 22:case 23:return a.lanes=0,g_(n,a,o);case 24:Xi(a,qt,n.memoizedState.cache)}return Ri(n,a,o)}function w_(n,a,o){if(n!==null)if(n.memoizedProps!==a.pendingProps)Wt=!0;else{if(!fm(n,o)&&(a.flags&128)===0)return Wt=!1,WA(n,a,o);Wt=(n.flags&131072)!==0}else Wt=!1,Ze&&(a.flags&1048576)!==0&&Jy(a,Lc,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var l=a.elementType,f=l._init;if(l=f(l._payload),a.type=l,typeof l=="function")Td(l)?(n=ys(l,n),a.tag=1,a=v_(null,a,l,n,o)):(a.tag=0,a=am(null,a,l,n,o));else{if(l!=null){if(f=l.$$typeof,f===ie){a.tag=11,a=f_(null,a,l,n,o);break e}else if(f===U){a.tag=14,a=d_(null,a,l,n,o);break e}}throw a=he(l)||l,Error(i(306,a,""))}}return a;case 0:return am(n,a,a.type,a.pendingProps,o);case 1:return l=a.type,f=ys(l,a.pendingProps),v_(n,a,l,f,o);case 3:e:{if(Ve(a,a.stateNode.containerInfo),n===null)throw Error(i(387));l=a.pendingProps;var m=a.memoizedState;f=m.element,Pd(n,a),zl(a,l,null,o);var T=a.memoizedState;if(l=T.cache,Xi(a,qt,l),l!==m.cache&&Cd(a,[qt],o,!0),Ul(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=__(n,a,l,o);break e}else if(l!==f){f=nr(Error(i(424)),a),Ol(f),a=__(n,a,l,o);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(At=Tr(n.firstChild),xn=a,Ze=!0,hs=null,Hr=!0,o=t_(a,null,l,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Nl(),l===f){a=Ri(n,a,o);break e}cn(n,a,l,o)}a=a.child}return a;case 26:return rh(n,a),n===null?(o=I0(a.type,null,a.pendingProps,null))?a.memoizedState=o:Ze||(o=a.type,n=a.pendingProps,l=vh(_e.current).createElement(o),l[St]=a,l[pt]=n,fn(l,o,n),Ne(l),a.stateNode=l):a.memoizedState=I0(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return ut(a),n===null&&Ze&&(l=a.stateNode=S0(a.type,a.pendingProps,_e.current),xn=a,Hr=!0,f=At,ha(a.type)?(Ym=f,At=Tr(l.firstChild)):At=f),cn(n,a,a.pendingProps.children,o),rh(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Ze&&((f=l=At)&&(l=A1(l,a.type,a.pendingProps,Hr),l!==null?(a.stateNode=l,xn=a,At=Tr(l.firstChild),Hr=!1,f=!0):f=!1),f||fs(a)),ut(a),f=a.type,m=a.pendingProps,T=n!==null?n.memoizedProps:null,l=m.children,Hm(f,m)?l=null:T!==null&&Hm(f,T)&&(a.flags|=32),a.memoizedState!==null&&(f=Bd(n,a,qA,null,null,o),lu._currentValue=f),rh(n,a),cn(n,a,l,o),a.child;case 6:return n===null&&Ze&&((n=o=At)&&(o=R1(o,a.pendingProps,Hr),o!==null?(a.stateNode=o,xn=a,At=null,n=!0):n=!1),n||fs(a)),null;case 13:return E_(n,a,o);case 4:return Ve(a,a.stateNode.containerInfo),l=a.pendingProps,n===null?a.child=vo(a,null,l,o):cn(n,a,l,o),a.child;case 11:return f_(n,a,a.type,a.pendingProps,o);case 7:return cn(n,a,a.pendingProps,o),a.child;case 8:return cn(n,a,a.pendingProps.children,o),a.child;case 12:return cn(n,a,a.pendingProps.children,o),a.child;case 10:return l=a.pendingProps,Xi(a,a.type,l.value),cn(n,a,l.children,o),a.child;case 9:return f=a.type._context,l=a.pendingProps.children,ms(a),f=vn(f),l=l(f),a.flags|=1,cn(n,a,l,o),a.child;case 14:return d_(n,a,a.type,a.pendingProps,o);case 15:return m_(n,a,a.type,a.pendingProps,o);case 19:return b_(n,a,o);case 31:return l=a.pendingProps,o=a.mode,l={mode:l.mode,children:l.children},n===null?(o=ih(l,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=_i(n.child,l),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return g_(n,a,o);case 24:return ms(a),l=vn(qt),n===null?(f=Od(),f===null&&(f=dt,m=Dd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),a.memoizedState={parent:l,cache:f},Vd(a),Xi(a,qt,f)):((n.lanes&o)!==0&&(Pd(n,a),zl(a,null,null,o),Ul()),f=n.memoizedState,m=a.memoizedState,f.parent!==l?(f={parent:l,cache:l},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Xi(a,qt,l)):(l=m.cache,Xi(a,qt,l),l!==f.cache&&Cd(a,[qt],o,!0))),cn(n,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ii(n){n.flags|=4}function S_(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!O0(a)){if(a=sr.current,a!==null&&((Fe&4194048)===Fe?qr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||a!==qr))throw Ll=Md,ov;n.flags|=8192}}function ah(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Gi():536870912,n.lanes|=a,bo|=a)}function $l(n,a){if(!Ze)switch(n.tailMode){case"hidden":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Et(n){var a=n.alternate!==null&&n.alternate.child===n.child,o=0,l=0;if(a)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=o,a}function ZA(n,a,o){var l=a.pendingProps;switch(Ad(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(a),null;case 1:return Et(a),null;case 3:return o=a.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),wi(qt),lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Dl(a)?Ii(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,nv())),Et(a),null;case 26:return o=a.memoizedState,n===null?(Ii(a),o!==null?(Et(a),S_(a,o)):(Et(a),a.flags&=-16777217)):o?o!==n.memoizedState?(Ii(a),Et(a),S_(a,o)):(Et(a),a.flags&=-16777217):(n.memoizedProps!==l&&Ii(a),Et(a),a.flags&=-16777217),null;case 27:wt(a),o=_e.current;var f=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==l&&Ii(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return Et(a),null}n=ge.current,Dl(a)?ev(a):(n=S0(f,l,o),a.stateNode=n,Ii(a))}return Et(a),null;case 5:if(wt(a),o=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==l&&Ii(a);else{if(!l){if(a.stateNode===null)throw Error(i(166));return Et(a),null}if(n=ge.current,Dl(a))ev(a);else{switch(f=vh(_e.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(o,{is:l.is}):f.createElement(o)}}n[St]=a,n[pt]=l;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=n;e:switch(fn(n,o,l),o){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ii(a)}}return Et(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==l&&Ii(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(i(166));if(n=_e.current,Dl(a)){if(n=a.stateNode,o=a.memoizedProps,l=null,f=xn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[St]=a,n=!!(n.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||y0(n.nodeValue,o)),n||fs(a)}else n=vh(n).createTextNode(l),n[St]=a,a.stateNode=n}return Et(a),null;case 13:if(l=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Dl(a),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[St]=a}else Nl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Et(a),f=!1}else f=nv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Ai(a),a):(Ai(a),null)}if(Ai(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=l!==null,n=n!==null&&n.memoizedState!==null,o){l=a.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return o!==n&&o&&(a.child.flags|=8192),ah(a,a.updateQueue),Et(a),null;case 4:return lt(),n===null&&Lm(a.stateNode.containerInfo),Et(a),null;case 10:return wi(a.type),Et(a),null;case 19:if(ce(Ft),f=a.memoizedState,f===null)return Et(a),null;if(l=(a.flags&128)!==0,m=f.rendering,m===null)if(l)$l(f,!1);else{if(Rt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(m=eh(n),m!==null){for(a.flags|=128,$l(f,!1),n=m.updateQueue,a.updateQueue=n,ah(a,n),a.subtreeFlags=0,n=o,o=a.child;o!==null;)Zy(o,n),o=o.sibling;return se(Ft,Ft.current&1|2),a.child}n=n.sibling}f.tail!==null&&rn()>lh&&(a.flags|=128,l=!0,$l(f,!1),a.lanes=4194304)}else{if(!l)if(n=eh(m),n!==null){if(a.flags|=128,l=!0,n=n.updateQueue,a.updateQueue=n,ah(a,n),$l(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ze)return Et(a),null}else 2*rn()-f.renderingStartTime>lh&&o!==536870912&&(a.flags|=128,l=!0,$l(f,!1),a.lanes=4194304);f.isBackwards?(m.sibling=a.child,a.child=m):(n=f.last,n!==null?n.sibling=m:a.child=m,f.last=m)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=rn(),a.sibling=null,n=Ft.current,se(Ft,l?n&1|2:n&1),a):(Et(a),null);case 22:case 23:return Ai(a),Ud(),l=a.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(o&536870912)!==0&&(a.flags&128)===0&&(Et(a),a.subtreeFlags&6&&(a.flags|=8192)):Et(a),o=a.updateQueue,o!==null&&ah(a,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==o&&(a.flags|=2048),n!==null&&ce(gs),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),wi(qt),Et(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function JA(n,a){switch(Ad(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return wi(qt),lt(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return wt(a),null;case 13:if(Ai(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Nl()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return ce(Ft),null;case 4:return lt(),null;case 10:return wi(a.type),null;case 22:case 23:return Ai(a),Ud(),n!==null&&ce(gs),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return wi(qt),null;case 25:return null;default:return null}}function A_(n,a){switch(Ad(a),a.tag){case 3:wi(qt),lt();break;case 26:case 27:case 5:wt(a);break;case 4:lt();break;case 13:Ai(a);break;case 19:ce(Ft);break;case 10:wi(a.type);break;case 22:case 23:Ai(a),Ud(),n!==null&&ce(gs);break;case 24:wi(qt)}}function Ql(n,a){try{var o=a.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&n)===n){l=void 0;var m=o.create,T=o.inst;l=m(),T.destroy=l}o=o.next}while(o!==f)}}catch(S){ft(a,a.return,S)}}function ra(n,a,o){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=a;var N=o,Y=S;try{Y()}catch(ne){ft(f,N,ne)}}}l=l.next}while(l!==m)}}catch(ne){ft(a,a.return,ne)}}function R_(n){var a=n.updateQueue;if(a!==null){var o=n.stateNode;try{dv(a,o)}catch(l){ft(n,n.return,l)}}}function I_(n,a,o){o.props=ys(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(l){ft(n,a,l)}}function Kl(n,a){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof o=="function"?n.refCleanup=o(l):o.current=l}}catch(f){ft(n,a,f)}}function Fr(n,a){var o=n.ref,l=n.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){ft(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ft(n,a,f)}else o.current=null}function x_(n){var a=n.type,o=n.memoizedProps,l=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){ft(n,n.return,f)}}function dm(n,a,o){try{var l=n.stateNode;E1(l,n.type,o,a),l[pt]=a}catch(f){ft(n,n.return,f)}}function C_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ha(n.type)||n.tag===4}function mm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||C_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ha(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gm(n,a,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(n),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=yh));else if(l!==4&&(l===27&&ha(n.type)&&(o=n.stateNode,a=null),n=n.child,n!==null))for(gm(n,a,o),n=n.sibling;n!==null;)gm(n,a,o),n=n.sibling}function sh(n,a,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,a?o.insertBefore(n,a):o.appendChild(n);else if(l!==4&&(l===27&&ha(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(sh(n,a,o),n=n.sibling;n!==null;)sh(n,a,o),n=n.sibling}function D_(n){var a=n.stateNode,o=n.memoizedProps;try{for(var l=n.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);fn(a,l,o),a[St]=n,a[pt]=o}catch(m){ft(n,n.return,m)}}var xi=!1,Ct=!1,pm=!1,N_=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function e1(n,a){if(n=n.containerInfo,zm=Sh,n=Hy(n),md(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var T=0,S=-1,N=-1,Y=0,ne=0,oe=n,$=null;t:for(;;){for(var Q;oe!==o||f!==0&&oe.nodeType!==3||(S=T+f),oe!==m||l!==0&&oe.nodeType!==3||(N=T+l),oe.nodeType===3&&(T+=oe.nodeValue.length),(Q=oe.firstChild)!==null;)$=oe,oe=Q;for(;;){if(oe===n)break t;if($===o&&++Y===f&&(S=T),$===m&&++ne===l&&(N=T),(Q=oe.nextSibling)!==null)break;oe=$,$=oe.parentNode}oe=Q}o=S===-1||N===-1?null:{start:S,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bm={focusedElem:n,selectionRange:o},Sh=!1,Zt=a;Zt!==null;)if(a=Zt,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,Zt=n;else for(;Zt!==null;){switch(a=Zt,m=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=a,f=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var xe=ys(o.type,f,o.elementType===o.type);n=l.getSnapshotBeforeUpdate(xe,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Se){ft(o,o.return,Se)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,o=n.nodeType,o===9)Fm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,Zt=n;break}Zt=a.return}}function O_(n,a,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:ia(n,o),l&4&&Ql(5,o);break;case 1:if(ia(n,o),l&4)if(n=o.stateNode,a===null)try{n.componentDidMount()}catch(T){ft(o,o.return,T)}else{var f=ys(o.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(T){ft(o,o.return,T)}}l&64&&R_(o),l&512&&Kl(o,o.return);break;case 3:if(ia(n,o),l&64&&(n=o.updateQueue,n!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{dv(n,a)}catch(T){ft(o,o.return,T)}}break;case 27:a===null&&l&4&&D_(o);case 26:case 5:ia(n,o),a===null&&l&4&&x_(o),l&512&&Kl(o,o.return);break;case 12:ia(n,o);break;case 13:ia(n,o),l&4&&P_(n,o),l&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=u1.bind(null,o),I1(n,o))));break;case 22:if(l=o.memoizedState!==null||xi,!l){a=a!==null&&a.memoizedState!==null||Ct,f=xi;var m=Ct;xi=l,(Ct=a)&&!m?aa(n,o,(o.subtreeFlags&8772)!==0):ia(n,o),xi=f,Ct=m}break;case 30:break;default:ia(n,o)}}function M_(n){var a=n.alternate;a!==null&&(n.alternate=null,M_(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&gr(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yt=null,Nn=!1;function Ci(n,a,o){for(o=o.child;o!==null;)V_(n,a,o),o=o.sibling}function V_(n,a,o){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(gt,o)}catch{}switch(o.tag){case 26:Ct||Fr(o,a),Ci(n,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ct||Fr(o,a);var l=yt,f=Nn;ha(o.type)&&(yt=o.stateNode,Nn=!1),Ci(n,a,o),iu(o.stateNode),yt=l,Nn=f;break;case 5:Ct||Fr(o,a);case 6:if(l=yt,f=Nn,yt=null,Ci(n,a,o),yt=l,Nn=f,yt!==null)if(Nn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(o.stateNode)}catch(m){ft(o,a,m)}else try{yt.removeChild(o.stateNode)}catch(m){ft(o,a,m)}break;case 18:yt!==null&&(Nn?(n=yt,b0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),fu(n)):b0(yt,o.stateNode));break;case 4:l=yt,f=Nn,yt=o.stateNode.containerInfo,Nn=!0,Ci(n,a,o),yt=l,Nn=f;break;case 0:case 11:case 14:case 15:Ct||ra(2,o,a),Ct||ra(4,o,a),Ci(n,a,o);break;case 1:Ct||(Fr(o,a),l=o.stateNode,typeof l.componentWillUnmount=="function"&&I_(o,a,l)),Ci(n,a,o);break;case 21:Ci(n,a,o);break;case 22:Ct=(l=Ct)||o.memoizedState!==null,Ci(n,a,o),Ct=l;break;default:Ci(n,a,o)}}function P_(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{fu(n)}catch(o){ft(a,a.return,o)}}function t1(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new N_),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new N_),a;default:throw Error(i(435,n.tag))}}function ym(n,a){var o=t1(n);a.forEach(function(l){var f=c1.bind(null,n,l);o.has(l)||(o.add(l),l.then(f,f))})}function Un(n,a){var o=a.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],m=n,T=a,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(ha(S.type)){yt=S.stateNode,Nn=!1;break e}break;case 5:yt=S.stateNode,Nn=!1;break e;case 3:case 4:yt=S.stateNode.containerInfo,Nn=!0;break e}S=S.return}if(yt===null)throw Error(i(160));V_(m,T,f),yt=null,Nn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)k_(a,n),a=a.sibling}var Er=null;function k_(n,a){var o=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Un(a,n),zn(n),l&4&&(ra(3,n,n.return),Ql(3,n),ra(5,n,n.return));break;case 1:Un(a,n),zn(n),l&512&&(Ct||o===null||Fr(o,o.return)),l&64&&xi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=Er;if(Un(a,n),zn(n),l&512&&(Ct||o===null||Fr(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=n.memoizedState,o===null)if(l===null)if(n.stateNode===null){e:{l=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[mr]||m[St]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),fn(m,l,o),m[St]=n,Ne(m),l=m;break e;case"link":var T=D0("link","href",f).get(l+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}m=f.createElement(l),fn(m,l,o),f.head.appendChild(m);break;case"meta":if(T=D0("meta","content",f).get(l+(o.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}m=f.createElement(l),fn(m,l,o),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[St]=n,Ne(m),l=m}n.stateNode=l}else N0(f,n.type,n.stateNode);else n.stateNode=C0(f,l,n.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?N0(f,n.type,n.stateNode):C0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&dm(n,n.memoizedProps,o.memoizedProps)}break;case 27:Un(a,n),zn(n),l&512&&(Ct||o===null||Fr(o,o.return)),o!==null&&l&4&&dm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Un(a,n),zn(n),l&512&&(Ct||o===null||Fr(o,o.return)),n.flags&32){f=n.stateNode;try{Zn(f,"")}catch(Q){ft(n,n.return,Q)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,dm(n,f,o!==null?o.memoizedProps:f)),l&1024&&(pm=!0);break;case 6:if(Un(a,n),zn(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,o=n.stateNode;try{o.nodeValue=l}catch(Q){ft(n,n.return,Q)}}break;case 3:if(Th=null,f=Er,Er=_h(a.containerInfo),Un(a,n),Er=f,zn(n),l&4&&o!==null&&o.memoizedState.isDehydrated)try{fu(a.containerInfo)}catch(Q){ft(n,n.return,Q)}pm&&(pm=!1,L_(n));break;case 4:l=Er,Er=_h(n.stateNode.containerInfo),Un(a,n),zn(n),Er=l;break;case 12:Un(a,n),zn(n);break;case 13:Un(a,n),zn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(wm=rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ym(n,l)));break;case 22:f=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,Y=xi,ne=Ct;if(xi=Y||f,Ct=ne||N,Un(a,n),Ct=ne,xi=Y,zn(n),l&8192)e:for(a=n.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||N||xi||Ct||vs(n)),o=null,a=n;;){if(a.tag===5||a.tag===26){if(o===null){N=o=a;try{if(m=N.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=N.stateNode;var oe=N.memoizedProps.style,$=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){ft(N,N.return,Q)}}}else if(a.tag===6){if(o===null){N=a;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(Q){ft(N,N.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=n.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,ym(n,o))));break;case 19:Un(a,n),zn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ym(n,l)));break;case 30:break;case 21:break;default:Un(a,n),zn(n)}}function zn(n){var a=n.flags;if(a&2){try{for(var o,l=n.return;l!==null;){if(C_(l)){o=l;break}l=l.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=mm(n);sh(n,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(Zn(T,""),o.flags&=-33);var S=mm(n);sh(n,S,T);break;case 3:case 4:var N=o.stateNode.containerInfo,Y=mm(n);gm(n,Y,N);break;default:throw Error(i(161))}}catch(ne){ft(n,n.return,ne)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function L_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;L_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function ia(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)O_(n,a.alternate,a),a=a.sibling}function vs(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ra(4,a,a.return),vs(a);break;case 1:Fr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&I_(a,a.return,o),vs(a);break;case 27:iu(a.stateNode);case 26:case 5:Fr(a,a.return),vs(a);break;case 22:a.memoizedState===null&&vs(a);break;case 30:vs(a);break;default:vs(a)}n=n.sibling}}function aa(n,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,f=n,m=a,T=m.flags;switch(m.tag){case 0:case 11:case 15:aa(f,m,o),Ql(4,m);break;case 1:if(aa(f,m,o),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){ft(l,l.return,Y)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)fv(N[f],S)}catch(Y){ft(l,l.return,Y)}}o&&T&64&&R_(m),Kl(m,m.return);break;case 27:D_(m);case 26:case 5:aa(f,m,o),o&&l===null&&T&4&&x_(m),Kl(m,m.return);break;case 12:aa(f,m,o);break;case 13:aa(f,m,o),o&&T&4&&P_(f,m);break;case 22:m.memoizedState===null&&aa(f,m,o),Kl(m,m.return);break;case 30:break;default:aa(f,m,o)}a=a.sibling}}function vm(n,a){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Vl(o))}function _m(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Vl(n))}function Gr(n,a,o,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)j_(n,a,o,l),a=a.sibling}function j_(n,a,o,l){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Gr(n,a,o,l),f&2048&&Ql(9,a);break;case 1:Gr(n,a,o,l);break;case 3:Gr(n,a,o,l),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Vl(n)));break;case 12:if(f&2048){Gr(n,a,o,l),n=a.stateNode;try{var m=a.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){ft(a,a.return,N)}}else Gr(n,a,o,l);break;case 13:Gr(n,a,o,l);break;case 23:break;case 22:m=a.stateNode,T=a.alternate,a.memoizedState!==null?m._visibility&2?Gr(n,a,o,l):Xl(n,a):m._visibility&2?Gr(n,a,o,l):(m._visibility|=2,_o(n,a,o,l,(a.subtreeFlags&10256)!==0)),f&2048&&vm(T,a);break;case 24:Gr(n,a,o,l),f&2048&&_m(a.alternate,a);break;default:Gr(n,a,o,l)}}function _o(n,a,o,l,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var m=n,T=a,S=o,N=l,Y=T.flags;switch(T.tag){case 0:case 11:case 15:_o(m,T,S,N,f),Ql(8,T);break;case 23:break;case 22:var ne=T.stateNode;T.memoizedState!==null?ne._visibility&2?_o(m,T,S,N,f):Xl(m,T):(ne._visibility|=2,_o(m,T,S,N,f)),f&&Y&2048&&vm(T.alternate,T);break;case 24:_o(m,T,S,N,f),f&&Y&2048&&_m(T.alternate,T);break;default:_o(m,T,S,N,f)}a=a.sibling}}function Xl(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=n,l=a,f=l.flags;switch(l.tag){case 22:Xl(o,l),f&2048&&vm(l.alternate,l);break;case 24:Xl(o,l),f&2048&&_m(l.alternate,l);break;default:Xl(o,l)}a=a.sibling}}var Wl=8192;function Eo(n){if(n.subtreeFlags&Wl)for(n=n.child;n!==null;)U_(n),n=n.sibling}function U_(n){switch(n.tag){case 26:Eo(n),n.flags&Wl&&n.memoizedState!==null&&z1(Er,n.memoizedState,n.memoizedProps);break;case 5:Eo(n);break;case 3:case 4:var a=Er;Er=_h(n.stateNode.containerInfo),Eo(n),Er=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Wl,Wl=16777216,Eo(n),Wl=a):Eo(n));break;default:Eo(n)}}function z_(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Zl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var l=a[o];Zt=l,H_(l,n)}z_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)B_(n),n=n.sibling}function B_(n){switch(n.tag){case 0:case 11:case 15:Zl(n),n.flags&2048&&ra(9,n,n.return);break;case 3:Zl(n);break;case 12:Zl(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,oh(n)):Zl(n);break;default:Zl(n)}}function oh(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var l=a[o];Zt=l,H_(l,n)}z_(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ra(8,a,a.return),oh(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,oh(a));break;default:oh(a)}n=n.sibling}}function H_(n,a){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:ra(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Zt=l;else e:for(o=n;Zt!==null;){l=Zt;var f=l.sibling,m=l.return;if(M_(l),l===o){Zt=null;break e}if(f!==null){f.return=m,Zt=f;break e}Zt=m}}}var n1={getCacheForType:function(n){var a=vn(qt),o=a.data.get(n);return o===void 0&&(o=n(),a.data.set(n,o)),o}},r1=typeof WeakMap=="function"?WeakMap:Map,tt=0,dt=null,Le=null,Fe=0,nt=0,Bn=null,sa=!1,To=!1,Em=!1,Di=0,Rt=0,oa=0,_s=0,Tm=0,or=0,bo=0,Jl=null,On=null,bm=!1,wm=0,lh=1/0,uh=null,la=null,hn=0,ua=null,wo=null,So=0,Sm=0,Am=null,q_=null,eu=0,Rm=null;function Hn(){if((tt&2)!==0&&Fe!==0)return Fe&-Fe;if(P.T!==null){var n=co;return n!==0?n:Mm()}return Mr()}function F_(){or===0&&(or=(Fe&536870912)===0||Ze?Ga():536870912);var n=sr.current;return n!==null&&(n.flags|=32),or}function qn(n,a,o){(n===dt&&(nt===2||nt===9)||n.cancelPendingCommit!==null)&&(Ao(n,0),ca(n,Fe,or,!1)),Kn(n,o),((tt&2)===0||n!==dt)&&(n===dt&&((tt&2)===0&&(_s|=o),Rt===4&&ca(n,Fe,or,!1)),Yr(n))}function G_(n,a,o){if((tt&6)!==0)throw Error(i(327));var l=!o&&(a&124)===0&&(a&n.expiredLanes)===0||Nr(n,a),f=l?s1(n,a):Cm(n,a,!0),m=l;do{if(f===0){To&&!l&&ca(n,a,0,!1);break}else{if(o=n.current.alternate,m&&!i1(o)){f=Cm(n,a,!1),m=!1;continue}if(f===2){if(m=a,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var S=n;f=Jl;var N=S.current.memoizedState.isDehydrated;if(N&&(Ao(S,T).flags|=256),T=Cm(S,T,!1),T!==2){if(Em&&!N){S.errorRecoveryDisabledLanes|=m,_s|=m,f=4;break e}m=On,On=f,m!==null&&(On===null?On=m:On.push.apply(On,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Ao(n,0),ca(n,a,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ca(l,a,or,!sa);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=wm+300-rn(),10<f)){if(ca(l,a,or,!sa),li(l,0,!0)!==0)break e;l.timeoutHandle=E0(Y_.bind(null,l,o,On,uh,bm,a,or,_s,bo,sa,m,2,-0,0),f);break e}Y_(l,o,On,uh,bm,a,or,_s,bo,sa,m,0,-0,0)}}break}while(!0);Yr(n)}function Y_(n,a,o,l,f,m,T,S,N,Y,ne,oe,$,Q){if(n.timeoutHandle=-1,oe=a.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(ou={stylesheets:null,count:0,unsuspend:U1},U_(a),oe=B1(),oe!==null)){n.cancelPendingCommit=oe(J_.bind(null,n,a,m,o,l,f,T,S,N,ne,1,$,Q)),ca(n,m,T,!Y);return}J_(n,a,m,o,l,f,T,S,N)}function i1(n){for(var a=n;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],m=f.getSnapshot;f=f.value;try{if(!Ln(m(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ca(n,a,o,l){a&=~Tm,a&=~_s,n.suspendedLanes|=a,n.pingedLanes&=~a,l&&(n.warmLanes|=a),l=n.expirationTimes;for(var f=a;0<f;){var m=31-Nt(f),T=1<<m;l[m]=-1,f&=~T}o!==0&&mt(n,o,a)}function ch(){return(tt&6)===0?(tu(0),!1):!0}function Im(){if(Le!==null){if(nt===0)var n=Le.return;else n=Le,bi=ds=null,Fd(n),yo=null,Gl=0,n=Le;for(;n!==null;)A_(n.alternate,n),n=n.return;Le=null}}function Ao(n,a){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,b1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Im(),dt=n,Le=o=_i(n.current,null),Fe=a,nt=0,Bn=null,sa=!1,To=Nr(n,a),Em=!1,bo=or=Tm=_s=oa=Rt=0,On=Jl=null,bm=!1,(a&8)!==0&&(a|=a&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=a;0<l;){var f=31-Nt(l),m=1<<f;a|=n[f],l&=~m}return Di=a,Oc(),o}function $_(n,a){Me=null,P.H=Wc,a===kl||a===Bc?(a=cv(),nt=3):a===ov?(a=cv(),nt=4):nt=a===h_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Bn=a,Le===null&&(Rt=1,nh(n,nr(a,n.current)))}function Q_(){var n=P.H;return P.H=Wc,n===null?Wc:n}function K_(){var n=P.A;return P.A=n1,n}function xm(){Rt=4,sa||(Fe&4194048)!==Fe&&sr.current!==null||(To=!0),(oa&134217727)===0&&(_s&134217727)===0||dt===null||ca(dt,Fe,or,!1)}function Cm(n,a,o){var l=tt;tt|=2;var f=Q_(),m=K_();(dt!==n||Fe!==a)&&(uh=null,Ao(n,a)),a=!1;var T=Rt;e:do try{if(nt!==0&&Le!==null){var S=Le,N=Bn;switch(nt){case 8:Im(),T=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(a=!0);var Y=nt;if(nt=0,Bn=null,Ro(n,S,N,Y),o&&To){T=0;break e}break;default:Y=nt,nt=0,Bn=null,Ro(n,S,N,Y)}}a1(),T=Rt;break}catch(ne){$_(n,ne)}while(!0);return a&&n.shellSuspendCounter++,bi=ds=null,tt=l,P.H=f,P.A=m,Le===null&&(dt=null,Fe=0,Oc()),T}function a1(){for(;Le!==null;)X_(Le)}function s1(n,a){var o=tt;tt|=2;var l=Q_(),f=K_();dt!==n||Fe!==a?(uh=null,lh=rn()+500,Ao(n,a)):To=Nr(n,a);e:do try{if(nt!==0&&Le!==null){a=Le;var m=Bn;t:switch(nt){case 1:nt=0,Bn=null,Ro(n,a,m,1);break;case 2:case 9:if(lv(m)){nt=0,Bn=null,W_(a);break}a=function(){nt!==2&&nt!==9||dt!==n||(nt=7),Yr(n)},m.then(a,a);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:lv(m)?(nt=0,Bn=null,W_(a)):(nt=0,Bn=null,Ro(n,a,m,7));break;case 5:var T=null;switch(Le.tag){case 26:T=Le.memoizedState;case 5:case 27:var S=Le;if(!T||O0(T)){nt=0,Bn=null;var N=S.sibling;if(N!==null)Le=N;else{var Y=S.return;Y!==null?(Le=Y,hh(Y)):Le=null}break t}}nt=0,Bn=null,Ro(n,a,m,5);break;case 6:nt=0,Bn=null,Ro(n,a,m,6);break;case 8:Im(),Rt=6;break e;default:throw Error(i(462))}}o1();break}catch(ne){$_(n,ne)}while(!0);return bi=ds=null,P.H=l,P.A=f,tt=o,Le!==null?0:(dt=null,Fe=0,Oc(),Rt)}function o1(){for(;Le!==null&&!fr();)X_(Le)}function X_(n){var a=w_(n.alternate,n,Di);n.memoizedProps=n.pendingProps,a===null?hh(n):Le=a}function W_(n){var a=n,o=a.alternate;switch(a.tag){case 15:case 0:a=y_(o,a,a.pendingProps,a.type,void 0,Fe);break;case 11:a=y_(o,a,a.pendingProps,a.type.render,a.ref,Fe);break;case 5:Fd(a);default:A_(o,a),a=Le=Zy(a,Di),a=w_(o,a,Di)}n.memoizedProps=n.pendingProps,a===null?hh(n):Le=a}function Ro(n,a,o,l){bi=ds=null,Fd(a),yo=null,Gl=0;var f=a.return;try{if(XA(n,f,a,o,Fe)){Rt=1,nh(n,nr(o,n.current)),Le=null;return}}catch(m){if(f!==null)throw Le=f,m;Rt=1,nh(n,nr(o,n.current)),Le=null;return}a.flags&32768?(Ze||l===1?n=!0:To||(Fe&536870912)!==0?n=!1:(sa=n=!0,(l===2||l===9||l===3||l===6)&&(l=sr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Z_(a,n)):hh(a)}function hh(n){var a=n;do{if((a.flags&32768)!==0){Z_(a,sa);return}n=a.return;var o=ZA(a.alternate,a,Di);if(o!==null){Le=o;return}if(a=a.sibling,a!==null){Le=a;return}Le=a=n}while(a!==null);Rt===0&&(Rt=5)}function Z_(n,a){do{var o=JA(n.alternate,n);if(o!==null){o.flags&=32767,Le=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(n=n.sibling,n!==null)){Le=n;return}Le=n=o}while(n!==null);Rt=6,Le=null}function J_(n,a,o,l,f,m,T,S,N){n.cancelPendingCommit=null;do fh();while(hn!==0);if((tt&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=_d,Ot(n,o,m,T,S,N),n===dt&&(Le=dt=null,Fe=0),wo=a,ua=n,So=o,Sm=m,Am=f,q_=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,h1(ai,function(){return i0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,f=K.p,K.p=2,T=tt,tt|=4;try{e1(n,a,o)}finally{tt=T,K.p=f,P.T=l}}hn=1,e0(),t0(),n0()}}function e0(){if(hn===1){hn=0;var n=ua,a=wo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=P.T,P.T=null;var l=K.p;K.p=2;var f=tt;tt|=4;try{k_(a,n);var m=Bm,T=Hy(n.containerInfo),S=m.focusedElem,N=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&By(S.ownerDocument.documentElement,S)){if(N!==null&&md(S)){var Y=N.start,ne=N.end;if(ne===void 0&&(ne=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ne,S.value.length);else{var oe=S.ownerDocument||document,$=oe&&oe.defaultView||window;if($.getSelection){var Q=$.getSelection(),xe=S.textContent.length,Se=Math.min(N.start,xe),st=N.end===void 0?Se:Math.min(N.end,xe);!Q.extend&&Se>st&&(T=st,st=Se,Se=T);var q=zy(S,Se),B=zy(S,st);if(q&&B&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var G=oe.createRange();G.setStart(q.node,q.offset),Q.removeAllRanges(),Se>st?(Q.addRange(G),Q.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),Q.addRange(G))}}}}for(oe=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&oe.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var ae=oe[S];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Sh=!!zm,Bm=zm=null}finally{tt=f,K.p=l,P.T=o}}n.current=a,hn=2}}function t0(){if(hn===2){hn=0;var n=ua,a=wo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=P.T,P.T=null;var l=K.p;K.p=2;var f=tt;tt|=4;try{O_(n,a.alternate,a)}finally{tt=f,K.p=l,P.T=o}}hn=3}}function n0(){if(hn===4||hn===3){hn=0,nn();var n=ua,a=wo,o=So,l=q_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?hn=5:(hn=0,wo=ua=null,r0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(la=null),an(o),a=a.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(gt,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=P.T,f=K.p,K.p=2,P.T=null;try{for(var m=n.onRecoverableError,T=0;T<l.length;T++){var S=l[T];m(S.value,{componentStack:S.stack})}}finally{P.T=a,K.p=f}}(So&3)!==0&&fh(),Yr(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Rm?eu++:(eu=0,Rm=n):eu=0,tu(0)}}function r0(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Vl(a)))}function fh(n){return e0(),t0(),n0(),i0()}function i0(){if(hn!==5)return!1;var n=ua,a=Sm;Sm=0;var o=an(So),l=P.T,f=K.p;try{K.p=32>o?32:o,P.T=null,o=Am,Am=null;var m=ua,T=So;if(hn=0,wo=ua=null,So=0,(tt&6)!==0)throw Error(i(331));var S=tt;if(tt|=4,B_(m.current),j_(m,m.current,T,o),tt=S,tu(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(gt,m)}catch{}return!0}finally{K.p=f,P.T=l,r0(n,a)}}function a0(n,a,o){a=nr(o,a),a=im(n.stateNode,a,2),n=Ji(n,a,2),n!==null&&(Kn(n,2),Yr(n))}function ft(n,a,o){if(n.tag===3)a0(n,n,o);else for(;a!==null;){if(a.tag===3){a0(a,n,o);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(la===null||!la.has(l))){n=nr(o,n),o=u_(2),l=Ji(a,o,2),l!==null&&(c_(o,l,a,n),Kn(l,2),Yr(l));break}}a=a.return}}function Dm(n,a,o){var l=n.pingCache;if(l===null){l=n.pingCache=new r1;var f=new Set;l.set(a,f)}else f=l.get(a),f===void 0&&(f=new Set,l.set(a,f));f.has(o)||(Em=!0,f.add(o),n=l1.bind(null,n,a,o),a.then(n,n))}function l1(n,a,o){var l=n.pingCache;l!==null&&l.delete(a),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,dt===n&&(Fe&o)===o&&(Rt===4||Rt===3&&(Fe&62914560)===Fe&&300>rn()-wm?(tt&2)===0&&Ao(n,0):Tm|=o,bo===Fe&&(bo=0)),Yr(n)}function s0(n,a){a===0&&(a=Gi()),n=so(n,a),n!==null&&(Kn(n,a),Yr(n))}function u1(n){var a=n.memoizedState,o=0;a!==null&&(o=a.retryLane),s0(n,o)}function c1(n,a){var o=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(a),s0(n,o)}function h1(n,a){return yn(n,a)}var dh=null,Io=null,Nm=!1,mh=!1,Om=!1,Es=0;function Yr(n){n!==Io&&n.next===null&&(Io===null?dh=Io=n:Io=Io.next=n),mh=!0,Nm||(Nm=!0,d1())}function tu(n,a){if(!Om&&mh){Om=!0;do for(var o=!1,l=dh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-Nt(42|n)+1)-1,m&=f&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,c0(l,m))}else m=Fe,m=li(l,l===dt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Nr(l,m)||(o=!0,c0(l,m));l=l.next}while(o);Om=!1}}function f1(){o0()}function o0(){mh=Nm=!1;var n=0;Es!==0&&(T1()&&(n=Es),Es=0);for(var a=rn(),o=null,l=dh;l!==null;){var f=l.next,m=l0(l,a);m===0?(l.next=null,o===null?dh=f:o.next=f,f===null&&(Io=o)):(o=l,(n!==0||(m&3)!==0)&&(mh=!0)),l=f}tu(n)}function l0(n,a){for(var o=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-Nt(m),S=1<<T,N=f[T];N===-1?((S&o)===0||(S&l)!==0)&&(f[T]=ui(S,a)):N<=a&&(n.expiredLanes|=S),m&=~S}if(a=dt,o=Fe,o=li(n,n===a?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,o===0||n===a&&(nt===2||nt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ct(l),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Nr(n,o)){if(a=o&-o,a===n.callbackPriority)return a;switch(l!==null&&ct(l),an(o)){case 2:case 8:o=Fi;break;case 32:o=ai;break;case 268435456:o=si;break;default:o=ai}return l=u0.bind(null,n),o=yn(o,l),n.callbackPriority=a,n.callbackNode=o,a}return l!==null&&l!==null&&ct(l),n.callbackPriority=2,n.callbackNode=null,2}function u0(n,a){if(hn!==0&&hn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(fh()&&n.callbackNode!==o)return null;var l=Fe;return l=li(n,n===dt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(G_(n,l,a),l0(n,rn()),n.callbackNode!=null&&n.callbackNode===o?u0.bind(null,n):null)}function c0(n,a){if(fh())return null;G_(n,a,!0)}function d1(){w1(function(){(tt&6)!==0?yn(qi,f1):o0()})}function Mm(){return Es===0&&(Es=Ga()),Es}function h0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Qs(""+n)}function f0(n,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,n.id&&o.setAttribute("form",n.id),a.parentNode.insertBefore(o,a),n=new FormData(n),o.parentNode.removeChild(o),n}function m1(n,a,o,l,f){if(a==="submit"&&o&&o.stateNode===f){var m=h0((f[pt]||null).action),T=l.submitter;T&&(a=(a=T[pt]||null)?h0(a.formAction):T.getAttribute("formAction"),a!==null&&(m=a,T=null));var S=new Ks("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Es!==0){var N=T?f0(f,T):new FormData(f);Jd(o,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(S.preventDefault(),N=T?f0(f,T):new FormData(f),Jd(o,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var Vm=0;Vm<vd.length;Vm++){var Pm=vd[Vm],g1=Pm.toLowerCase(),p1=Pm[0].toUpperCase()+Pm.slice(1);_r(g1,"on"+p1)}_r(Gy,"onAnimationEnd"),_r(Yy,"onAnimationIteration"),_r($y,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(MA,"onTransitionRun"),_r(VA,"onTransitionStart"),_r(PA,"onTransitionCancel"),_r(Qy,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function d0(n,a){a=(a&4)!==0;for(var o=0;o<n.length;o++){var l=n[o],f=l.event;l=l.listeners;e:{var m=void 0;if(a)for(var T=l.length-1;0<=T;T--){var S=l[T],N=S.instance,Y=S.currentTarget;if(S=S.listener,N!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=Y;try{m(f)}catch(ne){th(ne)}f.currentTarget=null,m=N}else for(T=0;T<l.length;T++){if(S=l[T],N=S.instance,Y=S.currentTarget,S=S.listener,N!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=Y;try{m(f)}catch(ne){th(ne)}f.currentTarget=null,m=N}}}}function je(n,a){var o=a[ci];o===void 0&&(o=a[ci]=new Set);var l=n+"__bubble";o.has(l)||(m0(a,n,2,!1),o.add(l))}function km(n,a,o){var l=0;a&&(l|=4),m0(o,n,l,a)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Lm(n){if(!n[gh]){n[gh]=!0,on.forEach(function(o){o!=="selectionchange"&&(y1.has(o)||km(o,!1,n),km(o,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[gh]||(a[gh]=!0,km("selectionchange",!1,a))}}function m0(n,a,o,l){switch(j0(a)){case 2:var f=F1;break;case 8:f=G1;break;default:f=Wm}o=f.bind(null,a,o,n),f=void 0,!er||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(a,o,{capture:!0,passive:f}):n.addEventListener(a,o,!0):f!==void 0?n.addEventListener(a,o,{passive:f}):n.addEventListener(a,o,!1)}function jm(n,a,o,l,f){var m=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=l.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=pr(S),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){l=m=T;continue e}S=S.parentNode}}l=l.return}yc(function(){var Y=m,ne=Jn(o),oe=[];e:{var $=Ky.get(n);if($!==void 0){var Q=Ks,xe=n;switch(n){case"keypress":if(Lr(o)===0)break e;case"keydown":case"keyup":Q=to;break;case"focusin":xe="focus",Q=Zs;break;case"focusout":xe="blur",Q=Zs;break;case"beforeblur":case"afterblur":Q=Zs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ac;break;case Gy:case Yy:case $y:Q=Js;break;case Qy:Q=Ic;break;case"scroll":case"scrollend":Q=vc;break;case"wheel":Q=no;break;case"copy":case"cut":case"paste":Q=eo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Rl;break;case"toggle":case"beforetoggle":Q=Cc}var Se=(a&4)!==0,st=!Se&&(n==="scroll"||n==="scrollend"),q=Se?$!==null?$+"Capture":null:$;Se=[];for(var B=Y,G;B!==null;){var ae=B;if(G=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||G===null||q===null||(ae=Ja(B,q),ae!=null&&Se.push(ru(B,ae,G))),st)break;B=B.return}0<Se.length&&($=new Q($,xe,null,o,ne),oe.push({event:$,listeners:Se}))}}if((a&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",$&&o!==di&&(xe=o.relatedTarget||o.fromElement)&&(pr(xe)||xe[sn]))break e;if((Q||$)&&($=ne.window===ne?ne:($=ne.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(xe=o.relatedTarget||o.toElement,Q=Y,xe=xe?pr(xe):null,xe!==null&&(st=u(xe),Se=xe.tag,xe!==st||Se!==5&&Se!==27&&Se!==6)&&(xe=null)):(Q=null,xe=Y),Q!==xe)){if(Se=tr,ae="onMouseLeave",q="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Se=Rl,ae="onPointerLeave",q="onPointerEnter",B="pointer"),st=Q==null?$:Ce(Q),G=xe==null?$:Ce(xe),$=new Se(ae,B+"leave",Q,o,ne),$.target=st,$.relatedTarget=G,ae=null,pr(ne)===Y&&(Se=new Se(q,B+"enter",xe,o,ne),Se.target=G,Se.relatedTarget=st,ae=Se),st=ae,Q&&xe)t:{for(Se=Q,q=xe,B=0,G=Se;G;G=xo(G))B++;for(G=0,ae=q;ae;ae=xo(ae))G++;for(;0<B-G;)Se=xo(Se),B--;for(;0<G-B;)q=xo(q),G--;for(;B--;){if(Se===q||q!==null&&Se===q.alternate)break t;Se=xo(Se),q=xo(q)}Se=null}else Se=null;Q!==null&&g0(oe,$,Q,Se,!1),xe!==null&&st!==null&&g0(oe,st,xe,Se,!0)}}e:{if($=Y?Ce(Y):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var ve=Vy;else if(Ht($))if(Py)ve=DA;else{ve=xA;var ke=IA}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&_l(Y.elementType)&&(ve=Vy):ve=CA;if(ve&&(ve=ve(n,Y))){vi(oe,ve,o,ne);break e}ke&&ke(n,$,Y),n==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Qi($,"number",$.value)}switch(ke=Y?Ce(Y):window,n){case"focusin":(Ht(ke)||ke.contentEditable==="true")&&(ro=ke,gd=Y,Cl=null);break;case"focusout":Cl=gd=ro=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,qy(oe,o,ne);break;case"selectionchange":if(OA)break;case"keydown":case"keyup":qy(oe,o,ne)}var Ee;if(zr)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else He?W(n,o)&&(Ae="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(E&&o.locale!=="ko"&&(He||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&He&&(Ee=Tl()):(kr=ne,Ki="value"in kr?kr.value:kr.textContent,He=!0)),ke=ph(Y,Ae),0<ke.length&&(Ae=new Sl(Ae,n,null,o,ne),oe.push({event:Ae,listeners:ke}),Ee?Ae.data=Ee:(Ee=de(o),Ee!==null&&(Ae.data=Ee)))),(Ee=y?Bt(n,o):qe(n,o))&&(Ae=ph(Y,"onBeforeInput"),0<Ae.length&&(ke=new Sl("onBeforeInput","beforeinput",null,o,ne),oe.push({event:ke,listeners:Ae}),ke.data=Ee)),m1(oe,n,Y,o,ne)}d0(oe,a)})}function ru(n,a,o){return{instance:n,listener:a,currentTarget:o}}function ph(n,a){for(var o=a+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ja(n,o),f!=null&&l.unshift(ru(n,f,m)),f=Ja(n,a),f!=null&&l.push(ru(n,f,m))),n.tag===3)return l;n=n.return}return[]}function xo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function g0(n,a,o,l,f){for(var m=a._reactName,T=[];o!==null&&o!==l;){var S=o,N=S.alternate,Y=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||Y===null||(N=Y,f?(Y=Ja(o,m),Y!=null&&T.unshift(ru(o,Y,N))):f||(Y=Ja(o,m),Y!=null&&T.push(ru(o,Y,N)))),o=o.return}T.length!==0&&n.push({event:a,listeners:T})}var v1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function p0(n){return(typeof n=="string"?n:""+n).replace(v1,`
`).replace(_1,"")}function y0(n,a){return a=p0(a),p0(n)===a}function yh(){}function at(n,a,o,l,f,m){switch(o){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||Zn(n,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&Zn(n,""+l);break;case"className":Vr(n,"class",l);break;case"tabIndex":Vr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(n,o,l);break;case"style":vl(n,l,m);break;case"data":if(a!=="object"){Vr(n,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||o!=="href")){n.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(o);break}l=Qs(""+l),n.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(a!=="input"&&at(n,a,"name",f.name,f,null),at(n,a,"formEncType",f.formEncType,f,null),at(n,a,"formMethod",f.formMethod,f,null),at(n,a,"formTarget",f.formTarget,f,null)):(at(n,a,"encType",f.encType,f,null),at(n,a,"method",f.method,f,null),at(n,a,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(o);break}l=Qs(""+l),n.setAttribute(o,l);break;case"onClick":l!=null&&(n.onclick=yh);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}o=Qs(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(o,""+l):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":l===!0?n.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(o,l):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(o,l):n.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(o):n.setAttribute(o,l);break;case"popover":je("beforetoggle",n),je("toggle",n),$i(n,"popover",l);break;case"xlinkActuate":ln(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ln(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ln(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ln(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ln(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ln(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ln(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ln(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ln(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$i(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ld.get(o)||o,$i(n,o,l))}}function Um(n,a,o,l,f,m){switch(o){case"style":vl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof l=="string"?Zn(n,l):(typeof l=="number"||typeof l=="bigint")&&Zn(n,""+l);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"onClick":l!=null&&(n.onclick=yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qt.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),m=n[pt]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(a,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(a,l,f);break e}o in n?n[o]=l:l===!0?n.setAttribute(o,""):$i(n,o,l)}}}function fn(n,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var l=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:at(n,a,m,T,o,null)}}f&&at(n,a,"srcSet",o.srcSet,o,null),l&&at(n,a,"src",o.src,o,null);return;case"input":je("invalid",n);var S=m=T=f=null,N=null,Y=null;for(l in o)if(o.hasOwnProperty(l)){var ne=o[l];if(ne!=null)switch(l){case"name":f=ne;break;case"type":T=ne;break;case"checked":N=ne;break;case"defaultChecked":Y=ne;break;case"value":m=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:at(n,a,l,ne,o,null)}}Xa(n,m,S,N,Y,T,f,!1),$s(n);return;case"select":je("invalid",n),l=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:at(n,a,f,S,o,null)}a=m,o=T,n.multiple=!!l,a!=null?fi(n,!!l,a,!1):o!=null&&fi(n,!!l,o,!0);return;case"textarea":je("invalid",n),m=f=l=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:at(n,a,T,S,o,null)}Wa(n,l,f,m),$s(n);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(l=o[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(n,a,N,l,o,null)}return;case"dialog":je("beforetoggle",n),je("toggle",n),je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(l=0;l<nu.length;l++)je(nu[l],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(l=o[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:at(n,a,Y,l,o,null)}return;default:if(_l(a)){for(ne in o)o.hasOwnProperty(ne)&&(l=o[ne],l!==void 0&&Um(n,a,ne,l,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(l=o[S],l!=null&&at(n,a,S,l,o,null))}function E1(n,a,o,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,S=null,N=null,Y=null,ne=null;for(Q in o){var oe=o[Q];if(o.hasOwnProperty(Q)&&oe!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=oe;default:l.hasOwnProperty(Q)||at(n,a,Q,null,l,oe)}}for(var $ in l){var Q=l[$];if(oe=o[$],l.hasOwnProperty($)&&(Q!=null||oe!=null))switch($){case"type":m=Q;break;case"name":f=Q;break;case"checked":Y=Q;break;case"defaultChecked":ne=Q;break;case"value":T=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==oe&&at(n,a,$,Q,l,oe)}}kn(n,T,S,N,Y,ne,m,f);return;case"select":Q=T=S=$=null;for(m in o)if(N=o[m],o.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(m)||at(n,a,m,null,l,N)}for(f in l)if(m=l[f],N=o[f],l.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":$=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==N&&at(n,a,f,m,l,N)}a=S,o=T,l=Q,$!=null?fi(n,!!o,$,!1):!!l!=!!o&&(a!=null?fi(n,!!o,a,!0):fi(n,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:at(n,a,S,null,l,f)}for(T in l)if(f=l[T],m=o[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&at(n,a,T,f,l,m)}rt(n,$,Q);return;case"option":for(var xe in o)if($=o[xe],o.hasOwnProperty(xe)&&$!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":n.selected=!1;break;default:at(n,a,xe,null,l,$)}for(N in l)if($=l[N],Q=o[N],l.hasOwnProperty(N)&&$!==Q&&($!=null||Q!=null))switch(N){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:at(n,a,N,$,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)$=o[Se],o.hasOwnProperty(Se)&&$!=null&&!l.hasOwnProperty(Se)&&at(n,a,Se,null,l,$);for(Y in l)if($=l[Y],Q=o[Y],l.hasOwnProperty(Y)&&$!==Q&&($!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:at(n,a,Y,$,l,Q)}return;default:if(_l(a)){for(var st in o)$=o[st],o.hasOwnProperty(st)&&$!==void 0&&!l.hasOwnProperty(st)&&Um(n,a,st,void 0,l,$);for(ne in l)$=l[ne],Q=o[ne],!l.hasOwnProperty(ne)||$===Q||$===void 0&&Q===void 0||Um(n,a,ne,$,l,Q);return}}for(var q in o)$=o[q],o.hasOwnProperty(q)&&$!=null&&!l.hasOwnProperty(q)&&at(n,a,q,null,l,$);for(oe in l)$=l[oe],Q=o[oe],!l.hasOwnProperty(oe)||$===Q||$==null&&Q==null||at(n,a,oe,$,l,Q)}var zm=null,Bm=null;function vh(n){return n.nodeType===9?n:n.ownerDocument}function v0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Hm(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var qm=null;function T1(){var n=window.event;return n&&n.type==="popstate"?n===qm?!1:(qm=n,!0):(qm=null,!1)}var E0=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(n){return T0.resolve(null).then(n).catch(S1)}:E0;function S1(n){setTimeout(function(){throw n})}function ha(n){return n==="head"}function b0(n,a){var o=a,l=0,f=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<l&&8>l){o=l;var T=n.ownerDocument;if(o&1&&iu(T.documentElement),o&2&&iu(T.body),o&4)for(o=T.head,iu(o),T=o.firstChild;T;){var S=T.nextSibling,N=T.nodeName;T[mr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=S}}if(f===0){n.removeChild(m),fu(a);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:l=o.charCodeAt(0)-48;else l=0;o=m}while(o);fu(a)}function Fm(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Fm(o),gr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function A1(n,a,o,l){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[mr])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Tr(n.nextSibling),n===null)break}return null}function R1(n,a,o){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Tr(n.nextSibling),n===null))return null;return n}function Gm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function I1(n,a){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")a();else{var l=function(){a(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Tr(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Ym=null;function w0(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return n;a--}else o==="/$"&&a++}n=n.previousSibling}return null}function S0(n,a,o){switch(a=vh(o),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function iu(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);gr(n)}var lr=new Map,A0=new Set;function _h(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ni=K.d;K.d={f:x1,r:C1,D:D1,C:N1,L:O1,m:M1,X:P1,S:V1,M:k1};function x1(){var n=Ni.f(),a=ch();return n||a}function C1(n){var a=Wn(n);a!==null&&a.tag===5&&a.type==="form"?Gv(a):Ni.r(n)}var Co=typeof document>"u"?null:document;function R0(n,a,o){var l=Co;if(l&&typeof a=="string"&&a){var f=Mt(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),A0.has(f)||(A0.add(f),n={rel:n,crossOrigin:o,href:a},l.querySelector(f)===null&&(a=l.createElement("link"),fn(a,"link",n),Ne(a),l.head.appendChild(a)))}}function D1(n){Ni.D(n),R0("dns-prefetch",n,null)}function N1(n,a){Ni.C(n,a),R0("preconnect",n,a)}function O1(n,a,o){Ni.L(n,a,o);var l=Co;if(l&&n&&a){var f='link[rel="preload"][as="'+Mt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Mt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Mt(o.imageSizes)+'"]')):f+='[href="'+Mt(n)+'"]';var m=f;switch(a){case"style":m=Do(n);break;case"script":m=No(n)}lr.has(m)||(n=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:n,as:a},o),lr.set(m,n),l.querySelector(f)!==null||a==="style"&&l.querySelector(au(m))||a==="script"&&l.querySelector(su(m))||(a=l.createElement("link"),fn(a,"link",n),Ne(a),l.head.appendChild(a)))}}function M1(n,a){Ni.m(n,a);var o=Co;if(o&&n){var l=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Mt(l)+'"][href="'+Mt(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=No(n)}if(!lr.has(m)&&(n=v({rel:"modulepreload",href:n},a),lr.set(m,n),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(su(m)))return}l=o.createElement("link"),fn(l,"link",n),Ne(l),o.head.appendChild(l)}}}function V1(n,a,o){Ni.S(n,a,o);var l=Co;if(l&&n){var f=Pe(l).hoistableStyles,m=Do(n);a=a||"default";var T=f.get(m);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(au(m)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":a},o),(o=lr.get(m))&&$m(n,o);var N=T=l.createElement("link");Ne(N),fn(N,"link",n),N._p=new Promise(function(Y,ne){N.onload=Y,N.onerror=ne}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Eh(T,a,l)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(m,T)}}}function P1(n,a){Ni.X(n,a);var o=Co;if(o&&n){var l=Pe(o).hoistableScripts,f=No(n),m=l.get(f);m||(m=o.querySelector(su(f)),m||(n=v({src:n,async:!0},a),(a=lr.get(f))&&Qm(n,a),m=o.createElement("script"),Ne(m),fn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function k1(n,a){Ni.M(n,a);var o=Co;if(o&&n){var l=Pe(o).hoistableScripts,f=No(n),m=l.get(f);m||(m=o.querySelector(su(f)),m||(n=v({src:n,async:!0,type:"module"},a),(a=lr.get(f))&&Qm(n,a),m=o.createElement("script"),Ne(m),fn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function I0(n,a,o,l){var f=(f=_e.current)?_h(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Do(o.href),o=Pe(f).hoistableStyles,l=o.get(a),l||(l={type:"style",instance:null,count:0,state:null},o.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Do(o.href);var m=Pe(f).hoistableStyles,T=m.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=f.querySelector(au(n)))&&!m._p&&(T.instance=m,T.state.loading=5),lr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},lr.set(n,o),m||L1(f,n,o,T.state))),a&&l===null)throw Error(i(528,""));return T}if(a&&l!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=No(o),o=Pe(f).hoistableScripts,l=o.get(a),l||(l={type:"script",instance:null,count:0,state:null},o.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Do(n){return'href="'+Mt(n)+'"'}function au(n){return'link[rel="stylesheet"]['+n+"]"}function x0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function L1(n,a,o,l){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=n.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),fn(a,"link",o),Ne(a),n.head.appendChild(a))}function No(n){return'[src="'+Mt(n)+'"]'}function su(n){return"script[async]"+n}function C0(n,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var l=n.querySelector('style[data-href~="'+Mt(o.href)+'"]');if(l)return a.instance=l,Ne(l),l;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ne(l),fn(l,"style",f),Eh(l,o.precedence,n),a.instance=l;case"stylesheet":f=Do(o.href);var m=n.querySelector(au(f));if(m)return a.state.loading|=4,a.instance=m,Ne(m),m;l=x0(o),(f=lr.get(f))&&$m(l,f),m=(n.ownerDocument||n).createElement("link"),Ne(m);var T=m;return T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),fn(m,"link",l),a.state.loading|=4,Eh(m,o.precedence,n),a.instance=m;case"script":return m=No(o.src),(f=n.querySelector(su(m)))?(a.instance=f,Ne(f),f):(l=o,(f=lr.get(m))&&(l=v({},o),Qm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ne(f),fn(f,"link",l),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,Eh(l,o.precedence,n));return a.instance}function Eh(n,a,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===a)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(n,a.firstChild))}function $m(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Qm(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Th=null;function D0(n,a,o){if(Th===null){var l=new Map,f=Th=new Map;f.set(o,l)}else f=Th,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(n))return l;for(l.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[mr]||m[St]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(a)||"";T=n+T;var S=l.get(T);S?S.push(m):l.set(T,[m])}}return l}function N0(n,a,o){n=n.ownerDocument||n,n.head.insertBefore(o,a==="title"?n.querySelector("head > title"):null)}function j1(n,a,o){if(o===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function O0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ou=null;function U1(){}function z1(n,a,o){if(ou===null)throw Error(i(475));var l=ou;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Do(o.href),m=n.querySelector(au(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=bh.bind(l),n.then(l,l)),a.state.loading|=4,a.instance=m,Ne(m);return}m=n.ownerDocument||n,o=x0(o),(f=lr.get(f))&&$m(o,f),m=m.createElement("link"),Ne(m);var T=m;T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),fn(m,"link",o),a.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(l.count++,a=bh.bind(l),n.addEventListener("load",a),n.addEventListener("error",a))}}function B1(){if(ou===null)throw Error(i(475));var n=ou;return n.stylesheets&&n.count===0&&Km(n,n.stylesheets),0<n.count?function(a){var o=setTimeout(function(){if(n.stylesheets&&Km(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(o)}}:null}function bh(){if(this.count--,this.count===0){if(this.stylesheets)Km(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var wh=null;function Km(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,wh=new Map,a.forEach(H1,n),wh=null,bh.call(n))}function H1(n,a){if(!(a.state.loading&4)){var o=wh.get(n);if(o)var l=o.get(null);else{o=new Map,wh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),l=T)}l&&o.set(null,l)}f=a.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||l,m===l&&o.set(null,f),o.set(T,f),this.count++,l=bh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var lu={$$typeof:ee,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function q1(n,a,o,l,f,m,T,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function M0(n,a,o,l,f,m,T,S,N,Y,ne,oe){return n=new q1(n,a,o,T,S,N,Y,oe),a=1,m===!0&&(a|=24),m=jn(3,null,null,a),n.current=m,m.stateNode=n,a=Dd(),a.refCount++,n.pooledCache=a,a.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:a},Vd(m),n}function V0(n){return n?(n=oo,n):oo}function P0(n,a,o,l,f,m){f=V0(f),l.context===null?l.context=f:l.pendingContext=f,l=Zi(a),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=Ji(n,l,a),o!==null&&(qn(o,n,a),jl(o,n,a))}function k0(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<a?o:a}}function Xm(n,a){k0(n,a),(n=n.alternate)&&k0(n,a)}function L0(n){if(n.tag===13){var a=so(n,67108864);a!==null&&qn(a,n,67108864),Xm(n,67108864)}}var Sh=!0;function F1(n,a,o,l){var f=P.T;P.T=null;var m=K.p;try{K.p=2,Wm(n,a,o,l)}finally{K.p=m,P.T=f}}function G1(n,a,o,l){var f=P.T;P.T=null;var m=K.p;try{K.p=8,Wm(n,a,o,l)}finally{K.p=m,P.T=f}}function Wm(n,a,o,l){if(Sh){var f=Zm(l);if(f===null)jm(n,a,l,Ah,o),U0(n,l);else if($1(f,n,a,o,l))l.stopPropagation();else if(U0(n,l),a&4&&-1<Y1.indexOf(n)){for(;f!==null;){var m=Wn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Pn(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var N=1<<31-Nt(T);S.entanglements[1]|=N,T&=~N}Yr(m),(tt&6)===0&&(lh=rn()+500,tu(0))}}break;case 13:S=so(m,2),S!==null&&qn(S,m,2),ch(),Xm(m,2)}if(m=Zm(l),m===null&&jm(n,a,l,Ah,o),m===f)break;f=m}f!==null&&l.stopPropagation()}else jm(n,a,l,null,o)}}function Zm(n){return n=Jn(n),Jm(n)}var Ah=null;function Jm(n){if(Ah=null,n=pr(n),n!==null){var a=u(n);if(a===null)n=null;else{var o=a.tag;if(o===13){if(n=h(a),n!==null)return n;n=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Ah=n,null}function j0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Us()){case qi:return 2;case Fi:return 8;case ai:case ml:return 32;case si:return 268435456;default:return 32}default:return 32}}var eg=!1,fa=null,da=null,ma=null,uu=new Map,cu=new Map,ga=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U0(n,a){switch(n){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":uu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(a.pointerId)}}function hu(n,a,o,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:a,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},a!==null&&(a=Wn(a),a!==null&&L0(a)),n):(n.eventSystemFlags|=l,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function $1(n,a,o,l,f){switch(a){case"focusin":return fa=hu(fa,n,a,o,l,f),!0;case"dragenter":return da=hu(da,n,a,o,l,f),!0;case"mouseover":return ma=hu(ma,n,a,o,l,f),!0;case"pointerover":var m=f.pointerId;return uu.set(m,hu(uu.get(m)||null,n,a,o,l,f)),!0;case"gotpointercapture":return m=f.pointerId,cu.set(m,hu(cu.get(m)||null,n,a,o,l,f)),!0}return!1}function z0(n){var a=pr(n.target);if(a!==null){var o=u(a);if(o!==null){if(a=o.tag,a===13){if(a=h(o),a!==null){n.blockedOn=a,Yi(n.priority,function(){if(o.tag===13){var l=Hn();l=Ke(l);var f=so(o,l);f!==null&&qn(f,o,l),Xm(o,l)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Rh(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var o=Zm(n.nativeEvent);if(o===null){o=n.nativeEvent;var l=new o.constructor(o.type,o);di=l,o.target.dispatchEvent(l),di=null}else return a=Wn(o),a!==null&&L0(a),n.blockedOn=o,!1;a.shift()}return!0}function B0(n,a,o){Rh(n)&&o.delete(a)}function Q1(){eg=!1,fa!==null&&Rh(fa)&&(fa=null),da!==null&&Rh(da)&&(da=null),ma!==null&&Rh(ma)&&(ma=null),uu.forEach(B0),cu.forEach(B0)}function Ih(n,a){n.blockedOn===a&&(n.blockedOn=null,eg||(eg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Q1)))}var xh=null;function H0(n){xh!==n&&(xh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xh===n&&(xh=null);for(var a=0;a<n.length;a+=3){var o=n[a],l=n[a+1],f=n[a+2];if(typeof l!="function"){if(Jm(l||o)===null)continue;break}var m=Wn(o);m!==null&&(n.splice(a,3),a-=3,Jd(m,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function fu(n){function a(N){return Ih(N,n)}fa!==null&&Ih(fa,n),da!==null&&Ih(da,n),ma!==null&&Ih(ma,n),uu.forEach(a),cu.forEach(a);for(var o=0;o<ga.length;o++){var l=ga[o];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ga.length&&(o=ga[0],o.blockedOn===null);)z0(o),o.blockedOn===null&&ga.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],m=o[l+1],T=f[pt]||null;if(typeof m=="function")T||H0(o);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[pt]||null)S=T.formAction;else if(Jm(f)!==null)continue}else S=T.action;typeof S=="function"?o[l+1]=S:(o.splice(l,3),l-=3),H0(o)}}}function tg(n){this._internalRoot=n}Ch.prototype.render=tg.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,l=Hn();P0(o,l,n,a,null,null)},Ch.prototype.unmount=tg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;P0(n.current,2,null,n,null,null),ch(),a[sn]=null}};function Ch(n){this._internalRoot=n}Ch.prototype.unstable_scheduleHydration=function(n){if(n){var a=Mr();n={blockedOn:null,target:n,priority:a};for(var o=0;o<ga.length&&a!==0&&a<ga[o].priority;o++);ga.splice(o,0,n),o===0&&z0(n)}};var q0=e.version;if(q0!=="19.1.1")throw Error(i(527,q0,"19.1.1"));K.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=p(a),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var K1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{gt=Dh.inject(K1),We=Dh}catch{}}return mu.createRoot=function(n,a){if(!s(n))throw Error(i(299));var o=!1,l="",f=a_,m=s_,T=o_,S=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=M0(n,1,!1,null,null,o,l,f,m,T,S,null),n[sn]=a.current,Lm(n),new tg(a)},mu.hydrateRoot=function(n,a,o){if(!s(n))throw Error(i(299));var l=!1,f="",m=a_,T=s_,S=o_,N=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),a=M0(n,1,!0,a,o??null,l,f,m,T,S,N,Y),a.context=V0(null),o=a.current,l=Hn(),l=Ke(l),f=Zi(l),f.callback=null,Ji(o,f,l),o=l,a.current.lanes=o,Kn(a,o),Yr(a),n[sn]=a.current,Lm(n),new Ch(a)},mu.version="19.1.1",mu}var J0;function aR(){if(J0)return ig.exports;J0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ig.exports=iR(),ig.exports}var sR=aR();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eE="popstate";function oR(r={}){function e(i,s){let{pathname:u,search:h,hash:d}=i.location;return Ag("",{pathname:u,search:h,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Cu(s)}return uR(e,t,null,r)}function vt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ar(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lR(){return Math.random().toString(36).substring(2,10)}function tE(r,e){return{usr:r.state,key:r.key,idx:e}}function Ag(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Zo(e):e,state:t,key:e&&e.key||i||lR()}}function Cu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Zo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function uR(r,e,t,i={}){let{window:s=document.defaultView,v5Compat:u=!1}=i,h=s.history,d="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function b(){d="POP";let j=v(),z=j==null?null:j-g;g=j,p&&p({action:d,location:V.location,delta:z})}function w(j,z){d="PUSH";let J=Ag(V.location,j,z);g=v()+1;let ee=tE(J,g),ie=V.createHref(J);try{h.pushState(ee,"",ie)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign(ie)}u&&p&&p({action:d,location:V.location,delta:1})}function C(j,z){d="REPLACE";let J=Ag(V.location,j,z);g=v();let ee=tE(J,g),ie=V.createHref(J);h.replaceState(ee,"",ie),u&&p&&p({action:d,location:V.location,delta:0})}function k(j){return cR(j)}let V={get action(){return d},get location(){return r(s,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(eE,b),p=j,()=>{s.removeEventListener(eE,b),p=null}},createHref(j){return e(s,j)},createURL:k,encodeLocation(j){let z=k(j);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:C,go(j){return h.go(j)}};return V}function cR(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),vt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Cu(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function rb(r,e,t="/"){return hR(r,e,t,!1)}function hR(r,e,t,i){let s=typeof e=="string"?Zo(e):e,u=ki(s.pathname||"/",t);if(u==null)return null;let h=ib(r);fR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=wR(u);d=TR(h[p],g,i)}return d}function ib(r,e=[],t=[],i=""){let s=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(vt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=Vi([i,p.relativePath]),v=t.concat(p);u.children&&u.children.length>0&&(vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ib(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:_R(g,u.index),routesMeta:v})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))s(u,h);else for(let d of ab(u.path))s(u,h,d)}),e}function ab(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return s?[u,""]:[u];let h=ab(i.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),s&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function fR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:ER(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var dR=/^:[\w-]+$/,mR=3,gR=2,pR=1,yR=10,vR=-2,nE=r=>r==="*";function _R(r,e){let t=r.split("/"),i=t.length;return t.some(nE)&&(i+=vR),e&&(i+=gR),t.filter(s=>!nE(s)).reduce((s,u)=>s+(dR.test(u)?mR:u===""?pR:yR),i)}function ER(r,e){return r.length===e.length&&r.slice(0,-1).every((i,s)=>i===e[s])?r[r.length-1]-e[e.length-1]:0}function TR(r,e,t=!1){let{routesMeta:i}=r,s={},u="/",h=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=rf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=rf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(s,b.params),h.push({params:s,pathname:Vi([u,b.pathname]),pathnameBase:IR(Vi([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=Vi([u,b.pathnameBase]))}return h}function rf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=bR(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let u=s[0],h=u.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},w)=>{if(v==="*"){let k=d[w]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const C=d[w];return b&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function bR(r,e=!1,t=!0){Ar(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function wR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ki(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function SR(r,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof r=="string"?Zo(r):r;return{pathname:t?t.startsWith("/")?t:AR(t,e):e,search:xR(i),hash:CR(s)}}function AR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function lg(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yp(r){let e=RR(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function vp(r,e,t,i=!1){let s;typeof r=="string"?s=Zo(r):(s={...r},vt(!s.pathname||!s.pathname.includes("?"),lg("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),lg("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),lg("#","search","hash",s)));let u=r===""||s.pathname==="",h=u?"/":s.pathname,d;if(h==null)d=t;else{let b=e.length-1;if(!i&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;s.pathname=w.join("/")}d=b>=0?e[b]:"/"}let p=SR(s,d),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Vi=r=>r.join("/").replace(/\/\/+/g,"/"),IR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),xR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,CR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function DR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var sb=["POST","PUT","PATCH","DELETE"];new Set(sb);var NR=["GET",...sb];new Set(NR);var Jo=L.createContext(null);Jo.displayName="DataRouter";var Cf=L.createContext(null);Cf.displayName="DataRouterState";L.createContext(!1);var ob=L.createContext({isTransitioning:!1});ob.displayName="ViewTransition";var OR=L.createContext(new Map);OR.displayName="Fetchers";var MR=L.createContext(null);MR.displayName="Await";var Cr=L.createContext(null);Cr.displayName="Navigation";var qu=L.createContext(null);qu.displayName="Location";var ii=L.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var _p=L.createContext(null);_p.displayName="RouteError";function VR(r,{relative:e}={}){vt(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(Cr),{hash:s,pathname:u,search:h}=Gu(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:Vi([t,u])),i.createHref({pathname:d,search:h,hash:s})}function el(){return L.useContext(qu)!=null}function ka(){return vt(el(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(qu).location}var lb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ub(r){L.useContext(Cr).static||L.useLayoutEffect(r)}function Fu(){let{isDataRoute:r}=L.useContext(ii);return r?$R():PR()}function PR(){vt(el(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Jo),{basename:e,navigator:t}=L.useContext(Cr),{matches:i}=L.useContext(ii),{pathname:s}=ka(),u=JSON.stringify(yp(i)),h=L.useRef(!1);return ub(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(Ar(h.current,lb),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=vp(p,JSON.parse(u),s,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Vi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,s,r])}L.createContext(null);function Gu(r,{relative:e}={}){let{matches:t}=L.useContext(ii),{pathname:i}=ka(),s=JSON.stringify(yp(t));return L.useMemo(()=>vp(r,JSON.parse(s),i,e==="path"),[r,s,i,e])}function kR(r,e){return cb(r,e)}function cb(r,e,t,i){vt(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=L.useContext(Cr),{matches:u}=L.useContext(ii),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let z=v&&v.path||"";hb(p,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let b=ka(),w;if(e){let z=typeof e=="string"?Zo(e):e;vt(g==="/"||z.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${z.pathname}" was given in the \`location\` prop.`),w=z}else w=b;let C=w.pathname||"/",k=C;if(g!=="/"){let z=g.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(z.length).join("/")}let V=rb(r,{pathname:k});Ar(v||V!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ar(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=BR(V&&V.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:Vi([g,s.encodeLocation?s.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:Vi([g,s.encodeLocation?s.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),u,t,i);return e&&j?L.createElement(qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function LR(){let r=YR(),e=DR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:s},t):null,h)}var jR=L.createElement(LR,null),UR=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?L.createElement(ii.Provider,{value:this.props.routeContext},L.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zR({routeContext:r,match:e,children:t}){let i=L.useContext(Jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ii.Provider,{value:r},t)}function BR(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,u=t?.errors;if(u!=null){let p=s.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);vt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:b}=t,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){h=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,g,v)=>{let b,w=!1,C=null,k=null;t&&(b=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||jR,h&&(d<0&&v===0?(hb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,k=null):d===v&&(w=!0,k=g.route.hydrateFallbackElement||null)));let V=e.concat(s.slice(0,v+1)),j=()=>{let z;return b?z=C:w?z=k:g.route.Component?z=L.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=p,L.createElement(zR,{match:g,routeContext:{outlet:p,matches:V,isDataRoute:t!=null},children:z})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?L.createElement(UR,{location:t.location,revalidation:t.revalidation,component:C,error:b,children:j(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):j()},null)}function Ep(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HR(r){let e=L.useContext(Jo);return vt(e,Ep(r)),e}function qR(r){let e=L.useContext(Cf);return vt(e,Ep(r)),e}function FR(r){let e=L.useContext(ii);return vt(e,Ep(r)),e}function Tp(r){let e=FR(r),t=e.matches[e.matches.length-1];return vt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function GR(){return Tp("useRouteId")}function YR(){let r=L.useContext(_p),e=qR("useRouteError"),t=Tp("useRouteError");return r!==void 0?r:e.errors?.[t]}function $R(){let{router:r}=HR("useNavigate"),e=Tp("useNavigate"),t=L.useRef(!1);return ub(()=>{t.current=!0}),L.useCallback(async(s,u={})=>{Ar(t.current,lb),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...u}))},[r,e])}var rE={};function hb(r,e,t){!e&&!rE[r]&&(rE[r]=!0,Ar(!1,t))}L.memo(QR);function QR({routes:r,future:e,state:t}){return cb(r,void 0,t,e)}function KR({to:r,replace:e,state:t,relative:i}){vt(el(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=L.useContext(Cr);Ar(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(ii),{pathname:h}=ka(),d=Fu(),p=vp(r,yp(u),h,i==="path"),g=JSON.stringify(p);return L.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function Qr(r){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XR({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:u=!1}){vt(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:h,navigator:s,static:u,future:{}}),[h,s,u]);typeof t=="string"&&(t=Zo(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:w="default"}=t,C=L.useMemo(()=>{let k=ki(p,h);return k==null?null:{location:{pathname:k,search:g,hash:v,state:b,key:w},navigationType:i}},[h,p,g,v,b,w,i]);return Ar(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:L.createElement(Cr.Provider,{value:d},L.createElement(qu.Provider,{children:e,value:C}))}function WR({children:r,location:e}){return kR(Rg(r),e)}function Rg(r,e=[]){let t=[];return L.Children.forEach(r,(i,s)=>{if(!L.isValidElement(i))return;let u=[...e,s];if(i.type===L.Fragment){t.push.apply(t,Rg(i.props.children,u));return}vt(i.type===Qr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Rg(i.props.children,u)),t.push(h)}),t}var Hh="get",qh="application/x-www-form-urlencoded";function Df(r){return r!=null&&typeof r.tagName=="string"}function ZR(r){return Df(r)&&r.tagName.toLowerCase()==="button"}function JR(r){return Df(r)&&r.tagName.toLowerCase()==="form"}function eI(r){return Df(r)&&r.tagName.toLowerCase()==="input"}function tI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function nI(r,e){return r.button===0&&(!e||e==="_self")&&!tI(r)}var Oh=null;function rI(){if(Oh===null)try{new FormData(document.createElement("form"),0),Oh=!1}catch{Oh=!0}return Oh}var iI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ug(r){return r!=null&&!iI.has(r)?(Ar(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qh}"`),null):r}function aI(r,e){let t,i,s,u,h;if(JR(r)){let d=r.getAttribute("action");i=d?ki(d,e):null,t=r.getAttribute("method")||Hh,s=ug(r.getAttribute("enctype"))||qh,u=new FormData(r)}else if(ZR(r)||eI(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(i=p?ki(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Hh,s=ug(r.getAttribute("formenctype"))||ug(d.getAttribute("enctype"))||qh,u=new FormData(d,r),!rI()){let{name:g,type:v,value:b}=r;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(Df(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hh,i=null,s=qh,h=r}return u&&s==="text/plain"&&(h=u,u=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function sI(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&ki(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function oI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function uI(r,e,t){let i=await Promise.all(r.map(async s=>{let u=e.routes[s.route.id];if(u){let h=await oI(u,t);return h.links?h.links():[]}return[]}));return dI(i.flat(1).filter(lI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function iE(r,e,t,i,s,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function cI(r,e,{includeHydrateFallback:t}={}){return hI(r.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let u=[s.module];return s.clientActionModule&&(u=u.concat(s.clientActionModule)),s.clientLoaderModule&&(u=u.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(u=u.concat(s.hydrateFallbackModule)),s.imports&&(u=u.concat(s.imports)),u}).flat(1))}function hI(r){return[...new Set(r)]}function fI(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function dI(r,e){let t=new Set;return new Set(e),r.reduce((i,s)=>{let u=JSON.stringify(fI(s));return t.has(u)||(t.add(u),i.push({key:u,link:s})),i},[])}function fb(){let r=L.useContext(Jo);return bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function mI(){let r=L.useContext(Cf);return bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wp=L.createContext(void 0);wp.displayName="FrameworkContext";function db(){let r=L.useContext(wp);return bp(r,"You must render this element inside a <HydratedRouter> element"),r}function gI(r,e){let t=L.useContext(wp),[i,s]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,w=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let V=z=>{z.forEach(J=>{h(J.isIntersecting)})},j=new IntersectionObserver(V,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),L.useEffect(()=>{if(i){let V=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(V)}}},[i]);let C=()=>{s(!0)},k=()=>{s(!1),h(!1)};return t?r!=="intent"?[u,w,{}]:[u,w,{onFocus:gu(d,C),onBlur:gu(p,k),onMouseEnter:gu(g,C),onMouseLeave:gu(v,k),onTouchStart:gu(b,C)}]:[!1,w,{}]}function gu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function pI({page:r,...e}){let{router:t}=fb(),i=L.useMemo(()=>rb(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?L.createElement(vI,{page:r,matches:i,...e}):null}function yI(r){let{manifest:e,routeModules:t}=db(),[i,s]=L.useState([]);return L.useEffect(()=>{let u=!1;return uI(r,e,t).then(h=>{u||s(h)}),()=>{u=!0}},[r,e,t]),i}function vI({page:r,matches:e,...t}){let i=ka(),{manifest:s,routeModules:u}=db(),{basename:h}=fb(),{loaderData:d,matches:p}=mI(),g=L.useMemo(()=>iE(r,e,p,s,i,"data"),[r,e,p,s,i]),v=L.useMemo(()=>iE(r,e,p,s,i,"assets"),[r,e,p,s,i]),b=L.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let k=new Set,V=!1;if(e.forEach(z=>{let J=s.routes[z.route.id];!J||!J.hasLoader||(!g.some(ee=>ee.route.id===z.route.id)&&z.route.id in d&&u[z.route.id]?.shouldRevalidate||J.hasClientLoader?V=!0:k.add(z.route.id))}),k.size===0)return[];let j=sI(r,h,"data");return V&&k.size>0&&j.searchParams.set("_routes",e.filter(z=>k.has(z.route.id)).map(z=>z.route.id).join(",")),[j.pathname+j.search]},[h,d,i,s,g,e,r,u]),w=L.useMemo(()=>cI(v,s),[v,s]),C=yI(v);return L.createElement(L.Fragment,null,b.map(k=>L.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),w.map(k=>L.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),C.map(({key:k,link:V})=>L.createElement("link",{key:k,...V})))}function _I(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mb&&(window.__reactRouterVersion="7.7.1")}catch{}function EI({basename:r,children:e,window:t}){let i=L.useRef();i.current==null&&(i.current=oR({window:t,v5Compat:!0}));let s=i.current,[u,h]=L.useState({action:s.action,location:s.location}),d=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>s.listen(d),[s,d]),L.createElement(XR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:s})}var gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lt=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:v,viewTransition:b,...w},C){let{basename:k}=L.useContext(Cr),V=typeof g=="string"&&gb.test(g),j,z=!1;if(typeof g=="string"&&V&&(j=g,mb))try{let D=new URL(window.location.href),O=g.startsWith("//")?new URL(D.protocol+g):new URL(g),M=ki(O.pathname,k);O.origin===D.origin&&M!=null?g=M+O.search+O.hash:z=!0}catch{Ar(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=VR(g,{relative:s}),[ee,ie,te]=gI(i,w),pe=SI(g,{replace:h,state:d,target:p,preventScrollReset:v,relative:s,viewTransition:b});function U(D){e&&e(D),D.defaultPrevented||pe(D)}let I=L.createElement("a",{...w,...te,href:j||J,onClick:z||u?e:U,ref:_I(C,ie),target:p,"data-discover":!V&&t==="render"?"true":void 0});return ee&&!V?L.createElement(L.Fragment,null,I,L.createElement(pI,{page:J})):I});Lt.displayName="Link";var TI=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:u,to:h,viewTransition:d,children:p,...g},v){let b=Gu(h,{relative:g.relative}),w=ka(),C=L.useContext(Cf),{navigator:k,basename:V}=L.useContext(Cr),j=C!=null&&CI(b)&&d===!0,z=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,J=w.pathname,ee=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(J=J.toLowerCase(),ee=ee?ee.toLowerCase():null,z=z.toLowerCase()),ee&&V&&(ee=ki(ee,V)||ee);const ie=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let te=J===z||!s&&J.startsWith(z)&&J.charAt(ie)==="/",pe=ee!=null&&(ee===z||!s&&ee.startsWith(z)&&ee.charAt(z.length)==="/"),U={isActive:te,isPending:pe,isTransitioning:j},I=te?e:void 0,D;typeof i=="function"?D=i(U):D=[i,te?"active":null,pe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(U):u;return L.createElement(Lt,{...g,"aria-current":I,className:D,ref:v,style:O,to:h,viewTransition:d},typeof p=="function"?p(U):p)});TI.displayName="NavLink";var bI=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:u,method:h=Hh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...w},C)=>{let k=II(),V=xI(d,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&gb.test(d),J=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let ie=ee.nativeEvent.submitter,te=ie?.getAttribute("formmethod")||h;k(ie||ee.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:s,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return L.createElement("form",{ref:C,method:j,action:V,onSubmit:i?p:J,...w,"data-discover":!z&&r==="render"?"true":void 0})});bI.displayName="Form";function wI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pb(r){let e=L.useContext(Jo);return vt(e,wI(r)),e}function SI(r,{target:e,replace:t,state:i,preventScrollReset:s,relative:u,viewTransition:h}={}){let d=Fu(),p=ka(),g=Gu(r,{relative:u});return L.useCallback(v=>{if(nI(v,e)){v.preventDefault();let b=t!==void 0?t:Cu(p)===Cu(g);d(r,{replace:b,state:i,preventScrollReset:s,relative:u,viewTransition:h})}},[p,d,g,t,i,e,r,s,u,h])}var AI=0,RI=()=>`__${String(++AI)}__`;function II(){let{router:r}=pb("useSubmit"),{basename:e}=L.useContext(Cr),t=GR();return L.useCallback(async(i,s={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=aI(i,e);if(s.navigate===!1){let v=s.fetcherKey||RI();await r.fetch(v,t,s.action||u,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||h,formEncType:s.encType||d,flushSync:s.flushSync})}else await r.navigate(s.action||u,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||h,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function xI(r,{relative:e}={}){let{basename:t}=L.useContext(Cr),i=L.useContext(ii);vt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),u={...Gu(r||".",{relative:e})},h=ka();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&s.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Vi([t,u.pathname])),Cu(u)}function CI(r,{relative:e}={}){let t=L.useContext(ob);vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pb("useViewTransitionState"),s=Gu(r,{relative:e});if(!t.isTransitioning)return!1;let u=ki(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=ki(t.nextLocation.pathname,i)||t.nextLocation.pathname;return rf(s.pathname,h)!=null||rf(s.pathname,u)!=null}const DI=()=>{};var aE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},NI=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const s=r[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const u=r[t++];e[i++]=String.fromCharCode((s&31)<<6|u&63)}else if(s>239&&s<365){const u=r[t++],h=r[t++],d=r[t++],p=((s&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[i++]=String.fromCharCode((s&15)<<12|(u&63)<<6|h&63)}}return e.join("")},vb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<r.length;s+=3){const u=r[s],h=s+1<r.length,d=h?r[s+1]:0,p=s+2<r.length,g=p?r[s+2]:0,v=u>>2,b=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,C=g&63;p||(C=64,h||(w=64)),i.push(t[v],t[b],t[w],t[C])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):NI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<r.length;){const u=t[r.charAt(s++)],d=s<r.length?t[r.charAt(s)]:0;++s;const g=s<r.length?t[r.charAt(s)]:64;++s;const b=s<r.length?t[r.charAt(s)]:64;if(++s,u==null||d==null||g==null||b==null)throw new OI;const w=u<<2|d>>4;if(i.push(w),g!==64){const C=d<<4&240|g>>2;if(i.push(C),b!==64){const k=g<<6&192|b;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class OI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MI=function(r){const e=yb(r);return vb.encodeByteArray(e,!0)},af=function(r){return MI(r).replace(/\./g,"")},_b=function(r){try{return vb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=()=>VI().__FIREBASE_DEFAULTS__,kI=()=>{if(typeof process>"u"||typeof aE>"u")return;const r=aE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},LI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_b(r[1]);return e&&JSON.parse(e)},Nf=()=>{try{return DI()||PI()||kI()||LI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Eb=r=>Nf()?.emulatorHosts?.[r],jI=r=>{const e=Eb(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Tb=()=>Nf()?.config,bb=r=>Nf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[af(JSON.stringify(t)),af(JSON.stringify(h)),""].join(".")}const bu={};function BI(){const r={prod:[],emulator:[]};for(const e of Object.keys(bu))bu[e]?r.emulator.push(e):r.prod.push(e);return r}function HI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let sE=!1;function Sb(r,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||bu[r]===e||bu[r]||sE)return;bu[r]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",u=BI().prod.length>0;function h(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{sE=!0,h()},w}function v(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=HI(i),C=t("text"),k=document.getElementById(C)||document.createElement("span"),V=t("learnmore"),j=document.getElementById(V)||document.createElement("a"),z=t("preprendIcon"),J=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ee=w.element;d(ee),v(j,V);const ie=g();p(J,z),ee.append(J,k,j,ie),document.body.appendChild(ee)}u?(k.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function FI(){const r=Nf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QI(){const r=wn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function KI(){return!FI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XI(){try{return typeof indexedDB=="object"}catch{return!1}}function WI(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="FirebaseError";class Bi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ZI,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yu.prototype.create)}}class Yu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,u=this.errors[e],h=u?JI(u,i):"Error",d=`${this.serviceName}: ${h} (${s}).`;return new Bi(s,d,i)}}function JI(r,e){return r.replace(ex,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const ex=/\{\$([^}]+)}/g;function tx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function As(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const u=r[s],h=e[s];if(oE(u)&&oE(h)){if(!As(u,h))return!1}else if(u!==h)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function oE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function pu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,u]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(u)}}),e}function yu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function nx(r,e){const t=new rx(r,e);return t.subscribe.bind(t)}class rx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ix(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=cg),s.error===void 0&&(s.error=cg),s.complete===void 0&&(s.complete=cg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ix(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r){return r&&r._delegate?r._delegate:r}class Rs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new UI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ox(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:s});i.resolve(u)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);i===d&&h.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const u=this.instances.get(i);return u&&e(u,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sx(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sx(r){return r===Ts?void 0:r}function ox(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ax(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const ux={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},cx=Ue.INFO,hx={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},fx=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),s=hx[e];if(s)console[s](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=cx,this._logHandler=fx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ux[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const dx=(r,e)=>e.some(t=>r instanceof t);let lE,uE;function mx(){return lE||(lE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gx(){return uE||(uE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ab=new WeakMap,Ig=new WeakMap,Rb=new WeakMap,hg=new WeakMap,Ap=new WeakMap;function px(r){const e=new Promise((t,i)=>{const s=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(Sa(r.result)),s()},h=()=>{i(r.error),s()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Ab.set(t,r)}).catch(()=>{}),Ap.set(e,r),e}function yx(r){if(Ig.has(r))return;const e=new Promise((t,i)=>{const s=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),s()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Ig.set(r,e)}let xg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ig.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Rb.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sa(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vx(r){xg=r(xg)}function _x(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(fg(this),e,...t);return Rb.set(i,e.sort?e.sort():[e]),Sa(i)}:gx().includes(r)?function(...e){return r.apply(fg(this),e),Sa(Ab.get(this))}:function(...e){return Sa(r.apply(fg(this),e))}}function Ex(r){return typeof r=="function"?_x(r):(r instanceof IDBTransaction&&yx(r),dx(r,mx())?new Proxy(r,xg):r)}function Sa(r){if(r instanceof IDBRequest)return px(r);if(hg.has(r))return hg.get(r);const e=Ex(r);return e!==r&&(hg.set(r,e),Ap.set(e,r)),e}const fg=r=>Ap.get(r);function Tx(r,e,{blocked:t,upgrade:i,blocking:s,terminated:u}={}){const h=indexedDB.open(r,e),d=Sa(h);return i&&h.addEventListener("upgradeneeded",p=>{i(Sa(h.result),p.oldVersion,p.newVersion,Sa(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),s&&p.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const bx=["get","getKey","getAll","getAllKeys","count"],wx=["put","add","delete","clear"],dg=new Map;function cE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=wx.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||bx.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,s?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&p.done]))[0]};return dg.set(e,u),u}vx(r=>({...r,get:(e,t,i)=>cE(e,t)||r.get(e,t,i),has:(e,t)=>!!cE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ax(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Ax(r){return r.getComponent()?.type==="VERSION"}const Cg="@firebase/app",hE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Sp("@firebase/app"),Rx="@firebase/app-compat",Ix="@firebase/analytics-compat",xx="@firebase/analytics",Cx="@firebase/app-check-compat",Dx="@firebase/app-check",Nx="@firebase/auth",Ox="@firebase/auth-compat",Mx="@firebase/database",Vx="@firebase/data-connect",Px="@firebase/database-compat",kx="@firebase/functions",Lx="@firebase/functions-compat",jx="@firebase/installations",Ux="@firebase/installations-compat",zx="@firebase/messaging",Bx="@firebase/messaging-compat",Hx="@firebase/performance",qx="@firebase/performance-compat",Fx="@firebase/remote-config",Gx="@firebase/remote-config-compat",Yx="@firebase/storage",$x="@firebase/storage-compat",Qx="@firebase/firestore",Kx="@firebase/ai",Xx="@firebase/firestore-compat",Wx="firebase",Zx="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="[DEFAULT]",Jx={[Cg]:"fire-core",[Rx]:"fire-core-compat",[xx]:"fire-analytics",[Ix]:"fire-analytics-compat",[Dx]:"fire-app-check",[Cx]:"fire-app-check-compat",[Nx]:"fire-auth",[Ox]:"fire-auth-compat",[Mx]:"fire-rtdb",[Vx]:"fire-data-connect",[Px]:"fire-rtdb-compat",[kx]:"fire-fn",[Lx]:"fire-fn-compat",[jx]:"fire-iid",[Ux]:"fire-iid-compat",[zx]:"fire-fcm",[Bx]:"fire-fcm-compat",[Hx]:"fire-perf",[qx]:"fire-perf-compat",[Fx]:"fire-rc",[Gx]:"fire-rc-compat",[Yx]:"fire-gcs",[$x]:"fire-gcs-compat",[Qx]:"fire-fst",[Xx]:"fire-fst-compat",[Kx]:"fire-vertex","fire-js":"fire-js",[Wx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Map,eC=new Map,Ng=new Map;function fE(r,e){try{r.container.addComponent(e)}catch(t){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Go(r){const e=r.name;if(Ng.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,r);for(const t of sf.values())fE(t,r);for(const t of eC.values())fE(t,r);return!0}function Rp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ur(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new Yu("app","Firebase",tC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=Zx;function Ib(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Dg,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw Aa.create("bad-app-name",{appName:String(s)});if(t||(t=Tb()),!t)throw Aa.create("no-options");const u=sf.get(s);if(u){if(As(t,u.options)&&As(i,u.config))return u;throw Aa.create("duplicate-app",{appName:s})}const h=new lx(s);for(const p of Ng.values())h.addComponent(p);const d=new nC(t,i,h);return sf.set(s,d),d}function xb(r=Dg){const e=sf.get(r);if(!e&&r===Dg&&Tb())return Ib();if(!e)throw Aa.create("no-app",{appName:r});return e}function Ra(r,e,t){let i=Jx[r]??r;t&&(i+=`-${t}`);const s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){const h=[`Unable to register library "${i}" with version "${e}":`];s&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(h.join(" "));return}Go(new Rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebase-heartbeat-database",iC=1,Du="firebase-heartbeat-store";let mg=null;function Cb(){return mg||(mg=Tx(rC,iC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Du)}catch(t){console.warn(t)}}}}).catch(r=>{throw Aa.create("idb-open",{originalErrorMessage:r.message})})),mg}async function aC(r){try{const t=(await Cb()).transaction(Du),i=await t.objectStore(Du).get(Db(r));return await t.done,i}catch(e){if(e instanceof Bi)Li.warn(e.message);else{const t=Aa.create("idb-get",{originalErrorMessage:e?.message});Li.warn(t.message)}}}async function dE(r,e){try{const i=(await Cb()).transaction(Du,"readwrite");await i.objectStore(Du).put(e,Db(r)),await i.done}catch(t){if(t instanceof Bi)Li.warn(t.message);else{const i=Aa.create("idb-set",{originalErrorMessage:t?.message});Li.warn(i.message)}}}function Db(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=1024,oC=30;class lC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>oC){const s=hC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mE(),{heartbeatsToSend:t,unsentEntries:i}=uC(this._heartbeatsCache.heartbeats),s=af(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Li.warn(e),""}}}function mE(){return new Date().toISOString().substring(0,10)}function uC(r,e=sC){const t=[];let i=r.slice();for(const s of r){const u=t.find(h=>h.agent===s.agent);if(u){if(u.dates.push(s.date),gE(t)>e){u.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),gE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class cC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XI()?WI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return dE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return dE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gE(r){return af(JSON.stringify({version:2,heartbeats:r})).length}function hC(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r){Go(new Rs("platform-logger",e=>new Sx(e),"PRIVATE")),Go(new Rs("heartbeat",e=>new lC(e),"PRIVATE")),Ra(Cg,hE,r),Ra(Cg,hE,"esm2020"),Ra("fire-js","")}fC("");function Nb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dC=Nb,Ob=new Yu("auth","Firebase",Nb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Sp("@firebase/auth");function mC(r,...e){of.logLevel<=Ue.WARN&&of.warn(`Auth (${nl}): ${r}`,...e)}function Fh(r,...e){of.logLevel<=Ue.ERROR&&of.error(`Auth (${nl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(r,...e){throw Ip(r,...e)}function Wr(r,...e){return Ip(r,...e)}function Mb(r,e,t){const i={...dC(),[e]:t};return new Yu("auth","Firebase",i).create(e,{appName:r.name})}function Pi(r){return Mb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return Ob.create(r,...e)}function Ie(r,e,...t){if(!r)throw Ip(e,...t)}function Oi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Fh(e),new Error(e)}function ji(r,e){r||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){return typeof self<"u"&&self.location?.href||""}function gC(){return pE()==="http:"||pE()==="https:"}function pE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gC()||YI()||"connection"in navigator)?navigator.onLine:!0}function yC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ji(t>e,"Short delay should be less than long delay!"),this.isMobile=qI()||$I()}get(){return pC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(r,e){ji(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EC=new Qu(3e4,6e4);function La(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ja(r,e,t,i,s={}){return Pb(r,s,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const d=$u({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return GI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&tl(r.emulatorConfig.host)&&(g.credentials="include"),Vb.fetch()(await kb(r,r.config.apiHost,t,d),g)})}async function Pb(r,e,t){r._canInitEmulator=!1;const i={...vC,...e};try{const s=new bC(r),u=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Mh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Mh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Mh(r,"user-disabled",h);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Mb(r,v,g);Rr(r,v)}}catch(s){if(s instanceof Bi)throw s;Rr(r,"network-request-failed",{message:String(s)})}}async function Ku(r,e,t,i,s={}){const u=await ja(r,e,t,i,s);return"mfaPendingCredential"in u&&Rr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function kb(r,e,t,i){const s=`${e}${t}?${i}`,u=r,h=u.config.emulator?xp(r.config,s):`${r.config.apiScheme}://${s}`;return _C.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function TC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Wr(this.auth,"network-request-failed")),EC.get())})}}function Mh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Wr(r,e,i);return s.customData._tokenResponse=t,s}function yE(r){return r!==void 0&&r.enterprise!==void 0}class wC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return TC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SC(r,e){return ja(r,"GET","/v2/recaptchaConfig",La(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,e){return ja(r,"POST","/v1/accounts:delete",e)}async function lf(r,e){return ja(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RC(r,e=!1){const t=It(r),i=await t.getIdToken(e),s=Cp(i);Ie(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const u=typeof s.firebase=="object"?s.firebase:void 0,h=u?.sign_in_provider;return{claims:s,token:i,authTime:wu(gg(s.auth_time)),issuedAtTime:wu(gg(s.iat)),expirationTime:wu(gg(s.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function gg(r){return Number(r)*1e3}function Cp(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Fh("JWT malformed, contained fewer than 3 sections"),null;try{const s=_b(t);return s?JSON.parse(s):(Fh("Failed to decode base64 JWT payload"),null)}catch(s){return Fh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function vE(r){const e=Cp(r);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Bi&&IC(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function IC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(r){const e=r.auth,t=await r.getIdToken(),i=await Nu(r,lf(e,{idToken:t}));Ie(i?.users.length,e,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const u=s.providerUserInfo?.length?Lb(s.providerUserInfo):[],h=DC(r.providerData,u),d=r.isAnonymous,p=!(r.email&&s.passwordHash)&&!h?.length,g=d?p:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:h,metadata:new Mg(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function CC(r){const e=It(r);await uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DC(r,e){return[...r.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Lb(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(r,e){const t=await Pb(r,{},async()=>{const i=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:u}=r.config,h=await kb(r,s,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return r.emulatorConfig&&tl(r.emulatorConfig.host)&&(p.credentials="include"),Vb.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OC(r,e){return ja(r,"POST","/v2/accounts:revokeToken",La(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=vE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:u}=await NC(e,t);this.updateTokensAndExpiration(i,s,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:u}=t,h=new Bo;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),s&&(Ie(typeof s=="string","internal-error",{appName:e}),h.accessToken=s),u&&(Ie(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(r,e){Ie(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class br{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new xC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Nu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return RC(this,e)}reload(){return CC(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await uf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await Nu(this,AC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:C,providerData:k,stsTokenManager:V}=t;Ie(b&&V,e,"internal-error");const j=Bo.fromJSON(this.name,V);Ie(typeof b=="string",e,"internal-error"),ya(i,e.name),ya(s,e.name),Ie(typeof w=="boolean",e,"internal-error"),Ie(typeof C=="boolean",e,"internal-error"),ya(u,e.name),ya(h,e.name),ya(d,e.name),ya(p,e.name),ya(g,e.name),ya(v,e.name);const z=new br({uid:b,auth:e,email:s,emailVerified:w,displayName:i,isAnonymous:C,photoURL:h,phoneNumber:u,tenantId:d,stsTokenManager:j,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(z.providerData=k.map(J=>({...J}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,t,i=!1){const s=new Bo;s.updateFromServerResponse(t);const u=new br({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await uf(u),u}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ie(s.localId!==void 0,"internal-error");const u=s.providerUserInfo!==void 0?Lb(s.providerUserInfo):[],h=!(s.email&&s.passwordHash)&&!u?.length,d=new Bo;d.updateFromIdToken(i);const p=new br({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Mg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;function Mi(r){ji(r instanceof Function,"Expected a class definition");let e=_E.get(r);return e?(ji(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,_E.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jb.type="NONE";const EE=jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(r,e,t){return`firebase:${r}:${e}:${t}`}class Ho{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:u}=this.auth;this.fullUserKey=Gh(this.userKey,s.apiKey,u),this.fullPersistenceKey=Gh("persistence",s.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await lf(this.auth,{idToken:e}).catch(()=>{});return t?br._fromGetAccountInfoResponse(this.auth,t,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ho(Mi(EE),e,i);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=s[0]||Mi(EE);const h=Gh(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(h);if(v){let b;if(typeof v=="string"){const w=await lf(e,{idToken:v}).catch(()=>{});if(!w)break;b=await br._fromGetAccountInfoResponse(e,w,v)}else b=br._fromJSON(e,v);g!==u&&(d=b),u=g;break}}catch{}const p=s.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ho(u,e,i):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Ho(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ub(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fb(e))return"Blackberry";if(Gb(e))return"Webos";if(zb(e))return"Safari";if((e.includes("chrome/")||Bb(e))&&!e.includes("edge/"))return"Chrome";if(qb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function Ub(r=wn()){return/firefox\//i.test(r)}function zb(r=wn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bb(r=wn()){return/crios\//i.test(r)}function Hb(r=wn()){return/iemobile/i.test(r)}function qb(r=wn()){return/android/i.test(r)}function Fb(r=wn()){return/blackberry/i.test(r)}function Gb(r=wn()){return/webos/i.test(r)}function Dp(r=wn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function MC(r=wn()){return Dp(r)&&!!window.navigator?.standalone}function VC(){return QI()&&document.documentMode===10}function Yb(r=wn()){return Dp(r)||qb(r)||Gb(r)||Fb(r)||/windows phone/i.test(r)||Hb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(r,e=[]){let t;switch(r){case"Browser":t=TE(wn());break;case"Worker":t=`${TE(wn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,e={}){return ja(r,"GET","/v2/passwordPolicy",La(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=6;class jC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??LC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bE(this),this.idTokenSubscription=new bE(this),this.beforeStateQueue=new PC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await lf(this,{idToken:e}),i=await br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ur(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(Pi(this));const t=e?It(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kC(this),t=new jC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await OC(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mi(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,s);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Os(r){return It(r)}class bE{constructor(e){this.auth=e,this.observer=null,this.addObserver=nx(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zC(r){Of=r}function Qb(r){return Of.loadJS(r)}function BC(){return Of.recaptchaEnterpriseScript}function HC(){return Of.gapiScript}function qC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class FC{constructor(){this.enterprise=new GC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class GC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const YC="recaptcha-enterprise",Kb="NO_RECAPTCHA";class $C{constructor(e){this.type=YC,this.auth=Os(e)}async verify(e="verify",t=!1){async function i(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{SC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new wC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function s(u,h,d){const p=window.grecaptcha;yE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Kb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(d=>{if(!t&&yE(window.grecaptcha))s(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=BC();p.length!==0&&(p+=d),Qb(p).then(()=>{s(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function wE(r,e,t,i=!1,s=!1){const u=new $C(r);let h;if(s)h=Kb;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Vg(r,e,t,i,s){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await wE(r,e,t,t==="getOobCode");return i(r,u)}else return i(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await wE(r,e,t,t==="getOobCode");return i(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(r,e){const t=Rp(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),u=t.getOptions();if(As(u,e??{}))return s;Rr(s,"already-initialized")}return t.initialize({options:e})}function KC(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Mi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function XC(r,e,t){const i=Os(r);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,u=Xb(e),{host:h,port:d}=WC(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(As(g,i.config.emulator)&&As(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,tl(h)?(wb(`${u}//${h}${p}`),Sb("Auth",!0)):ZC()}function Xb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function WC(r){const e=Xb(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const u=s[1];return{host:u,port:SE(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:SE(h)}}}function SE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ZC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function JC(r,e){return ja(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r,e){return Ku(r,"POST","/v1/accounts:signInWithPassword",La(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(r,e){return Ku(r,"POST","/v1/accounts:signInWithEmailLink",La(r,e))}async function nD(r,e){return Ku(r,"POST","/v1/accounts:signInWithEmailLink",La(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends Np{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Ou(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ou(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vg(e,t,"signInWithPassword",eD);case"emailLink":return tD(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vg(e,i,"signUpPassword",JC);case"emailLink":return nD(e,{idToken:t,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(r,e){return Ku(r,"POST","/v1/accounts:signInWithIdp",La(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="http://localhost";class Is extends Np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...u}=t;if(!i||!s)return null;const h=new Is(i,s);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:rD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$u(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aD(r){const e=pu(yu(r)).link,t=e?pu(yu(e)).deep_link_id:null,i=pu(yu(r)).deep_link_id;return(i?pu(yu(i)).link:null)||i||t||e||r}class Op{constructor(e){const t=pu(yu(e)),i=t.apiKey??null,s=t.oobCode??null,u=iD(t.mode??null);Ie(i&&s&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=aD(e);try{return new Op(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,t){return Ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Op.parseLink(t);return Ie(i,"argument-error"),Ou._fromEmailAndCode(e,i.code,i.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Xu{constructor(){super("facebook.com")}static credential(e){return Is._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.FACEBOOK_SIGN_IN_METHOD="facebook.com";va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Is._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return _a.credential(t,i)}catch{return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com";_a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Xu{constructor(){super("github.com")}static credential(e){return Is._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ea.credential(e.oauthAccessToken)}catch{return null}}}Ea.GITHUB_SIGN_IN_METHOD="github.com";Ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Xu{constructor(){super("twitter.com")}static credential(e,t){return Is._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ta.credential(t,i)}catch{return null}}}Ta.TWITTER_SIGN_IN_METHOD="twitter.com";Ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(r,e){return Ku(r,"POST","/v1/accounts:signUp",La(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const u=await br._fromIdTokenResponse(e,i,s),h=AE(i);return new xs({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=AE(i);return new xs({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function AE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends Bi{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,cf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new cf(e,t,i,s)}}function Zb(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?cf._fromErrorAndOperation(r,u,e,i):u})}async function oD(r,e,t=!1){const i=await Nu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return xs._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(r,e,t=!1){const{auth:i}=r;if(ur(i.app))return Promise.reject(Pi(i));const s="reauthenticate";try{const u=await Nu(r,Zb(i,s,e,r),t);Ie(u.idToken,i,"internal-error");const h=Cp(u.idToken);Ie(h,i,"internal-error");const{sub:d}=h;return Ie(r.uid===d,i,"user-mismatch"),xs._forOperation(r,s,u)}catch(u){throw u?.code==="auth/user-not-found"&&Rr(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(r,e,t=!1){if(ur(r.app))return Promise.reject(Pi(r));const i="signIn",s=await Zb(r,i,e),u=await xs._fromIdTokenResponse(r,i,s);return t||await r._updateCurrentUser(u.user),u}async function uD(r,e){return Jb(Os(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(r){const e=Os(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cD(r,e,t){if(ur(r.app))return Promise.reject(Pi(r));const i=Os(r),h=await Vg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ew(r),p}),d=await xs._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(d.user),d}function hD(r,e,t){return ur(r.app)?Promise.reject(Pi(r)):uD(It(r),rl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ew(r),i})}function fD(r,e,t,i){return It(r).onIdTokenChanged(e,t,i)}function dD(r,e,t){return It(r).beforeAuthStateChanged(e,t)}function tw(r,e,t,i){return It(r).onAuthStateChanged(e,t,i)}function mD(r){return It(r).signOut()}const hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1e3,pD=10;class rw extends nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);VC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pD):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rw.type="LOCAL";const yD=rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iw.type="SESSION";const aw=iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Mf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:u}=t.data,h=this.handlersMap[s];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await vD(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=Mp("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:s,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),s.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function ED(r){Zr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function TD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bD(){return navigator?.serviceWorker?.controller||null}function wD(){return sw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="firebaseLocalStorageDb",SD=1,ff="firebaseLocalStorage",lw="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vf(r,e){return r.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function AD(){const r=indexedDB.deleteDatabase(ow);return new Wu(r).toPromise()}function Pg(){const r=indexedDB.open(ow,SD);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(ff,{keyPath:lw})}catch(s){t(s)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(ff)?e(i):(i.close(),await AD(),e(await Pg()))})})}async function RE(r,e,t){const i=Vf(r,!0).put({[lw]:e,value:t});return new Wu(i).toPromise()}async function RD(r,e){const t=Vf(r,!1).get(e),i=await new Wu(t).toPromise();return i===void 0?null:i.value}function IE(r,e){const t=Vf(r,!0).delete(e);return new Wu(t).toPromise()}const ID=800,xD=3;class uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>xD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mf._getInstance(wD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TD(),!this.activeServiceWorker)return;this.sender=new _D(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pg();return await RE(e,hf,"1"),await IE(e,hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>RE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>RD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>IE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const u=Vf(s,!1).getAll();return new Wu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:u}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ID)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uw.type="LOCAL";const CD=uw;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(r,e){return e?Mi(e):(Ie(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends Np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ND(r){return Jb(r.auth,new Vp(r),r.bypassAuthState)}function OD(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),lD(t,new Vp(r),r.bypassAuthState)}async function MD(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),oD(t,new Vp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t,i,s,u=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ND;case"linkViaPopup":case"linkViaRedirect":return MD;case"reauthViaPopup":case"reauthViaRedirect":return OD;default:Rr(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new Qu(2e3,1e4);class Lo extends cw{constructor(e,t,i,s,u){super(e,t,s,u),this.provider=i,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VD.get())};e()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="pendingRedirect",Yh=new Map;class kD extends cw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{const i=await LD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LD(r,e){const t=zD(e),i=UD(r);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function jD(r,e){Yh.set(r._key(),e)}function UD(r){return Mi(r._redirectPersistence)}function zD(r){return Gh(PD,r.config.apiKey,r.name)}async function BD(r,e,t=!1){if(ur(r.app))return Promise.reject(Pi(r));const i=Os(r),s=DD(i,e),h=await new kD(i,s,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=600*1e3;class qD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!hw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Wr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HD&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function hw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function FD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(r,e={}){return ja(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$D=/^https?/;async function QD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await GD(r);for(const t of e)try{if(KD(t))return}catch{}Rr(r,"unauthorized-domain")}function KD(r){const e=Og(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!$D.test(t))return!1;if(YD.test(r))return i===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Qu(3e4,6e4);function CE(){const r=Zr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function WD(r){return new Promise((e,t)=>{function i(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),t(Wr(r,"network-request-failed"))},timeout:XD.get()})}if(Zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zr().gapi?.load)i();else{const s=qC("iframefcb");return Zr()[s]=()=>{gapi.load?i():t(Wr(r,"network-request-failed"))},Qb(`${HC()}?onload=${s}`).catch(u=>t(u))}}).catch(e=>{throw $h=null,e})}let $h=null;function ZD(r){return $h=$h||WD(r),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Qu(5e3,15e3),eN="__/auth/iframe",tN="emulator/auth/iframe",nN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iN(r){const e=r.config;Ie(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?xp(e,tN):`https://${r.config.authDomain}/${eN}`,i={apiKey:e.apiKey,appName:r.name,v:nl},s=rN.get(r.config.apiHost);s&&(i.eid=s);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${$u(i).slice(1)}`}async function aN(r){const e=await ZD(r),t=Zr().gapi;return Ie(t,r,"internal-error"),e.open({where:document.body,url:iN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nN,dontclear:!0},i=>new Promise(async(s,u)=>{await i.restyle({setHideOnLeave:!1});const h=Wr(r,"network-request-failed"),d=Zr().setTimeout(()=>{u(h)},JD.get());function p(){Zr().clearTimeout(d),s(i)}i.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oN=500,lN=600,uN="_blank",cN="http://localhost";class DE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hN(r,e,t,i=oN,s=lN){const u=Math.max((window.screen.availHeight-s)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...sN,width:i.toString(),height:s.toString(),top:u,left:h},g=wn().toLowerCase();t&&(d=Bb(g)?uN:t),Ub(g)&&(e=e||cN,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[C,k])=>`${w}${C}=${k},`,"");if(MC(g)&&d!=="_self")return fN(e||"",d),new DE(null);const b=window.open(e||"",d,v);Ie(b,r,"popup-blocked");try{b.focus()}catch{}return new DE(b)}function fN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="__/auth/handler",mN="emulator/auth/handler",gN=encodeURIComponent("fac");async function NE(r,e,t,i,s,u){Ie(r.config.authDomain,r,"auth-domain-config-required"),Ie(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:nl,eventId:s};if(e instanceof Wb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",tx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof Xu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await r._getAppCheckToken(),g=p?`#${gN}=${encodeURIComponent(p)}`:"";return`${pN(r)}?${$u(d).slice(1)}${g}`}function pN({config:r}){return r.emulator?xp(r,mN):`https://${r.authDomain}/${dN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="webStorageSupport";class yN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aw,this._completeRedirectFn=BD,this._overrideRedirectResult=jD}async _openPopup(e,t,i,s){ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await NE(e,t,i,Og(),s);return hN(e,u,Mp())}async _openRedirect(e,t,i,s){await this._originValidation(e);const u=await NE(e,t,i,Og(),s);return ED(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:u}=this.eventManagers[t];return s?Promise.resolve(s):(ji(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await aN(e),i=new qD(e);return t.register("authEvent",s=>(Ie(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pg,{type:pg},s=>{const u=s?.[0]?.[pg];u!==void 0&&t(!!u),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yb()||zb()||Dp()}}const vN=yN;var OE="@firebase/auth",ME="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TN(r){Go(new Rs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=i.options;Ie(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$b(r)},g=new UC(i,s,u,p);return KC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Go(new Rs("auth-internal",e=>{const t=Os(e.getProvider("auth").getImmediate());return(i=>new _N(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ra(OE,ME,EN(r)),Ra(OE,ME,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=300,wN=bb("authIdTokenMaxAge")||bN;let VE=null;const SN=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>wN)return;const s=t?.token;VE!==s&&(VE=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function AN(r=xb()){const e=Rp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=QC(r,{popupRedirectResolver:vN,persistence:[CD,yD,aw]}),i=bb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=SN(u.toString());dD(t,h,()=>h(t.currentUser)),fD(t,d=>h(d))}}const s=Eb("auth");return s&&XC(t,`http://${s}`),t}function RN(){return document.getElementsByTagName("head")?.[0]??document}zC({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=s=>{const u=Wr("internal-error");u.customData=s,t(u)},i.type="text/javascript",i.charset="UTF-8",RN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TN("Browser");var IN="firebase",xN="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ra(IN,xN,"app");var PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ia,fw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,I){function D(){}D.prototype=I.prototype,U.D=I.prototype,U.prototype=new D,U.prototype.constructor=U,U.C=function(O,M,H){for(var R=Array(arguments.length-2),he=2;he<arguments.length;he++)R[he-2]=arguments[he];return I.prototype[M].apply(O,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(U,I,D){D||(D=0);var O=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)O[M]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(M=0;16>M;++M)O[M]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=U.g[0],D=U.g[1],M=U.g[2];var H=U.g[3],R=I+(H^D&(M^H))+O[0]+3614090360&4294967295;I=D+(R<<7&4294967295|R>>>25),R=H+(M^I&(D^M))+O[1]+3905402710&4294967295,H=I+(R<<12&4294967295|R>>>20),R=M+(D^H&(I^D))+O[2]+606105819&4294967295,M=H+(R<<17&4294967295|R>>>15),R=D+(I^M&(H^I))+O[3]+3250441966&4294967295,D=M+(R<<22&4294967295|R>>>10),R=I+(H^D&(M^H))+O[4]+4118548399&4294967295,I=D+(R<<7&4294967295|R>>>25),R=H+(M^I&(D^M))+O[5]+1200080426&4294967295,H=I+(R<<12&4294967295|R>>>20),R=M+(D^H&(I^D))+O[6]+2821735955&4294967295,M=H+(R<<17&4294967295|R>>>15),R=D+(I^M&(H^I))+O[7]+4249261313&4294967295,D=M+(R<<22&4294967295|R>>>10),R=I+(H^D&(M^H))+O[8]+1770035416&4294967295,I=D+(R<<7&4294967295|R>>>25),R=H+(M^I&(D^M))+O[9]+2336552879&4294967295,H=I+(R<<12&4294967295|R>>>20),R=M+(D^H&(I^D))+O[10]+4294925233&4294967295,M=H+(R<<17&4294967295|R>>>15),R=D+(I^M&(H^I))+O[11]+2304563134&4294967295,D=M+(R<<22&4294967295|R>>>10),R=I+(H^D&(M^H))+O[12]+1804603682&4294967295,I=D+(R<<7&4294967295|R>>>25),R=H+(M^I&(D^M))+O[13]+4254626195&4294967295,H=I+(R<<12&4294967295|R>>>20),R=M+(D^H&(I^D))+O[14]+2792965006&4294967295,M=H+(R<<17&4294967295|R>>>15),R=D+(I^M&(H^I))+O[15]+1236535329&4294967295,D=M+(R<<22&4294967295|R>>>10),R=I+(M^H&(D^M))+O[1]+4129170786&4294967295,I=D+(R<<5&4294967295|R>>>27),R=H+(D^M&(I^D))+O[6]+3225465664&4294967295,H=I+(R<<9&4294967295|R>>>23),R=M+(I^D&(H^I))+O[11]+643717713&4294967295,M=H+(R<<14&4294967295|R>>>18),R=D+(H^I&(M^H))+O[0]+3921069994&4294967295,D=M+(R<<20&4294967295|R>>>12),R=I+(M^H&(D^M))+O[5]+3593408605&4294967295,I=D+(R<<5&4294967295|R>>>27),R=H+(D^M&(I^D))+O[10]+38016083&4294967295,H=I+(R<<9&4294967295|R>>>23),R=M+(I^D&(H^I))+O[15]+3634488961&4294967295,M=H+(R<<14&4294967295|R>>>18),R=D+(H^I&(M^H))+O[4]+3889429448&4294967295,D=M+(R<<20&4294967295|R>>>12),R=I+(M^H&(D^M))+O[9]+568446438&4294967295,I=D+(R<<5&4294967295|R>>>27),R=H+(D^M&(I^D))+O[14]+3275163606&4294967295,H=I+(R<<9&4294967295|R>>>23),R=M+(I^D&(H^I))+O[3]+4107603335&4294967295,M=H+(R<<14&4294967295|R>>>18),R=D+(H^I&(M^H))+O[8]+1163531501&4294967295,D=M+(R<<20&4294967295|R>>>12),R=I+(M^H&(D^M))+O[13]+2850285829&4294967295,I=D+(R<<5&4294967295|R>>>27),R=H+(D^M&(I^D))+O[2]+4243563512&4294967295,H=I+(R<<9&4294967295|R>>>23),R=M+(I^D&(H^I))+O[7]+1735328473&4294967295,M=H+(R<<14&4294967295|R>>>18),R=D+(H^I&(M^H))+O[12]+2368359562&4294967295,D=M+(R<<20&4294967295|R>>>12),R=I+(D^M^H)+O[5]+4294588738&4294967295,I=D+(R<<4&4294967295|R>>>28),R=H+(I^D^M)+O[8]+2272392833&4294967295,H=I+(R<<11&4294967295|R>>>21),R=M+(H^I^D)+O[11]+1839030562&4294967295,M=H+(R<<16&4294967295|R>>>16),R=D+(M^H^I)+O[14]+4259657740&4294967295,D=M+(R<<23&4294967295|R>>>9),R=I+(D^M^H)+O[1]+2763975236&4294967295,I=D+(R<<4&4294967295|R>>>28),R=H+(I^D^M)+O[4]+1272893353&4294967295,H=I+(R<<11&4294967295|R>>>21),R=M+(H^I^D)+O[7]+4139469664&4294967295,M=H+(R<<16&4294967295|R>>>16),R=D+(M^H^I)+O[10]+3200236656&4294967295,D=M+(R<<23&4294967295|R>>>9),R=I+(D^M^H)+O[13]+681279174&4294967295,I=D+(R<<4&4294967295|R>>>28),R=H+(I^D^M)+O[0]+3936430074&4294967295,H=I+(R<<11&4294967295|R>>>21),R=M+(H^I^D)+O[3]+3572445317&4294967295,M=H+(R<<16&4294967295|R>>>16),R=D+(M^H^I)+O[6]+76029189&4294967295,D=M+(R<<23&4294967295|R>>>9),R=I+(D^M^H)+O[9]+3654602809&4294967295,I=D+(R<<4&4294967295|R>>>28),R=H+(I^D^M)+O[12]+3873151461&4294967295,H=I+(R<<11&4294967295|R>>>21),R=M+(H^I^D)+O[15]+530742520&4294967295,M=H+(R<<16&4294967295|R>>>16),R=D+(M^H^I)+O[2]+3299628645&4294967295,D=M+(R<<23&4294967295|R>>>9),R=I+(M^(D|~H))+O[0]+4096336452&4294967295,I=D+(R<<6&4294967295|R>>>26),R=H+(D^(I|~M))+O[7]+1126891415&4294967295,H=I+(R<<10&4294967295|R>>>22),R=M+(I^(H|~D))+O[14]+2878612391&4294967295,M=H+(R<<15&4294967295|R>>>17),R=D+(H^(M|~I))+O[5]+4237533241&4294967295,D=M+(R<<21&4294967295|R>>>11),R=I+(M^(D|~H))+O[12]+1700485571&4294967295,I=D+(R<<6&4294967295|R>>>26),R=H+(D^(I|~M))+O[3]+2399980690&4294967295,H=I+(R<<10&4294967295|R>>>22),R=M+(I^(H|~D))+O[10]+4293915773&4294967295,M=H+(R<<15&4294967295|R>>>17),R=D+(H^(M|~I))+O[1]+2240044497&4294967295,D=M+(R<<21&4294967295|R>>>11),R=I+(M^(D|~H))+O[8]+1873313359&4294967295,I=D+(R<<6&4294967295|R>>>26),R=H+(D^(I|~M))+O[15]+4264355552&4294967295,H=I+(R<<10&4294967295|R>>>22),R=M+(I^(H|~D))+O[6]+2734768916&4294967295,M=H+(R<<15&4294967295|R>>>17),R=D+(H^(M|~I))+O[13]+1309151649&4294967295,D=M+(R<<21&4294967295|R>>>11),R=I+(M^(D|~H))+O[4]+4149444226&4294967295,I=D+(R<<6&4294967295|R>>>26),R=H+(D^(I|~M))+O[11]+3174756917&4294967295,H=I+(R<<10&4294967295|R>>>22),R=M+(I^(H|~D))+O[2]+718787259&4294967295,M=H+(R<<15&4294967295|R>>>17),R=D+(H^(M|~I))+O[9]+3951481745&4294967295,U.g[0]=U.g[0]+I&4294967295,U.g[1]=U.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,U.g[2]=U.g[2]+M&4294967295,U.g[3]=U.g[3]+H&4294967295}i.prototype.u=function(U,I){I===void 0&&(I=U.length);for(var D=I-this.blockSize,O=this.B,M=this.h,H=0;H<I;){if(M==0)for(;H<=D;)s(this,U,H),H+=this.blockSize;if(typeof U=="string"){for(;H<I;)if(O[M++]=U.charCodeAt(H++),M==this.blockSize){s(this,O),M=0;break}}else for(;H<I;)if(O[M++]=U[H++],M==this.blockSize){s(this,O),M=0;break}}this.h=M,this.o+=I},i.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var I=1;I<U.length-8;++I)U[I]=0;var D=8*this.o;for(I=U.length-8;I<U.length;++I)U[I]=D&255,D/=256;for(this.u(U),U=Array(16),I=D=0;4>I;++I)for(var O=0;32>O;O+=8)U[D++]=this.g[I]>>>O&255;return U};function u(U,I){var D=d;return Object.prototype.hasOwnProperty.call(D,U)?D[U]:D[U]=I(U)}function h(U,I){this.h=I;for(var D=[],O=!0,M=U.length-1;0<=M;M--){var H=U[M]|0;O&&H==I||(D[M]=H,O=!1)}this.g=D}var d={};function p(U){return-128<=U&&128>U?u(U,function(I){return new h([I|0],0>I?-1:0)}):new h([U|0],0>U?-1:0)}function g(U){if(isNaN(U)||!isFinite(U))return b;if(0>U)return j(g(-U));for(var I=[],D=1,O=0;U>=D;O++)I[O]=U/D|0,D*=4294967296;return new h(I,0)}function v(U,I){if(U.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(U.charAt(0)=="-")return j(v(U.substring(1),I));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(I,8)),O=b,M=0;M<U.length;M+=8){var H=Math.min(8,U.length-M),R=parseInt(U.substring(M,M+H),I);8>H?(H=g(Math.pow(I,H)),O=O.j(H).add(g(R))):(O=O.j(D),O=O.add(g(R)))}return O}var b=p(0),w=p(1),C=p(16777216);r=h.prototype,r.m=function(){if(V(this))return-j(this).m();for(var U=0,I=1,D=0;D<this.g.length;D++){var O=this.i(D);U+=(0<=O?O:4294967296+O)*I,I*=4294967296}return U},r.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(k(this))return"0";if(V(this))return"-"+j(this).toString(U);for(var I=g(Math.pow(U,6)),D=this,O="";;){var M=ie(D,I).g;D=z(D,M.j(I));var H=((0<D.g.length?D.g[0]:D.h)>>>0).toString(U);if(D=M,k(D))return H+O;for(;6>H.length;)H="0"+H;O=H+O}},r.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function k(U){if(U.h!=0)return!1;for(var I=0;I<U.g.length;I++)if(U.g[I]!=0)return!1;return!0}function V(U){return U.h==-1}r.l=function(U){return U=z(this,U),V(U)?-1:k(U)?0:1};function j(U){for(var I=U.g.length,D=[],O=0;O<I;O++)D[O]=~U.g[O];return new h(D,~U.h).add(w)}r.abs=function(){return V(this)?j(this):this},r.add=function(U){for(var I=Math.max(this.g.length,U.g.length),D=[],O=0,M=0;M<=I;M++){var H=O+(this.i(M)&65535)+(U.i(M)&65535),R=(H>>>16)+(this.i(M)>>>16)+(U.i(M)>>>16);O=R>>>16,H&=65535,R&=65535,D[M]=R<<16|H}return new h(D,D[D.length-1]&-2147483648?-1:0)};function z(U,I){return U.add(j(I))}r.j=function(U){if(k(this)||k(U))return b;if(V(this))return V(U)?j(this).j(j(U)):j(j(this).j(U));if(V(U))return j(this.j(j(U)));if(0>this.l(C)&&0>U.l(C))return g(this.m()*U.m());for(var I=this.g.length+U.g.length,D=[],O=0;O<2*I;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<U.g.length;M++){var H=this.i(O)>>>16,R=this.i(O)&65535,he=U.i(M)>>>16,ue=U.i(M)&65535;D[2*O+2*M]+=R*ue,J(D,2*O+2*M),D[2*O+2*M+1]+=H*ue,J(D,2*O+2*M+1),D[2*O+2*M+1]+=R*he,J(D,2*O+2*M+1),D[2*O+2*M+2]+=H*he,J(D,2*O+2*M+2)}for(O=0;O<I;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=I;O<2*I;O++)D[O]=0;return new h(D,0)};function J(U,I){for(;(U[I]&65535)!=U[I];)U[I+1]+=U[I]>>>16,U[I]&=65535,I++}function ee(U,I){this.g=U,this.h=I}function ie(U,I){if(k(I))throw Error("division by zero");if(k(U))return new ee(b,b);if(V(U))return I=ie(j(U),I),new ee(j(I.g),j(I.h));if(V(I))return I=ie(U,j(I)),new ee(j(I.g),I.h);if(30<U.g.length){if(V(U)||V(I))throw Error("slowDivide_ only works with positive integers.");for(var D=w,O=I;0>=O.l(U);)D=te(D),O=te(O);var M=pe(D,1),H=pe(O,1);for(O=pe(O,2),D=pe(D,2);!k(O);){var R=H.add(O);0>=R.l(U)&&(M=M.add(D),H=R),O=pe(O,1),D=pe(D,1)}return I=z(U,M.j(I)),new ee(M,I)}for(M=b;0<=U.l(I);){for(D=Math.max(1,Math.floor(U.m()/I.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),H=g(D),R=H.j(I);V(R)||0<R.l(U);)D-=O,H=g(D),R=H.j(I);k(H)&&(H=w),M=M.add(H),U=z(U,R)}return new ee(M,U)}r.A=function(U){return ie(this,U).h},r.and=function(U){for(var I=Math.max(this.g.length,U.g.length),D=[],O=0;O<I;O++)D[O]=this.i(O)&U.i(O);return new h(D,this.h&U.h)},r.or=function(U){for(var I=Math.max(this.g.length,U.g.length),D=[],O=0;O<I;O++)D[O]=this.i(O)|U.i(O);return new h(D,this.h|U.h)},r.xor=function(U){for(var I=Math.max(this.g.length,U.g.length),D=[],O=0;O<I;O++)D[O]=this.i(O)^U.i(O);return new h(D,this.h^U.h)};function te(U){for(var I=U.g.length+1,D=[],O=0;O<I;O++)D[O]=U.i(O)<<1|U.i(O-1)>>>31;return new h(D,U.h)}function pe(U,I){var D=I>>5;I%=32;for(var O=U.g.length-D,M=[],H=0;H<O;H++)M[H]=0<I?U.i(H+D)>>>I|U.i(H+D+1)<<32-I:U.i(H+D);return new h(M,U.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,fw=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Ia=h}).apply(typeof PE<"u"?PE:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dw,vu,mw,Qh,kg,gw,pw,yw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function s(c,y){if(y)e:{var E=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var F=c[A];if(!(F in E))break e;E=E[F]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var E=0,A=!1,F={next:function(){if(!A&&E<c.length){var W=E++;return{value:y(W,c[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(c){return c||function(){return u(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,E){return c.call.apply(c.bind,arguments)}function b(c,y,E){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function w(c,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,w.apply(null,arguments)}function C(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function k(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(A,F,W){for(var de=Array(arguments.length-2),He=2;He<arguments.length;He++)de[He-2]=arguments[He];return y.prototype[F].apply(A,de)}}function V(c){const y=c.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function j(c,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(p(A)){const F=c.length||0,W=A.length||0;c.length=F+W;for(let de=0;de<W;de++)c[F+de]=A[de]}else c.push(A)}}class z{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var te=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function pe(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function U(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function I(c){const y={};for(const E in c)y[E]=c[E];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)c[E]=A[E];for(let W=0;W<D.length;W++)E=D[W],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function M(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function H(c){d.setTimeout(()=>{throw c},0)}function R(){var c=fe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class he{constructor(){this.h=this.g=null}add(y,E){const A=ue.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ue=new z(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let K,Z=!1,fe=new he,x=()=>{const c=d.Promise.resolve(void 0);K=()=>{c.then(X)}};var X=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(E){H(E)}var y=ue;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Z=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,y),d.removeEventListener("test",E,y)}catch{}return c}();function be(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(te){e:{try{ie(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}k(be,se);var _e={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function lt(c,y,E,A,F){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=F,this.key=++Ve,this.da=this.fa=!1}function ut(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wt(c){this.src=c,this.g={},this.h=0}wt.prototype.add=function(c,y,E,A,F){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var de=yn(c,y,A,F);return-1<de?(y=c[de],E||(y.fa=!1)):(y=new lt(y,this.src,W,!!A,F),y.fa=E,c.push(y)),y};function $t(c,y){var E=y.type;if(E in c.g){var A=c.g[E],F=Array.prototype.indexOf.call(A,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(A,F,1),W&&(ut(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function yn(c,y,E,A){for(var F=0;F<c.length;++F){var W=c[F];if(!W.da&&W.listener==y&&W.capture==!!E&&W.ha==A)return F}return-1}var ct="closure_lm_"+(1e6*Math.random()|0),fr={};function nn(c,y,E,A,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)nn(c,y[W],E,A,F);return null}return E=zs(E),c&&c[Qe]?c.K(y,E,g(A)?!!A.capture:!1,F):rn(c,y,E,!1,A,F)}function rn(c,y,E,A,F,W){if(!y)throw Error("Invalid event type");var de=g(F)?!!F.capture:!!F,He=si(c);if(He||(c[ct]=He=new wt(c)),E=He.add(y,E,A,de,W),E.proxy)return E;if(A=Us(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)ge||(F=de),F===void 0&&(F=!1),c.addEventListener(y.toString(),A,F);else if(c.attachEvent)c.attachEvent(ai(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Us(){function c(E){return y.call(c.src,c.listener,E)}const y=ml;return c}function qi(c,y,E,A,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)qi(c,y[W],E,A,F);else A=g(A)?!!A.capture:!!A,E=zs(E),c&&c[Qe]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],E=yn(W,E,A,F),-1<E&&(ut(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=si(c))&&(y=c.g[y.toString()],c=-1,y&&(c=yn(y,E,A,F)),(E=-1<c?y[c]:null)&&Fi(E))}function Fi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Qe])$t(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(ai(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=si(y))?($t(E,c),E.h==0&&(E.src=null,y[ct]=null)):ut(c)}}}function ai(c){return c in fr?fr[c]:fr[c]="on"+c}function ml(c,y){if(c.da)c=!0;else{y=new be(y,this);var E=c.listener,A=c.ha||c.src;c.fa&&Fi(c),c=E.call(A,y)}return c}function si(c){return c=c[ct],c instanceof wt?c:null}var qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function zs(c){return typeof c=="function"?c:(c[qa]||(c[qa]=function(y){return c.handleEvent(y)}),c[qa])}function gt(){ce.call(this),this.i=new wt(this),this.M=this,this.F=null}k(gt,ce),gt.prototype[Qe]=!0,gt.prototype.removeEventListener=function(c,y,E,A){qi(this,c,y,E,A)};function We(c,y){var E,A=c.F;if(A)for(E=[];A;A=A.F)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var F=y;y=new se(A,c),O(y,F)}if(F=!0,E)for(var W=E.length-1;0<=W;W--){var de=y.g=E[W];F=Sn(de,A,!0,y)&&F}if(de=y.g=c,F=Sn(de,A,!0,y)&&F,F=Sn(de,A,!1,y)&&F,E)for(W=0;W<E.length;W++)de=y.g=E[W],F=Sn(de,A,!1,y)&&F}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],A=0;A<E.length;A++)ut(E[A]);delete c.g[y],c.h--}}this.F=null},gt.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},gt.prototype.L=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function Sn(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var de=y[W];if(de&&!de.da&&de.capture==E){var He=de.listener,Bt=de.ha||de.src;de.fa&&$t(c.i,de),F=He.call(Bt,A)!==!1&&F}}return F&&!A.defaultPrevented}function Nt(c,y,E){if(typeof c=="function")E&&(c=w(c,E));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Fa(c){c.g=Nt(()=>{c.g=null,c.i&&(c.i=!1,Fa(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Bs extends ce{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Fa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(c){ce.call(this),this.h=c,this.g={}}k(oi,ce);var Qn=[];function Dr(c){pe(c.g,function(y,E){this.g.hasOwnProperty(E)&&Fi(y)},c),c.g={}}oi.prototype.N=function(){oi.aa.N.call(this),Dr(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=d.JSON.stringify,li=d.JSON.parse,Nr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ui(){}ui.prototype.h=null;function Ga(c){return c.h||(c.h=c.i())}function Gi(){}var dr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){se.call(this,"d")}k(Kn,se);function Ot(){se.call(this,"c")}k(Ot,se);var mt={},Or=null;function Ke(){return Or=Or||new gt}mt.La="serverreachability";function an(c){se.call(this,mt.La,c)}k(an,se);function Mr(c){const y=Ke();We(y,new an(y))}mt.STAT_EVENT="statevent";function Yi(c,y){se.call(this,mt.STAT_EVENT,c),this.stat=y}k(Yi,se);function ht(c){const y=Ke();We(y,new Yi(y,c))}mt.Ma="timingevent";function St(c,y){se.call(this,mt.Ma,c),this.size=y}k(St,se);function pt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function sn(){this.g=!0}sn.prototype.xa=function(){this.g=!1};function ci(c,y,E,A,F,W){c.info(function(){if(c.g)if(W)for(var de="",He=W.split("&"),Bt=0;Bt<He.length;Bt++){var qe=He[Bt].split("=");if(1<qe.length){var Xt=qe[0];qe=qe[1];var Ht=Xt.split("_");de=2<=Ht.length&&Ht[1]=="type"?de+(Xt+"="+qe+"&"):de+(Xt+"=redacted&")}}else de=null;else de=W;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+E+`
`+de})}function Ya(c,y,E,A,F,W,de){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+E+`
`+W+" "+de})}function Xn(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+mr(c,E)+(A?" "+A:"")})}function Hs(c,y){c.info(function(){return"TIMEOUT: "+y})}sn.prototype.info=function(){};function mr(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var A=E[c];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var de=1;de<F.length;de++)F[de]=""}}}}return Pn(E)}catch{return y}}var gr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Ce(){}k(Ce,ui),Ce.prototype.g=function(){return new XMLHttpRequest},Ce.prototype.i=function(){return{}},Wn=new Ce;function Pe(c,y,E,A){this.j=c,this.i=y,this.l=E,this.R=A||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var on={},Qt={};function An(c,y,E){c.L=1,c.v=Wa(kn(y)),c.m=E,c.P=!0,yr(c,null)}function yr(c,y){c.F=Date.now(),$a(c),c.A=kn(c.v);var E=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),El(E.i,"t",A),c.C=0,E=c.j.J,c.h=new Ne,c.g=Ic(c.j,E?y:null,!c.m),0<c.O&&(c.M=new Bs(w(c.Y,c,c.g),c.O)),y=c.U,E=c.g,A=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Qn[0]=F.toString()),F=Qn);for(var W=0;W<F.length;W++){var de=nn(E,F[W],A||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Mr(),ci(c.i,c.u,c.A,c.l,c.R,c.m)}Pe.prototype.ca=function(c){c=c.target;const y=this.M;y&&tr(c)==3?y.j():this.Y(c)},Pe.prototype.Y=function(c){try{if(c==this.g)e:{const Ht=tr(this.g);var y=this.g.Ba();const vi=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||_c(this.g)))){this.J||Ht!=4||y==7||(y==8||0>=vi?Mr(3):Mr(2)),$i(this);var E=this.g.Z();this.X=E;t:if(qs(this)){var A=_c(this.g);c="";var F=A.length,W=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Vr(this);var de="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(W&&y==F-1)});A.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,Ya(this.i,this.u,this.A,this.l,this.R,Ht,E),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Bt=this.g;if((He=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(He)){var qe=He;break t}}qe=null}if(E=qe)Xn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qa(this,E);else{this.o=!1,this.s=3,ht(12),ln(this),Vr(this);break e}}if(this.P){E=!0;let un;for(;!this.J&&this.C<de.length;)if(un=dc(this,de),un==Qt){Ht==4&&(this.s=4,ht(14),E=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==on){this.s=4,ht(15),Xn(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else Xn(this.i,this.l,un,null),Qa(this,un);if(qs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||de.length!=0||this.h.h||(this.s=1,ht(16),E=!1),this.o=this.o&&E,!E)Xn(this.i,this.l,de,"[Invalid Chunked Response]"),ln(this),Vr(this);else if(0<de.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),as(Xt),Xt.M=!0,ht(11))}}else Xn(this.i,this.l,de,null),Qa(this,de);Ht==4&&ln(this),this.o&&!this.J&&(Ht==4?Sc(this.j,this):(this.o=!1,$a(this)))}else cd(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),ln(this),Vr(this)}}}catch{}finally{}};function qs(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dc(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?Qt:(E=Number(y.substring(E,A)),isNaN(E)?on:(A+=1,A+E>y.length?Qt:(y=y.slice(A,A+E),c.C=A+E,y)))}Pe.prototype.cancel=function(){this.J=!0,ln(this)};function $a(c){c.S=Date.now()+c.I,mc(c,c.I)}function mc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(w(c.ba,c),y)}function $i(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Pe.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Hs(this.i,this.A),this.L!=2&&(Mr(),ht(17)),ln(this),this.s=2,Vr(this)):mc(this,this.S-c)};function Vr(c){c.j.G==0||c.J||Sc(c.j,c)}function ln(c){$i(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Dr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Qa(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||gl(E.h,c))){if(!c.K&&gl(E.h,c)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)to(E),Js(E);else break e;Al(E),ht(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=pt(w(E.Za,E),6e3));if(1>=Gs(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else yi(E,11)}else if((c.K||E.g==c)&&to(E),!J(y))for(F=E.Da.g.parse(y),y=0;y<F.length;y++){let qe=F[y];if(E.T=qe[0],qe=qe[1],E.G==2)if(qe[0]=="c"){E.K=qe[1],E.ia=qe[2];const Xt=qe[3];Xt!=null&&(E.la=Xt,E.j.info("VER="+E.la));const Ht=qe[4];Ht!=null&&(E.Aa=Ht,E.j.info("SVER="+E.Aa));const vi=qe[5];vi!=null&&typeof vi=="number"&&0<vi&&(A=1.5*vi,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const un=c.g;if(un){const Br=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var W=A.h;W.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ys(W,W.h),W.h=null))}if(A.D){const Il=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(A.ya=Il,rt(A.I,A.D,Il))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var de=c;if(A.qa=Rc(A,A.J?A.ia:null,A.W),de.K){Rn(A.h,de);var He=de,Bt=A.L;Bt&&(He.I=Bt),He.B&&($i(He),$a(He)),A.g=de}else bc(A);0<E.i.length&&eo(E)}else qe[0]!="stop"&&qe[0]!="close"||yi(E,7);else E.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?yi(E,7):wl(E):qe[0]!="noop"&&E.l&&E.l.ta(qe),E.v=0)}}Mr(4)}catch{}}var gc=class{constructor(c,y){this.g=c,this.map=y}};function hi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Gs(c){return c.h?1:c.g?c.g.size:0}function gl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ys(c,y){c.g?c.g.add(y):c.h=y}function Rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}hi.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return V(c.i)}function sd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],E=c.length,A=0;A<E;A++)y.push(c[A]);return y}y=[],E=0;for(A in c)y[E++]=c[A];return y}function $s(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const A in c)y[E++]=A;return y}}}function yl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=$s(c),A=sd(c),F=A.length,W=0;W<F;W++)y.call(void 0,A[W],E&&E[W],c)}var Ka=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function od(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var A=c[E].indexOf("="),F=null;if(0<=A){var W=c[E].substring(0,A);F=c[E].substring(A+1)}else W=c[E];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Mt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mt){this.h=c.h,Xa(this,c.j),this.o=c.o,this.g=c.g,Qi(this,c.s),this.l=c.l;var y=c.i,E=new di;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),fi(this,E),this.m=c.m}else c&&(y=String(c).match(Ka))?(this.h=!1,Xa(this,y[1]||"",!0),this.o=Zn(y[2]||""),this.g=Zn(y[3]||"",!0),Qi(this,y[4]),this.l=Zn(y[5]||"",!0),fi(this,y[6]||"",!0),this.m=Zn(y[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Mt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Za(y,vl,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Za(y,vl,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Za(E,E.charAt(0)=="/"?ld:_l,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Za(E,Qs)),c.join("")};function kn(c){return new Mt(c)}function Xa(c,y,E){c.j=E?Zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Qi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function fi(c,y,E){y instanceof di?(c.i=y,yc(c.i,c.h)):(E||(y=Za(y,ud)),c.i=new di(y,c.h))}function rt(c,y,E){c.i.set(y,E)}function Wa(c){return rt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Za(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,pc),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vl=/[#\/\?@]/g,_l=/[#\?:]/g,ld=/[#\?]/g,ud=/[#\?@]/g,Qs=/#/g;function di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Jn(c){c.g||(c.g=new Map,c.h=0,c.i&&od(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=di.prototype,r.add=function(c,y){Jn(this),this.i=null,c=Pr(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function mi(c,y){Jn(c),y=Pr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function gi(c,y){return Jn(c),y=Pr(c,y),c.g.has(y)}r.forEach=function(c,y){Jn(this),this.g.forEach(function(E,A){E.forEach(function(F){c.call(y,F,A,this)},this)},this)},r.na=function(){Jn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const F=c[A];for(let W=0;W<F.length;W++)E.push(y[A])}return E},r.V=function(c){Jn(this);let y=[];if(typeof c=="string")gi(this,c)&&(y=y.concat(this.g.get(Pr(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},r.set=function(c,y){return Jn(this),this.i=null,c=Pr(this,c),gi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function El(c,y,E){mi(c,y),0<E.length&&(c.i=null,c.g.set(Pr(c,y),V(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const W=encodeURIComponent(String(A)),de=this.V(A);for(A=0;A<de.length;A++){var F=W;de[A]!==""&&(F+="="+encodeURIComponent(String(de[A]))),c.push(F)}}return this.i=c.join("&")};function Pr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function yc(c,y){y&&!c.j&&(Jn(c),c.i=null,c.g.forEach(function(E,A){var F=A.toLowerCase();A!=F&&(mi(this,A),El(this,F,E))},c)),c.j=y}function Ja(c,y){const E=new sn;if(d.Image){const A=new Image;A.onload=C(er,E,"TestLoadImage: loaded",!0,y,A),A.onerror=C(er,E,"TestLoadImage: error",!1,y,A),A.onabort=C(er,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(er,E,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function vr(c,y){const E=new sn,A=new AbortController,F=setTimeout(()=>{A.abort(),er(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(W=>{clearTimeout(F),W.ok?er(E,"TestPingServer: ok",!0,y):er(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),er(E,"TestPingServer: error",!1,y)})}function er(c,y,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function es(){this.g=new Nr}function kr(c,y,E){const A=E||"";try{yl(c,function(F,W){let de=F;g(F)&&(de=Pn(F)),y.push(A+W+"="+encodeURIComponent(de))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function Ki(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Ki,ui),Ki.prototype.g=function(){return new pi(this.l,this.j)},Ki.prototype.i=function(c){return function(){return c}}({});function pi(c,y){gt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(pi,gt),r=pi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,jr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Lr(this):jr(this),this.readyState==3&&Tl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Lr(this))},r.Qa=function(c){this.g&&(this.response=c,Lr(this))},r.ga=function(){this.g&&Lr(this)};function Lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,jr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function jr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bl(c){let y="";return pe(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Kt(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=bl(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):rt(c,y,E))}function Je(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Je,gt);var Ks=/^https?$/i,ts=["POST","PUT"];r=Je.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Ga(this.o):Ga(Wn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){vc(this,W);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())E.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ts,y,void 0))||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,de]of E)this.g.setRequestHeader(W,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){vc(this,W)}};function vc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Xs(c),Ur(c)}function Xs(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,We(this,"complete"),We(this,"abort"),Ur(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ws(this):this.bb())},r.bb=function(){Ws(this)};function Ws(c){if(c.h&&typeof h<"u"&&(!c.v[1]||tr(c)!=4||c.Z()!=2)){if(c.u&&tr(c)==4)Nt(c.Ea,0,c);else if(We(c,"readystatechange"),tr(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=de===0){var F=String(c.D).match(Ka)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),A=!Ks.test(F?F.toLowerCase():"")}E=A}if(E)We(c,"complete"),We(c,"success");else{c.m=6;try{var W=2<tr(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Xs(c)}}finally{Ur(c)}}}}function Ur(c,y){if(c.g){ns(c);const E=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||We(c,"ready");try{E.onreadystatechange=A}catch{}}}function ns(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function tr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),li(y)}};function _c(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cd(c){const y={};c=(c.g&&2<=tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(J(c[A]))continue;var E=M(c[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=y[F]||[];y[F]=W,W.push(E)}U(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Zs(c){this.Aa=0,this.i=[],this.j=new sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rs("baseRetryDelayMs",5e3,c),this.cb=rs("retryDelaySeedMs",1e4,c),this.Wa=rs("forwardChannelMaxRetries",2,c),this.wa=rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(c&&c.concurrentRequestLimit),this.Da=new es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Zs.prototype,r.la=8,r.G=1,r.connect=function(c,y,E,A){ht(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Rc(this,null,this.W),eo(this)};function wl(c){if(Ec(c),c.G==3){var y=c.U++,E=kn(c.I);if(rt(E,"SID",c.K),rt(E,"RID",y),rt(E,"TYPE","terminate"),is(c,E),y=new Pe(c,c.j,y),y.L=2,y.v=Wa(kn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=y.v,E=!0),E||(y.g=Ic(y.j,null),y.g.ea(y.v)),y.F=Date.now(),$a(y)}Ac(c)}function Js(c){c.g&&(as(c),c.g.cancel(),c.g=null)}function Ec(c){Js(c),c.u&&(d.clearTimeout(c.u),c.u=null),to(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function eo(c){if(!Fs(c.h)&&!c.s){c.s=!0;var y=c.Ga;K||x(),Z||(K(),Z=!0),fe.add(y,c),c.B=0}}function hd(c,y){return Gs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(w(c.Ga,c,y),Rl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new Pe(this,this.j,c);let W=this.o;if(this.S&&(W?(W=I(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Tc(this,F,y),E=kn(this.I),rt(E,"RID",c),rt(E,"CVER",22),this.D&&rt(E,"X-HTTP-Session-Id",this.D),is(this,E),W&&(this.O?y="headers="+encodeURIComponent(String(bl(W)))+"&"+y:this.m&&Kt(E,this.m,W)),Ys(this.h,F),this.Ua&&rt(E,"TYPE","init"),this.P?(rt(E,"$req",y),rt(E,"SID","null"),F.T=!0,An(F,E,null)):An(F,E,y),this.G=2}}else this.G==3&&(c?Sl(this,c):this.i.length==0||Fs(this.h)||Sl(this))};function Sl(c,y){var E;y?E=y.l:E=c.U++;const A=kn(c.I);rt(A,"SID",c.K),rt(A,"RID",E),rt(A,"AID",c.T),is(c,A),c.m&&c.o&&Kt(A,c.m,c.o),E=new Pe(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Tc(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ys(c.h,E),An(E,A,y)}function is(c,y){c.H&&pe(c.H,function(E,A){rt(y,A,E)}),c.l&&yl({},function(E,A){rt(y,A,E)})}function Tc(c,y,E){E=Math.min(c.i.length,E);var A=c.l?w(c.l.Na,c.l,c):null;e:{var F=c.i;let W=-1;for(;;){const de=["count="+E];W==-1?0<E?(W=F[0].g,de.push("ofs="+W)):W=0:de.push("ofs="+W);let He=!0;for(let Bt=0;Bt<E;Bt++){let qe=F[Bt].g;const Xt=F[Bt].map;if(qe-=W,0>qe)W=Math.max(0,F[Bt].g-100),He=!1;else try{kr(Xt,de,"req"+qe+"_")}catch{A&&A(Xt)}}if(He){A=de.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,A}function bc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;K||x(),Z||(K(),Z=!0),fe.add(y,c),c.v=0}}function Al(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(w(c.Fa,c),Rl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Js(this),wc(this))};function as(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function wc(c){c.g=new Pe(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=kn(c.qa);rt(y,"RID","rpc"),rt(y,"SID",c.K),rt(y,"AID",c.T),rt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&rt(y,"TO",c.ja),rt(y,"TYPE","xmlhttp"),is(c,y),c.m&&c.o&&Kt(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Wa(kn(y)),E.m=null,E.P=!0,yr(E,c)}r.Za=function(){this.C!=null&&(this.C=null,Js(this),Al(this),ht(19))};function to(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Sc(c,y){var E=null;if(c.g==y){to(c),as(c),c.g=null;var A=2}else if(gl(c.h,y))E=y.D,Rn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;A=Ke(),We(A,new St(A,E)),eo(c)}else bc(c);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&hd(c,y)||A==2&&Al(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),F){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function Rl(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function yi(c,y){if(c.j.info("Error code "+y),y==2){var E=w(c.fb,c),A=c.Xa;const F=!A;A=new Mt(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xa(A,"https"),Wa(A),F?Ja(A.toString(),E):vr(A.toString(),E)}else ht(2);c.G=0,c.l&&c.l.sa(y),Ac(c),Ec(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Ac(c){if(c.G=0,c.ka=[],c.l){const y=pl(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function Rc(c,y,E){var A=E instanceof Mt?kn(E):new Mt(E);if(A.g!="")y&&(A.g=y+"."+A.g),Qi(A,A.s);else{var F=d.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new Mt(null);A&&Xa(W,A),y&&(W.g=y),F&&Qi(W,F),E&&(W.l=E),A=W}return E=c.D,y=c.ya,E&&y&&rt(A,E,y),rt(A,"VER",c.la),is(c,A),A}function Ic(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Je(new Ki({eb:E})):new Je(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xc(){}r=xc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function no(){}no.prototype.g=function(c,y){return new In(c,y)};function In(c,y){gt.call(this),this.g=new Zs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new zr(this)}k(In,gt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){wl(this.g)},In.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Pn(c),c=E);y.i.push(new gc(y.Ya++,c)),y.G==3&&eo(y)},In.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,In.aa.N.call(this)};function Cc(c){Kn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(Cc,Kn);function Dc(){Ot.call(this),this.status=1}k(Dc,Ot);function zr(c){this.g=c}k(zr,xc),zr.prototype.ua=function(){We(this.g,"a")},zr.prototype.ta=function(c){We(this.g,new Cc(c))},zr.prototype.sa=function(c){We(this.g,new Dc)},zr.prototype.ra=function(){We(this.g,"b")},no.prototype.createWebChannel=no.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,yw=function(){return new no},pw=function(){return Ke()},gw=mt,kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Qh=gr,pr.COMPLETE="complete",mw=pr,Gi.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",gt.prototype.listen=gt.prototype.K,vu=Gi,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,dw=Je}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});const kE="@firebase/firestore",LE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Sp("@firebase/firestore");function Mo(){return Cs.logLevel}function ye(r,...e){if(Cs.logLevel<=Ue.DEBUG){const t=e.map(Pp);Cs.debug(`Firestore (${il}): ${r}`,...t)}}function Ui(r,...e){if(Cs.logLevel<=Ue.ERROR){const t=e.map(Pp);Cs.error(`Firestore (${il}): ${r}`,...t)}}function Yo(r,...e){if(Cs.logLevel<=Ue.WARN){const t=e.map(Pp);Cs.warn(`Firestore (${il}): ${r}`,...t)}}function Pp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,vw(r,i,t)}function vw(r,e,t){let i=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ui(i),new Error(i)}function Ye(r,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,r||vw(e,s,i)}function De(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tn.UNAUTHENTICATED))}shutdown(){}}class DN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NN{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},d=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string",31837,{l:i}),new _w(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class ON{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MN{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new ON(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const i=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const s=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?s(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new jE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=PN(40);for(let u=0;u<s.length;++u)i.length<20&&s[u]<t&&(i+=e.charAt(s[u]%62))}return i}}function ze(r,e){return r<e?-1:r>e?1:0}function Lg(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const s=r.charAt(i),u=e.charAt(i);if(s!==u)return yg(s)===yg(u)?ze(s,u):yg(s)?1:-1}return ze(r.length,e.length)}const kN=55296,LN=57343;function yg(r){const e=r.charCodeAt(0);return e>=kN&&e<=LN}function $o(r,e,t){return r.length===e.length&&r.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="__name__";class Kr{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Kr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const u=Kr.compareSegments(e.get(s),t.get(s));if(u!==0)return u}return ze(e.length,t.length)}static compareSegments(e,t){const i=Kr.isNumericId(e),s=Kr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Kr.extractNumericId(e).compare(Kr.extractNumericId(t)):Lg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ia.fromString(e.substring(4,e.length-2))}}class ot extends Kr{construct(e,t,i){return new ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const jN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Kr{construct(e,t,i){return new mn(e,t,i)}static isValidIdentifier(e){return jN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jg}static keyField(){return new mn([jg])}static fromServerFormat(e){const t=[];let i="",s=0;const u=()=>{if(i.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else d==="`"?(h=!h,s++):d!=="."||h?(i+=d,s++):(u(),s++)}if(u(),h)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(t)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ot.fromString(e))}static fromName(e){return new Te(ot.fromString(e).popFirst(5))}static empty(){return new Te(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r,e,t){if(!t)throw new me(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function UN(r,e,t,i){if(e===!0&&i===!0)throw new me(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function UE(r){if(!Te.isDocumentKey(r))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zE(r){if(Te.isDocumentKey(r))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Tw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function bn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pf(r);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Zu(r,e){if(!Tw(r))throw new me(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(s&&typeof h!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${i}' field to equal '${u.value}'`;break}}if(t)throw new me(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=-62135596800,HE=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*HE);return new et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<BE)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zu(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-BE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:zt("string",et._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new et(0,0))}static max(){return new Re(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=-1;function zN(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(i===1e9?new et(t+1,0):new et(t,i));return new Da(s,Te.empty(),e)}function BN(r){return new Da(r.readTime,r.key,Mu)}class Da{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Da(Re.min(),Te.empty(),Mu)}static max(){return new Da(Re.max(),Te.empty(),Mu)}}function HN(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==qN)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((i,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,i)=>{t(e)})}static reject(e){return new le((t,i)=>{i(e)})}static waitFor(e){return new le((t,i)=>{let s=0,u=0,h=!1;e.forEach(d=>{++s,d.next(()=>{++u,h&&u===s&&t()},p=>i(p))}),h=!0,u===s&&t()})}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next(s=>s?le.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,u)=>{i.push(t.call(this,s,u))}),this.waitFor(i)}static mapArray(e,t){return new le((i,s)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(v=>{h[g]=v,++d,d===u&&i(h)},v=>s(v))}})}static doWhile(e,t){return new le((i,s)=>{const u=()=>{e()===!0?t().next(()=>{u()},s):i()};u()})}}function GN(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=-1;function Ju(r){return r==null}function df(r){return r===0&&1/r==-1/0}function YN(r){return typeof r=="number"&&Number.isInteger(r)&&!df(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="";function $N(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=qE(e)),e=QN(r.get(t),e);return qE(e)}function QN(r,e){let t=e;const i=r.length;for(let s=0;s<i;s++){const u=r.charAt(s);switch(u){case"\0":t+="";break;case bw:t+="";break;default:t+=u}}return t}function qE(r){return r+bw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ua(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ww(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,i,s,u){this.key=e,this.value=t,this.color=i??dn.RED,this.left=s??dn.EMPTY,this.right=u??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,u){return new dn(e??this.key,t??this.value,i??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const u=i(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,i),null):u===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,s,u){return this}insert(e,t,i){return new dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GE(this.data.getIterator())}getIteratorFrom(e){return new GE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=i.getNext().key;if(this.comparator(s,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class GE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Gt(mn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Sw("Invalid base64 string: "+u):u}}(e);return new pn(t)}static fromUint8Array(e){const t=function(s){let u="";for(let h=0;h<s.length;++h)u+=String.fromCharCode(s[h]);return u}(e);return new pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const KN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const t=KN.exec(r);if(Ye(!!t,46558,{timestamp:r}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(r.seconds),nanos:Dt(r.nanos)}}function Dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oa(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="server_timestamp",Rw="__type__",Iw="__previous_value__",xw="__local_write_time__";function jp(r){return(r?.mapValue?.fields||{})[Rw]?.stringValue===Aw}function Lf(r){const e=r.mapValue.fields[Iw];return jp(e)?Lf(e):e}function Vu(r){const e=Na(r.mapValue.fields[xw].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t,i,s,u,h,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const mf="(default)";class Pu{constructor(e,t){this.projectId=e,this.database=t||mf}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof Pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="__type__",WN="__max__",kh={mapValue:{}},Dw="__vector__",gf="value";function Ma(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jp(r)?4:JN(r)?9007199254740991:ZN(r)?10:11:we(28295,{value:r})}function ri(r,e){if(r===e)return!0;const t=Ma(r);if(t!==Ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vu(r).isEqual(Vu(e));case 3:return function(s,u){if(typeof s.timestampValue=="string"&&typeof u.timestampValue=="string"&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const h=Na(s.timestampValue),d=Na(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,u){return Oa(s.bytesValue).isEqual(Oa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,u){return Dt(s.geoPointValue.latitude)===Dt(u.geoPointValue.latitude)&&Dt(s.geoPointValue.longitude)===Dt(u.geoPointValue.longitude)}(r,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return Dt(s.integerValue)===Dt(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const h=Dt(s.doubleValue),d=Dt(u.doubleValue);return h===d?df(h)===df(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return $o(r.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(s,u){const h=s.mapValue.fields||{},d=u.mapValue.fields||{};if(FE(h)!==FE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!ri(h[p],d[p])))return!1;return!0}(r,e);default:return we(52216,{left:r})}}function ku(r,e){return(r.values||[]).find(t=>ri(t,e))!==void 0}function Qo(r,e){if(r===e)return 0;const t=Ma(r),i=Ma(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=Dt(u.integerValue||u.doubleValue),p=Dt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return YE(r.timestampValue,e.timestampValue);case 4:return YE(Vu(r),Vu(e));case 5:return Lg(r.stringValue,e.stringValue);case 6:return function(u,h){const d=Oa(u),p=Oa(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=ze(d[g],p[g]);if(v!==0)return v}return ze(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=ze(Dt(u.latitude),Dt(h.latitude));return d!==0?d:ze(Dt(u.longitude),Dt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return $E(r.arrayValue,e.arrayValue);case 10:return function(u,h){const d=u.fields||{},p=h.fields||{},g=d[gf]?.arrayValue,v=p[gf]?.arrayValue,b=ze(g?.values?.length||0,v?.values?.length||0);return b!==0?b:$E(g,v)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===kh.mapValue&&h===kh.mapValue)return 0;if(u===kh.mapValue)return 1;if(h===kh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const w=Lg(p[b],v[b]);if(w!==0)return w;const C=Qo(d[p[b]],g[v[b]]);if(C!==0)return C}return ze(p.length,v.length)}(r.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function YE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const t=Na(r),i=Na(e),s=ze(t.seconds,i.seconds);return s!==0?s:ze(t.nanos,i.nanos)}function $E(r,e){const t=r.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const u=Qo(t[s],i[s]);if(u)return u}return ze(t.length,i.length)}function Ko(r){return Ug(r)}function Ug(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=Na(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Oa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Te.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",s=!0;for(const u of t.values||[])s?s=!1:i+=",",i+=Ug(u);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",u=!0;for(const h of i)u?u=!1:s+=",",s+=`${h}:${Ug(t.fields[h])}`;return s+"}"}(r.mapValue):we(61005,{value:r})}function Kh(r){switch(Ma(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lf(r);return e?16+Kh(e):16;case 5:return 2*r.stringValue.length;case 6:return Oa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,u)=>s+Kh(u),0)}(r.arrayValue);case 10:case 11:return function(i){let s=0;return Ua(i.fields,(u,h)=>{s+=u.length+Kh(h)}),s}(r.mapValue);default:throw we(13486,{value:r})}}function QE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function zg(r){return!!r&&"integerValue"in r}function Up(r){return!!r&&"arrayValue"in r}function KE(r){return!!r&&"nullValue"in r}function XE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xh(r){return!!r&&"mapValue"in r}function ZN(r){return(r?.mapValue?.fields||{})[Cw]?.stringValue===Dw}function Su(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ua(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Su(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Su(r.arrayValue.values[t]);return e}return{...r}}function JN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===WN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(t)}setAll(e){let t=mn.emptyPath(),i={},s=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=d.popLast()}h?i[d.lastSegment()]=Su(h):s.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,s)}delete(e){const t=this.field(e.popLast());Xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];Xh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Ua(t,(s,u)=>e[s]=u);for(const s of i)delete e[s]}clone(){return new Cn(Su(this.value))}}function Nw(r){const e=[];return Ua(r.fields,(t,i)=>{const s=new mn([t]);if(Xh(i)){const u=Nw(i.mapValue).fields;if(u.length===0)e.push(s);else for(const h of u)e.push(s.child(h))}else e.push(s)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,i,s,u,h,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new tn(e,0,Re.min(),Re.min(),Re.min(),Cn.empty(),0)}static newFoundDocument(e,t,i,s){return new tn(e,1,t,Re.min(),i,s,0)}static newNoDocument(e,t){return new tn(e,2,t,Re.min(),Re.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,Re.min(),Re.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t){this.position=e,this.inclusive=t}}function WE(r,e,t){let i=0;for(let s=0;s<r.position.length;s++){const u=e[s],h=r.position[s];if(u.field.isKeyField()?i=Te.comparator(Te.fromName(h.referenceValue),t.key):i=Qo(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function ZE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ri(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t="asc"){this.field=e,this.dir=t}}function e2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{}class jt extends Ow{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new n2(e,t,i):t==="array-contains"?new a2(e,i):t==="in"?new s2(e,i):t==="not-in"?new o2(e,i):t==="array-contains-any"?new l2(e,i):new jt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new r2(e,i):new i2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qo(t,this.value)):t!==null&&Ma(this.value)===Ma(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends Ow{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ir(e,t)}matches(e){return Mw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mw(r){return r.op==="and"}function Vw(r){return t2(r)&&Mw(r)}function t2(r){for(const e of r.filters)if(e instanceof Ir)return!1;return!0}function Bg(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Ko(r.value);if(Vw(r))return r.filters.map(e=>Bg(e)).join(",");{const e=r.filters.map(t=>Bg(t)).join(",");return`${r.op}(${e})`}}function Pw(r,e){return r instanceof jt?function(i,s){return s instanceof jt&&i.op===s.op&&i.field.isEqual(s.field)&&ri(i.value,s.value)}(r,e):r instanceof Ir?function(i,s){return s instanceof Ir&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((u,h,d)=>u&&Pw(h,s.filters[d]),!0):!1}(r,e):void we(19439)}function kw(r){return r instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ko(t.value)}`}(r):r instanceof Ir?function(t){return t.op.toString()+" {"+t.getFilters().map(kw).join(" ,")+"}"}(r):"Filter"}class n2 extends jt{constructor(e,t,i){super(e,t,i),this.key=Te.fromName(i.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class r2 extends jt{constructor(e,t){super(e,"in",t),this.keys=Lw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class i2 extends jt{constructor(e,t){super(e,"not-in",t),this.keys=Lw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Lw(r,e){return(e.arrayValue?.values||[]).map(t=>Te.fromName(t.referenceValue))}class a2 extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Up(t)&&ku(t.arrayValue,this.value)}}class s2 extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ku(this.value.arrayValue,t)}}class o2 extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ku(this.value.arrayValue,t)}}class l2 extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Up(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ku(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,t=null,i=[],s=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=u,this.startAt=h,this.endAt=d,this.Te=null}}function JE(r,e=null,t=[],i=[],s=null,u=null,h=null){return new u2(r,e,t,i,s,u,h)}function zp(r){const e=De(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Bg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),Ju(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ko(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ko(i)).join(",")),e.Te=t}return e.Te}function Bp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!e2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Pw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ZE(r.startAt,e.startAt)&&ZE(r.endAt,e.endAt)}function Hg(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t=null,i=[],s=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function c2(r,e,t,i,s,u,h,d){return new ec(r,e,t,i,s,u,h,d)}function jf(r){return new ec(r)}function eT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jw(r){return r.collectionGroup!==null}function Au(r){const e=De(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Gt(mn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yf(u,i))}),t.has(mn.keyField().canonicalString())||e.Ie.push(new yf(mn.keyField(),i))}return e.Ie}function ei(r){const e=De(r);return e.Ee||(e.Ee=h2(e,Au(r))),e.Ee}function h2(r,e){if(r.limitType==="F")return JE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const u=s.dir==="desc"?"asc":"desc";return new yf(s.field,u)});const t=r.endAt?new pf(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new pf(r.startAt.position,r.startAt.inclusive):null;return JE(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function qg(r,e){const t=r.filters.concat([e]);return new ec(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Fg(r,e,t){return new ec(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Uf(r,e){return Bp(ei(r),ei(e))&&r.limitType===e.limitType}function Uw(r){return`${zp(ei(r))}|lt:${r.limitType}`}function Vo(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>kw(s)).join(", ")}]`),Ju(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ko(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ko(s)).join(",")),`Target(${i})`}(ei(r))}; limitType=${r.limitType})`}function zf(r,e){return e.isFoundDocument()&&function(i,s){const u=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Te.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(r,e)&&function(i,s){for(const u of Au(i))if(!u.field.isKeyField()&&s.data.field(u.field)===null)return!1;return!0}(r,e)&&function(i,s){for(const u of i.filters)if(!u.matches(s))return!1;return!0}(r,e)&&function(i,s){return!(i.startAt&&!function(h,d,p){const g=WE(h,d,p);return h.inclusive?g<=0:g<0}(i.startAt,Au(i),s)||i.endAt&&!function(h,d,p){const g=WE(h,d,p);return h.inclusive?g>=0:g>0}(i.endAt,Au(i),s))}(r,e)}function f2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zw(r){return(e,t)=>{let i=!1;for(const s of Au(r)){const u=d2(s,e,t);if(u!==0)return u;i=i||s.field.isKeyField()}return 0}}function d2(r,e,t){const i=r.field.isKeyField()?Te.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Qo(p,g):we(42886)}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,u]of i)if(this.equalsFn(s,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,(t,i)=>{for(const[s,u]of i)e(s,u)})}isEmpty(){return ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new bt(Te.comparator);function zi(){return m2}const Bw=new bt(Te.comparator);function _u(...r){let e=Bw;for(const t of r)e=e.insert(t.key,t);return e}function Hw(r){let e=Bw;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function bs(){return Ru()}function qw(){return Ru()}function Ru(){return new Ms(r=>r.toString(),(r,e)=>r.isEqual(e))}const g2=new bt(Te.comparator),p2=new Gt(Te.comparator);function Be(...r){let e=p2;for(const t of r)e=e.add(t);return e}const y2=new Gt(ze);function v2(){return y2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(e)?"-0":e}}function Fw(r){return{integerValue:""+r}}function Gw(r,e){return YN(e)?Fw(e):Hp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this._=void 0}}function _2(r,e,t){return r instanceof Lu?function(s,u){const h={fields:{[Rw]:{stringValue:Aw},[xw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&jp(u)&&(u=Lf(u)),u&&(h.fields[Iw]=u),{mapValue:h}}(t,e):r instanceof ju?$w(r,e):r instanceof Uu?Qw(r,e):function(s,u){const h=Yw(s,u),d=tT(h)+tT(s.Ae);return zg(h)&&zg(s.Ae)?Fw(d):Hp(s.serializer,d)}(r,e)}function E2(r,e,t){return r instanceof ju?$w(r,e):r instanceof Uu?Qw(r,e):t}function Yw(r,e){return r instanceof zu?function(i){return zg(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class Lu extends Bf{}class ju extends Bf{constructor(e){super(),this.elements=e}}function $w(r,e){const t=Kw(e);for(const i of r.elements)t.some(s=>ri(s,i))||t.push(i);return{arrayValue:{values:t}}}class Uu extends Bf{constructor(e){super(),this.elements=e}}function Qw(r,e){let t=Kw(e);for(const i of r.elements)t=t.filter(s=>!ri(s,i));return{arrayValue:{values:t}}}class zu extends Bf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function tT(r){return Dt(r.integerValue||r.doubleValue)}function Kw(r){return Up(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t){this.field=e,this.transform=t}}function T2(r,e){return r.field.isEqual(e.field)&&function(i,s){return i instanceof ju&&s instanceof ju||i instanceof Uu&&s instanceof Uu?$o(i.elements,s.elements,ri):i instanceof zu&&s instanceof zu?ri(i.Ae,s.Ae):i instanceof Lu&&s instanceof Lu}(r.transform,e.transform)}class b2{constructor(e,t){this.version=e,this.transformResults=t}}class Ut{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ut}static exists(e){return new Ut(void 0,e)}static updateTime(e){return new Ut(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hf{}function Ww(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new nc(r.key,Ut.none()):new tc(r.key,r.data,Ut.none());{const t=r.data,i=Cn.empty();let s=new Gt(mn.comparator);for(let u of e.fields)if(!s.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),s=s.add(u)}return new za(r.key,i,new Gn(s.toArray()),Ut.none())}}function w2(r,e,t){r instanceof tc?function(s,u,h){const d=s.value.clone(),p=rT(s.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof za?function(s,u,h){if(!Wh(s.precondition,u))return void u.convertToUnknownDocument(h.version);const d=rT(s.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Zw(s)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(s,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Iu(r,e,t,i){return r instanceof tc?function(u,h,d,p){if(!Wh(u.precondition,h))return d;const g=u.value.clone(),v=iT(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,i):r instanceof za?function(u,h,d,p){if(!Wh(u.precondition,h))return d;const g=iT(u.fieldTransforms,p,h),v=h.data;return v.setAll(Zw(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,t,i):function(u,h,d){return Wh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function S2(r,e){let t=null;for(const i of r.fieldTransforms){const s=e.data.field(i.field),u=Yw(i.transform,s||null);u!=null&&(t===null&&(t=Cn.empty()),t.set(i.field,u))}return t||null}function nT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&$o(i,s,(u,h)=>T2(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tc extends Hf{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class za extends Hf{constructor(e,t,i,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Zw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function rT(r,e,t){const i=new Map;Ye(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let s=0;s<t.length;s++){const u=r[s],h=u.transform,d=e.data.field(u.field);i.set(u.field,E2(h,d,t[s]))}return i}function iT(r,e,t){const i=new Map;for(const s of r){const u=s.transform,h=t.data.field(s.field);i.set(s.field,_2(u,h,e))}return i}class nc extends Hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jw extends Hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&w2(u,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Iu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Iu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=qw();return this.mutations.forEach(s=>{const u=e.get(s.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(s.key)?null:d;const p=Ww(h,d);p!==null&&i.set(s.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(t,i)=>nT(t,i))&&$o(this.baseMutations,e.baseMutations,(t,i)=>nT(t,i))}}class qp{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ye(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=function(){return g2}();const u=e.mutations;for(let h=0;h<u.length;h++)s=s.insert(u[h].key,i[h].version);return new qp(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Ge;function eS(r){switch(r){case re.OK:return we(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function tS(r){if(r===void 0)return Ui("GRPC error has no .code"),re.UNKNOWN;switch(r){case kt.OK:return re.OK;case kt.CANCELLED:return re.CANCELLED;case kt.UNKNOWN:return re.UNKNOWN;case kt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case kt.INTERNAL:return re.INTERNAL;case kt.UNAVAILABLE:return re.UNAVAILABLE;case kt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case kt.NOT_FOUND:return re.NOT_FOUND;case kt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case kt.ABORTED:return re.ABORTED;case kt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case kt.DATA_LOSS:return re.DATA_LOSS;default:return we(39323,{code:r})}}(Ge=kt||(kt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new Ia([4294967295,4294967295],0);function aT(r){const e=x2().encode(r),t=new fw;return t.update(e),new Uint8Array(t.digest())}function sT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ia([t,i],0),new Ia([s,u],0)]}class Fp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Eu(`Invalid padding: ${t}`);if(i<0)throw new Eu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ia.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(Ia.fromNumber(i)));return s.compare(C2)===1&&(s=new Ia([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=aT(e),[i,s]=sT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,s,u);if(!this.we(h))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Fp(u,s,t);return i.forEach(d=>h.insert(d)),h}insert(e){if(this.ge===0)return;const t=aT(e),[i,s]=sT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,s,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t,i,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new qf(Re.min(),s,new bt(ze),zi(),Be())}}class rc{constructor(e,t,i,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new rc(i,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,i,s){this.be=e,this.removedTargetIds=t,this.key=i,this.De=s}}class nS{constructor(e,t){this.targetId=e,this.Ce=t}}class rS{constructor(e,t,i=pn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class oT{constructor(){this.ve=0,this.Fe=lT(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),i=Be();return this.Fe.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:we(38017,{changeType:u})}}),new rc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=lT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class D2{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=Lh(),this.He=Lh(),this.Ye=new bt(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,s)=>{this.rt(s)&&t(s)})}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const u=s.target;if(Hg(u))if(i===0){const h=new Te(u.path);this.et(t,h,tn.newNoDocument(h,Re.min()))}else Ye(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const d=this.ut(e),p=d?this.ct(d,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:u=0}=t;let h,d;try{h=Oa(i).toUint8Array()}catch(p){if(p instanceof Sw)return Yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Fp(h,s,u)}catch(p){return Yo(p instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach(u=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(t,u,null),s++)}),s}Tt(e){const t=new Map;this.ze.forEach((u,h)=>{const d=this.ot(h);if(d){if(u.current&&Hg(d.target)){const p=new Te(d.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,tn.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.qe())}});let i=Be();this.He.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const s=new qf(e,t,this.Ye,this.je,i);return this.je=zi(),this.Je=Lh(),this.He=Lh(),this.Ye=new bt(ze),s}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new oT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Gt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Gt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oT),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Lh(){return new bt(Te.comparator)}function lT(){return new bt(Te.comparator)}const N2={asc:"ASCENDING",desc:"DESCENDING"},O2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M2={and:"AND",or:"OR"};class V2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gg(r,e){return r.useProto3Json||Ju(e)?e:{value:e}}function vf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function P2(r,e){return vf(r,e.toTimestamp())}function Yn(r){return Ye(!!r,49232),Re.fromTimestamp(function(t){const i=Na(t);return new et(i.seconds,i.nanos)}(r))}function Gp(r,e){return Yg(r,e).canonicalString()}function Yg(r,e){const t=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function aS(r){const e=ot.fromString(r);return Ye(hS(e),10190,{key:e.toString()}),e}function _f(r,e){return Gp(r.databaseId,e.path)}function xu(r,e){const t=aS(e);if(t.get(1)!==r.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(oS(t))}function sS(r,e){return Gp(r.databaseId,e)}function k2(r){const e=aS(r);return e.length===4?ot.emptyPath():oS(e)}function $g(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oS(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function uT(r,e,t){return{name:_f(r,e),fields:t.value.mapValue.fields}}function L2(r,e){return"found"in e?function(i,s){Ye(!!s.found,43571),s.found.name,s.found.updateTime;const u=xu(i,s.found.name),h=Yn(s.found.updateTime),d=s.found.createTime?Yn(s.found.createTime):Re.min(),p=new Cn({mapValue:{fields:s.found.fields}});return tn.newFoundDocument(u,h,d,p)}(r,e):"missing"in e?function(i,s){Ye(!!s.missing,3894),Ye(!!s.readTime,22933);const u=xu(i,s.missing),h=Yn(s.readTime);return tn.newNoDocument(u,h)}(r,e):we(7234,{result:e})}function j2(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),pn.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),pn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const v=g.code===void 0?re.UNKNOWN:tS(g.code);return new me(v,g.message||"")}(h);t=new rS(i,s,u,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=xu(r,i.document.name),u=Yn(i.document.updateTime),h=i.document.createTime?Yn(i.document.createTime):Re.min(),d=new Cn({mapValue:{fields:i.document.fields}}),p=tn.newFoundDocument(s,u,h,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Zh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=xu(r,i.document),u=i.readTime?Yn(i.readTime):Re.min(),h=tn.newNoDocument(s,u),d=i.removedTargetIds||[];t=new Zh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=xu(r,i.document),u=i.removedTargetIds||[];t=new Zh([],u,s,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:u}=i,h=new I2(s,u),d=i.targetId;t=new nS(d,h)}}return t}function lS(r,e){let t;if(e instanceof tc)t={update:uT(r,e.key,e.value)};else if(e instanceof nc)t={delete:_f(r,e.key)};else if(e instanceof za)t={update:uT(r,e.key,e.data),updateMask:$2(e.fieldMask)};else{if(!(e instanceof Jw))return we(16599,{Vt:e.type});t={verify:_f(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(u,h){const d=h.transform;if(d instanceof Lu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ju)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Uu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zu)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw we(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,u){return u.updateTime!==void 0?{updateTime:P2(s,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(r,e.precondition)),t}function U2(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map(t=>function(s,u){let h=s.updateTime?Yn(s.updateTime):Yn(u);return h.isEqual(Re.min())&&(h=Yn(u)),new b2(h,s.transformResults||[])}(t,e))):[]}function z2(r,e){return{documents:[sS(r,e.path)]}}function B2(r,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=sS(r,s);const u=function(g){if(g.length!==0)return cS(Ir.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:Po(w.field),direction:F2(w.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Gg(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:s}}function H2(r){let e=k2(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ye(i===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(b){const w=uS(b);return w instanceof Ir&&Vw(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(w=>function(k){return new yf(ko(k.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(b){let w;return w=typeof b=="object"?b.value:b,Ju(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(b){const w=!!b.before,C=b.values||[];return new pf(C,w)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const w=!b.before,C=b.values||[];return new pf(C,w)}(t.endAt)),c2(e,s,h,u,d,"F",p,g)}function q2(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ko(t.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=ko(t.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ko(t.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ko(t.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(r):r.fieldFilter!==void 0?function(t){return jt.create(ko(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Ir.create(t.compositeFilter.filters.map(i=>uS(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(r):we(30097,{filter:r})}function F2(r){return N2[r]}function G2(r){return O2[r]}function Y2(r){return M2[r]}function Po(r){return{fieldPath:r.canonicalString()}}function ko(r){return mn.fromServerFormat(r.fieldPath)}function cS(r){return r instanceof jt?function(t){if(t.op==="=="){if(XE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(KE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(KE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:G2(t.op),value:t.value}}}(r):r instanceof Ir?function(t){const i=t.getFilters().map(s=>cS(s));return i.length===1?i[0]:{compositeFilter:{op:Y2(t.op),filters:i}}}(r):we(54877,{filter:r})}function $2(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t,i,s,u=Re.min(),h=Re.min(),d=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.yt=e}}function K2(r){const e=H2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Fg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.Cn=new W2}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Da.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Da.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class W2{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Gt(ot.comparator),u=!s.has(i);return this.index[t]=s.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Gt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fS=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(fS,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xo(0)}static cr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="LruGarbageCollector",Z2=1048576;function fT([r,e],[t,i]){const s=ze(r,t);return s===0?ze(e,i):s}class J2{constructor(e){this.Ir=e,this.buffer=new Gt(fT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();fT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(hT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sl(t)?ye(hT,"Ignoring IndexedDB error during garbage collection: ",t):await al(t)}await this.Vr(3e5)})}}class tO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return le.resolve(kf.ce);const i=new J2(t);return this.mr.forEachTarget(e,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(cT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cT):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,s,u,h,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,h=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(i=b,d=Date.now(),this.removeTargets(e,i,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),Mo()<=Ue.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${s} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:b})))}}function nO(r,e){return new tO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.changes=new Ms(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&Iu(i.mutation,s,Gn.empty(),et.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Be()){const s=bs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(u=>{let h=_u();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=bs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Be()))}populateOverlays(e,t,i){const s=[];return i.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,i,s){let u=zi();const h=Ru(),d=function(){return Ru()}();return t.forEach((p,g)=>{const v=i.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof za)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Iu(v.mutation,g,v.mutation.getFieldMask(),et.now())):h.set(g.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),t.forEach((g,v)=>d.set(g,new iO(v,h.get(g)??null))),d))}recalculateAndSaveOverlays(e,t){const i=Ru();let s=new bt((h,d)=>h-d),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||Gn.empty();v=d.applyToLocalView(g,v),i.set(p,v);const b=(s.get(d.batchId)||Be()).add(p);s=s.insert(d.batchId,b)})}).next(()=>{const h=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,b=qw();v.forEach(w=>{if(!u.has(w)){const C=Ww(t.get(w),i.get(w));C!==null&&b.set(w,C),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return le.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(u=>{const h=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-u.size):le.resolve(bs());let d=Mu,p=u;return h.next(g=>le.forEach(g,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),u.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Be())).next(v=>({batchId:d,changes:Hw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(i=>{let s=_u();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const u=t.collectionGroup;let h=_u();return this.indexManager.getCollectionParents(e,u).next(d=>le.forEach(d,p=>{const g=function(b,w){return new ec(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next(v=>{v.forEach((b,w)=>{h=h.insert(b,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,s){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,s))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,tn.newInvalidDocument(v)))});let d=_u();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Iu(v.mutation,g,Gn.empty(),et.now()),zf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Yn(s.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(s){return{name:s.name,query:K2(s.bundledQuery),readTime:Yn(s.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.overlays=new bt(Te.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=bs();return le.forEach(t,s=>this.getOverlay(e,s).next(u=>{u!==null&&i.set(s,u)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,u)=>{this.St(e,t,u)}),le.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const s=bs(),u=t.length+1,h=new Te(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>i&&s.set(p.getKey(),p)}return le.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let u=new bt((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=u.get(g.largestBatchId);v===null&&(v=bs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=bs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=s)););return le.resolve(d)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const h=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new R2(t,i));let u=this.qr.get(t);u===void 0&&(u=Be(),this.qr.set(t,u)),this.qr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.Qr=new Gt(en.$r),this.Ur=new Gt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new en(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new en(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new Te(new ot([])),i=new en(t,e),s=new en(t,e+1),u=[];return this.Ur.forEachInRange([i,s],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new ot([])),i=new en(t,e),s=new en(t,e+1);let u=Be();return this.Ur.forEachInRange([i,s],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new en(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class en{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(en.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new A2(u,t,i,s);this.mutationQueue.push(h);for(const d of s)this.Zr=this.Zr.add(new en(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ei(i),u=s<0?0:s;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Lp:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new en(t,0),s=new en(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,s],h=>{const d=this.Xr(h.Yr);u.push(d)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Gt(ze);return t.forEach(s=>{const u=new en(s,0),h=new en(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],d=>{i=i.add(d.Yr)})}),le.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let u=i;Te.isDocumentKey(u)||(u=u.child(""));const h=new en(new Te(u),0);let d=new Gt(ze);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(d=d.add(p.Yr)),!0)},h),le.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(i=>{const s=this.Xr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ye(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return le.forEach(t.mutations,s=>{const u=new en(s.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new en(t,0),s=this.Zr.firstAfterOrEqual(i);return le.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.ri=e,this.docs=function(){return new bt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),u=s?s.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let i=zi();return t.forEach(s=>{const u=this.docs.get(s);i=i.insert(s,u?u.document.mutableCopy():tn.newInvalidDocument(s))}),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let u=zi();const h=t.path,d=new Te(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||HN(BN(v),i)<=0||(s.has(v.key)||zf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,i,s){we(9500)}ii(e,t){return le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new hO(this)}getSize(e){return le.resolve(this.size)}}class hO extends rO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)}),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.persistence=e,this.si=new Ms(t=>zp(t),Bp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Yp,this.targetCount=0,this.ai=Xo.ur()}forEachTarget(e,t){return this.si.forEach((i,s)=>t(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let s=0;const u=[];return this.si.forEach((h,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),le.waitFor(u).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),le.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(h=>{u.push(s.markPotentiallyOrphaned(e,h))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t){this.ui={},this.overlays={},this.ci=new kf(0),this.li=!1,this.li=!0,this.hi=new lO,this.referenceDelegate=e(this),this.Pi=new fO(this),this.indexManager=new X2,this.remoteDocumentCache=function(s){return new cO(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new Q2(t),this.Ii=new sO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new uO(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const s=new dO(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(u=>this.referenceDelegate.di(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Ai(e,t){return le.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class dO extends FN{constructor(e){super(),this.currentSequenceNumber=e}}class $p{constructor(e){this.persistence=e,this.Ri=new Yp,this.Vi=null}static mi(e){return new $p(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.fi.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,i=>{const s=Te.fromPath(i);return this.gi(e,s).next(u=>{u||t.removeEntry(s,Re.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ef{constructor(e,t){this.persistence=e,this.pi=new Ms(i=>$N(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=nO(this,t)}static mi(e,t){return new Ef(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return le.forEach(this.pi,(i,s)=>this.br(e,i,s).next(u=>u?le.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),u=s.newChangeBuffer();return s.ii(e,h=>this.br(e,h,t).next(d=>{d||(i++,u.removeEntry(h,Re.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kh(e.data.value)),t}br(e,t,i){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return le.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=s}static As(e,t){let i=Be(),s=Be();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Qp(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return KI()?8:GN(wn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const u={result:null};return this.ys(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,t,s,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new mO;return this.Ss(e,t,h).next(d=>{if(u.result=d,this.Vs)return this.bs(e,t,h,d.size)})}).next(()=>u.result)}bs(e,t,i,s){return i.documentReadCount<this.fs?(Mo()<=Ue.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Mo()<=Ue.DEBUG&&ye("QueryEngine","Query:",Vo(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Mo()<=Ue.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):le.resolve())}ys(e,t){if(eT(t))return le.resolve(null);let i=ei(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Fg(t,null,"F"),i=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const h=Be(...u);return this.ps.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.Ds(t,d);return this.Cs(t,g,h,p.readTime)?this.ys(e,Fg(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,i,s){return eT(t)||s.isEqual(Re.min())?le.resolve(null):this.ps.getDocuments(e,i).next(u=>{const h=this.Ds(t,u);return this.Cs(t,h,i,s)?le.resolve(null):(Mo()<=Ue.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vo(t)),this.vs(e,h,t,zN(s,Mu)).next(d=>d))})}Ds(e,t){let i=new Gt(zw(e));return t.forEach((s,u)=>{zf(e,u)&&(i=i.add(u))}),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Ss(e,t,i){return Mo()<=Ue.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.ps.getDocumentsMatchingQuery(e,t,Da.min(),i)}vs(e,t,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="LocalStore",pO=3e8;class yO{constructor(e,t,i,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new bt(ze),this.xs=new Ms(u=>zp(u),Bp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function vO(r,e,t,i){return new yO(r,e,t,i)}async function mS(r,e){const t=De(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(u=>(s=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],d=[];let p=Be();for(const g of s){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:d}))})})}function _O(r,e){const t=De(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const b=g.batch,w=b.keys();let C=le.resolve();return w.forEach(k=>{C=C.next(()=>v.getEntry(p,k)).next(V=>{const j=g.docVersions.get(k);Ye(j!==null,48541),V.version.compareTo(j)<0&&(b.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),v.addEntry(V)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Be();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function gS(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function EO(r,e){const t=De(r),i=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach((v,b)=>{const w=s.get(b);if(!w)return;d.push(t.Pi.removeMatchingKeys(u,v.removedDocuments,b).next(()=>t.Pi.addMatchingKeys(u,v.addedDocuments,b)));let C=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(pn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,i)),s=s.insert(b,C),function(V,j,z){return V.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=pO?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(w,C,v)&&d.push(t.Pi.updateTargetData(u,C))});let p=zi(),g=Be();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(TO(u,h,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!i.isEqual(Re.min())){const v=t.Pi.getLastRemoteSnapshotVersion(u).next(b=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i));d.push(v)}return le.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ms=s,u))}function TO(r,e,t){let i=Be(),s=Be();return t.forEach(u=>i=i.add(u)),e.getEntries(r,i).next(u=>{let h=zi();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ye(Kp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:s}})}function bO(r,e){const t=De(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Lp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function wO(r,e){const t=De(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Pi.getTargetData(i,e).next(u=>u?(s=u,le.resolve(s)):t.Pi.allocateTargetId(i).next(h=>(s=new ba(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function Qg(r,e,t){const i=De(r),s=i.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,s))}catch(h){if(!sl(h))throw h;ye(Kp,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function dT(r,e,t){const i=De(r);let s=Re.min(),u=Be();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const b=De(p),w=b.xs.get(v);return w!==void 0?le.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,v)}(i,h,ei(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(h,e,t?s:Re.min(),t?u:Be())).next(d=>(SO(i,f2(e),d),{documents:d,Qs:u})))}function SO(r,e,t){let i=r.Os.get(e)||Re.min();t.forEach((s,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),r.Os.set(e,i)}class mT{constructor(){this.activeTargetIds=v2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AO{constructor(){this.Mo=new mT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="ConnectivityMonitor";class pT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(gT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(gT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=null;function Kg(){return jh===null?jh=function(){return 268435456+Math.round(2147483648*Math.random())}():jh++,"0x"+jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="RestConnection",IO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===mf?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,t,i,s,u){const h=Kg(),d=this.zo(e,t.toUriEncodedString());ye(vg,`Sending RPC '${e}' ${h}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,s,u);const{host:g}=new URL(d),v=tl(g);return this.Jo(e,d,p,i,v).then(b=>(ye(vg,`Received RPC '${e}' ${h}: `,b),b),b=>{throw Yo(vg,`RPC '${e}' ${h} failed with error: `,b,"url: ",d,"request:",i),b})}Ho(e,t,i,s,u,h){return this.Go(e,t,i,s,u)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),i&&i.headers.forEach((s,u)=>e[u]=s)}zo(e,t){const i=IO[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class DO extends xO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,u){const h=Kg();return new Promise((d,p)=>{const g=new dw;g.setWithCredentials(!0),g.listenOnce(mw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Qh.NO_ERROR:const b=g.getResponseJson();ye(En,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),d(b);break;case Qh.TIMEOUT:ye(En,`RPC '${e}' ${h} timed out`),p(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const w=g.getStatus();if(ye(En,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const k=C?.error;if(k&&k.status&&k.message){const V=function(z){const J=z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(J)>=0?J:re.UNKNOWN}(k.status);p(new me(V,k.message))}else p(new me(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(re.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(En,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(s);ye(En,`RPC '${e}' ${h} sending request:`,s),g.send(t,"POST",v,i,15)})}T_(e,t,i){const s=Kg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=yw(),d=pw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=u.join("");ye(En,`Creating RPC '${e}' stream ${s}: ${v}`,p);const b=h.createWebChannel(v,p);this.I_(b);let w=!1,C=!1;const k=new CO({Yo:j=>{C?ye(En,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(w||(ye(En,`Opening RPC '${e}' stream ${s} transport.`),b.open(),w=!0),ye(En,`RPC '${e}' stream ${s} sending:`,j),b.send(j))},Zo:()=>b.close()}),V=(j,z,J)=>{j.listen(z,ee=>{try{J(ee)}catch(ie){setTimeout(()=>{throw ie},0)}})};return V(b,vu.EventType.OPEN,()=>{C||(ye(En,`RPC '${e}' stream ${s} transport opened.`),k.o_())}),V(b,vu.EventType.CLOSE,()=>{C||(C=!0,ye(En,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(b))}),V(b,vu.EventType.ERROR,j=>{C||(C=!0,Yo(En,`RPC '${e}' stream ${s} transport errored. Name:`,j.name,"Message:",j.message),k.a_(new me(re.UNAVAILABLE,"The operation could not be completed")))}),V(b,vu.EventType.MESSAGE,j=>{if(!C){const z=j.data[0];Ye(!!z,16349);const J=z,ee=J?.error||J[0]?.error;if(ee){ye(En,`RPC '${e}' stream ${s} received error:`,ee);const ie=ee.status;let te=function(I){const D=kt[I];if(D!==void 0)return tS(D)}(ie),pe=ee.message;te===void 0&&(te=re.INTERNAL,pe="Unknown error status: "+ie+" with message "+ee.message),C=!0,k.a_(new me(te,pe)),b.close()}else ye(En,`RPC '${e}' stream ${s} received:`,z),k.u_(z)}}),V(d,gw.STAT_EVENT,j=>{j.stat===kg.PROXY?ye(En,`RPC '${e}' stream ${s} detected buffering proxy`):j.stat===kg.NOPROXY&&ye(En,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function _g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(r){return new V2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,i=1e3,s=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=s,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="PersistentStream";class pS{constructor(e,t,i,s,u,h,d,p){this.Mi=e,this.S_=i,this.b_=s,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xp(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===t&&this.G_(i,s)},i=>{e(()=>{const s=new me(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(yT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ye(yT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NO extends pS{constructor(e,t,i,s,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=j2(this.serializer,e),i=function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Yn(h.readTime):Re.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=$g(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=Hg(p)?{documents:z2(u,p)}:{query:B2(u,p).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=iS(u,h.resumeToken);const g=Gg(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){d.readTime=vf(u,h.snapshotVersion.toTimestamp());const g=Gg(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=q2(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=$g(this.serializer),t.removeTarget=e,this.q_(t)}}class OO extends pS{constructor(e,t,i,s,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=U2(e.writeResults,e.commitTime),i=Yn(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=$g(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>lS(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{}class VO extends MO{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Yg(t,i),s,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(re.UNKNOWN,u.toString())})}Ho(e,t,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Ho(e,Yg(t,i),s,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(re.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class PO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="RemoteStore";class kO{constructor(e,t,i,s,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{i.enqueueAndForget(async()=>{Vs(this)&&(ye(Ds,"Restarting streams for network reachability change."),await async function(p){const g=De(p);g.Ea.add(4),await ic(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Gf(g)}(this))})}),this.Ra=new PO(i,s)}}async function Gf(r){if(Vs(r))for(const e of r.da)await e(!0)}async function ic(r){for(const e of r.da)await e(!1)}function yS(r,e){const t=De(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ey(t)?Jp(t):ol(t).O_()&&Zp(t,e))}function Wp(r,e){const t=De(r),i=ol(t);t.Ia.delete(e),i.O_()&&vS(t,e),t.Ia.size===0&&(i.O_()?i.L_():Vs(t)&&t.Ra.set("Unknown"))}function Zp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ol(r).Y_(e)}function vS(r,e){r.Va.Ue(e),ol(r).Z_(e)}function Jp(r){r.Va=new D2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ol(r).start(),r.Ra.ua()}function ey(r){return Vs(r)&&!ol(r).x_()&&r.Ia.size>0}function Vs(r){return De(r).Ea.size===0}function _S(r){r.Va=void 0}async function LO(r){r.Ra.set("Online")}async function jO(r){r.Ia.forEach((e,t)=>{Zp(r,e)})}async function UO(r,e){_S(r),ey(r)?(r.Ra.ha(e),Jp(r)):r.Ra.set("Unknown")}async function zO(r,e,t){if(r.Ra.set("Online"),e instanceof rS&&e.state===2&&e.cause)try{await async function(s,u){const h=u.cause;for(const d of u.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,h),s.Ia.delete(d),s.Va.removeTarget(d))}(r,e)}catch(i){ye(Ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Tf(r,i)}else if(e instanceof Zh?r.Va.Ze(e):e instanceof nS?r.Va.st(e):r.Va.tt(e),!t.isEqual(Re.min()))try{const i=await gS(r.localStore);t.compareTo(i)>=0&&await function(u,h){const d=u.Va.Tt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(pn.EMPTY_BYTE_STRING,v.snapshotVersion)),vS(u,p);const b=new ba(v.target,p,g,v.sequenceNumber);Zp(u,b)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(i){ye(Ds,"Failed to raise snapshot:",i),await Tf(r,i)}}async function Tf(r,e,t){if(!sl(e))throw e;r.Ea.add(1),await ic(r),r.Ra.set("Offline"),t||(t=()=>gS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(Ds,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Gf(r)})}function ES(r,e){return e().catch(t=>Tf(r,t,e))}async function Yf(r){const e=De(r),t=Va(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lp;for(;BO(e);)try{const s=await bO(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,HO(e,s)}catch(s){await Tf(e,s)}TS(e)&&bS(e)}function BO(r){return Vs(r)&&r.Ta.length<10}function HO(r,e){r.Ta.push(e);const t=Va(r);t.O_()&&t.X_&&t.ea(e.mutations)}function TS(r){return Vs(r)&&!Va(r).x_()&&r.Ta.length>0}function bS(r){Va(r).start()}async function qO(r){Va(r).ra()}async function FO(r){const e=Va(r);for(const t of r.Ta)e.ea(t.mutations)}async function GO(r,e,t){const i=r.Ta.shift(),s=qp.from(i,e,t);await ES(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await Yf(r)}async function YO(r,e){e&&Va(r).X_&&await async function(i,s){if(function(h){return eS(h)&&h!==re.ABORTED}(s.code)){const u=i.Ta.shift();Va(i).B_(),await ES(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,s)),await Yf(i)}}(r,e),TS(r)&&bS(r)}async function vT(r,e){const t=De(r);t.asyncQueue.verifyOperationInProgress(),ye(Ds,"RemoteStore received new credentials");const i=Vs(t);t.Ea.add(3),await ic(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Gf(t)}async function $O(r,e){const t=De(r);e?(t.Ea.delete(2),await Gf(t)):e||(t.Ea.add(2),await ic(t),t.Ra.set("Unknown"))}function ol(r){return r.ma||(r.ma=function(t,i,s){const u=De(t);return u.sa(),new NO(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(r.datastore,r.asyncQueue,{Xo:LO.bind(null,r),t_:jO.bind(null,r),r_:UO.bind(null,r),H_:zO.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),ey(r)?Jp(r):r.Ra.set("Unknown")):(await r.ma.stop(),_S(r))})),r.ma}function Va(r){return r.fa||(r.fa=function(t,i,s){const u=De(t);return u.sa(),new OO(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:qO.bind(null,r),r_:YO.bind(null,r),ta:FO.bind(null,r),na:GO.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Yf(r)):(await r.fa.stop(),r.Ta.length>0&&(ye(Ds,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t,i,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,u){const h=Date.now()+i,d=new ty(e,t,h,s,u);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),sl(r))return new me(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Te.comparator(t.key,i.key):(t,i)=>Te.comparator(t.key,i.key),this.keyedMap=_u(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=i.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Fo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.ga=new bt(Te.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class Wo{constructor(e,t,i,s,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Wo(e,t,Fo.emptySet(t),h,i,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class KO{constructor(){this.queries=ET(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=De(t),u=s.queries;s.queries=ET(),u.forEach((h,d)=>{for(const p of d.Sa)p.onError(i)})})(this,new me(re.ABORTED,"Firestore shutting down"))}}function ET(){return new Ms(r=>Uw(r),Uf)}async function ry(r,e){const t=De(r);let i=3;const s=e.query;let u=t.queries.get(s);u?!u.ba()&&e.Da()&&(i=2):(u=new QO,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await t.onListen(s,!0);break;case 1:u.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(h){const d=ny(h,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&ay(t)}async function iy(r,e){const t=De(r),i=e.query;let s=3;const u=t.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?s=e.Da()?0:1:!u.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function XO(r,e){const t=De(r);let i=!1;for(const s of e){const u=s.query,h=t.queries.get(u);if(h){for(const d of h.Sa)d.Fa(s)&&(i=!0);h.wa=s}}i&&ay(t)}function WO(r,e,t){const i=De(r),s=i.queries.get(e);if(s)for(const u of s.Sa)u.onError(t);i.queries.delete(e)}function ay(r){r.Ca.forEach(e=>{e.next()})}var Xg,TT;(TT=Xg||(Xg={})).Ma="default",TT.Cache="cache";class sy{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Wo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.key=e}}class SS{constructor(e){this.key=e}}class ZO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=zw(e),this.tu=new Fo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new _T,s=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,b)=>{const w=s.get(v),C=zf(this.query,b)?b:null,k=!!w&&this.mutatedKeys.has(w.key),V=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let j=!1;w&&C?w.data.isEqual(C.data)?k!==V&&(i.track({type:3,doc:C}),j=!0):this.su(w,C)||(i.track({type:2,doc:C}),j=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!w&&C?(i.track({type:0,doc:C}),j=!0):w&&!C&&(i.track({type:1,doc:w}),j=!0,(p||g)&&(d=!0)),j&&(C?(h=h.add(C),u=V?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),i.track({type:1,doc:v})}return{tu:h,iu:i,Cs:d,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((v,b)=>function(C,k){const V=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:j})}};return V(C)-V(k)}(v.type,b.type)||this.eu(v.doc,b.doc)),this.ou(i),s=s??!1;const d=t&&!s?this._u():[],p=this.Xa.size===0&&this.current&&!s?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Wo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _T,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new SS(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new wS(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const oy="SyncEngine";class JO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class eM{constructor(e){this.key=e,this.hu=!1}}class tM{constructor(e,t,i,s,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ms(d=>Uw(d),Uf),this.Iu=new Map,this.Eu=new Set,this.du=new bt(Te.comparator),this.Au=new Map,this.Ru=new Yp,this.Vu={},this.mu=new Map,this.fu=Xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nM(r,e,t=!0){const i=DS(r);let s;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),s=u.view.lu()):s=await AS(i,e,t,!0),s}async function rM(r,e){const t=DS(r);await AS(t,e,!0,!1)}async function AS(r,e,t,i){const s=await wO(r.localStore,ei(e)),u=s.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return i&&(d=await iM(r,e,u,h==="current",s.resumeToken)),r.isPrimaryClient&&t&&yS(r.remoteStore,s),d}async function iM(r,e,t,i,s){r.pu=(b,w,C)=>async function(V,j,z,J){let ee=j.view.ru(z);ee.Cs&&(ee=await dT(V.localStore,j.query,!1).then(({documents:U})=>j.view.ru(U,ee)));const ie=J&&J.targetChanges.get(j.targetId),te=J&&J.targetMismatches.get(j.targetId)!=null,pe=j.view.applyChanges(ee,V.isPrimaryClient,ie,te);return wT(V,j.targetId,pe.au),pe.snapshot}(r,b,w,C);const u=await dT(r.localStore,e,!0),h=new ZO(e,u.Qs),d=h.ru(u.documents),p=rc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",s),g=h.applyChanges(d,r.isPrimaryClient,p);wT(r,t,g.au);const v=new JO(e,t,h);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function aM(r,e,t){const i=De(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);if(u.length>1)return i.Iu.set(s.targetId,u.filter(h=>!Uf(h,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Qg(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Wp(i.remoteStore,s.targetId),Wg(i,s.targetId)}).catch(al)):(Wg(i,s.targetId),await Qg(i.localStore,s.targetId,!0))}async function sM(r,e){const t=De(r),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Wp(t.remoteStore,i.targetId))}async function oM(r,e,t){const i=mM(r);try{const s=await function(h,d){const p=De(h),g=et.now(),v=d.reduce((C,k)=>C.add(k.key),Be());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=zi(),V=Be();return p.Ns.getEntries(C,v).next(j=>{k=j,k.forEach((z,J)=>{J.isValidDocument()||(V=V.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,k)).next(j=>{b=j;const z=[];for(const J of d){const ee=S2(J,b.get(J.key).overlayedDocument);ee!=null&&z.push(new za(J.key,ee,Nw(ee.value.mapValue),Ut.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,z,d)}).next(j=>{w=j;const z=j.applyToLocalDocumentSet(b,V);return p.documentOverlayCache.saveOverlays(C,j.batchId,z)})}).then(()=>({batchId:w.batchId,changes:Hw(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(h,d,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new bt(ze)),g=g.insert(d,p),h.Vu[h.currentUser.toKey()]=g}(i,s.batchId,t),await ac(i,s.changes),await Yf(i.remoteStore)}catch(s){const u=ny(s,"Failed to persist write");t.reject(u)}}async function RS(r,e){const t=De(r);try{const i=await EO(t.localStore,e);e.targetChanges.forEach((s,u)=>{const h=t.Au.get(u);h&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?h.hu=!0:s.modifiedDocuments.size>0?Ye(h.hu,14607):s.removedDocuments.size>0&&(Ye(h.hu,42227),h.hu=!1))}),await ac(t,i,e)}catch(i){await al(i)}}function bT(r,e,t){const i=De(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach((u,h)=>{const d=h.view.va(e);d.snapshot&&s.push(d.snapshot)}),function(h,d){const p=De(h);p.onlineState=d;let g=!1;p.queries.forEach((v,b)=>{for(const w of b.Sa)w.va(d)&&(g=!0)}),g&&ay(p)}(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function lM(r,e,t){const i=De(r);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),u=s&&s.key;if(u){let h=new bt(Te.comparator);h=h.insert(u,tn.newNoDocument(u,Re.min()));const d=Be().add(u),p=new qf(Re.min(),new Map,new bt(ze),h,d);await RS(i,p),i.du=i.du.remove(u),i.Au.delete(e),ly(i)}else await Qg(i.localStore,e,!1).then(()=>Wg(i,e,t)).catch(al)}async function uM(r,e){const t=De(r),i=e.batch.batchId;try{const s=await _O(t.localStore,e);xS(t,i,null),IS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ac(t,s)}catch(s){await al(s)}}async function cM(r,e,t){const i=De(r);try{const s=await function(h,d){const p=De(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(Ye(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);xS(i,e,t),IS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ac(i,s)}catch(s){await al(s)}}function IS(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function xS(r,e,t){const i=De(r);let s=i.Vu[i.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function Wg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(i=>{r.Ru.containsKey(i)||CS(r,i)})}function CS(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Wp(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),ly(r))}function wT(r,e,t){for(const i of t)i instanceof wS?(r.Ru.addReference(i.key,e),hM(r,i)):i instanceof SS?(ye(oy,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||CS(r,i.key)):we(19791,{wu:i})}function hM(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(ye(oy,"New document in limbo: "+t),r.Eu.add(i),ly(r))}function ly(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Te(ot.fromString(e)),i=r.fu.next();r.Au.set(i,new eM(t)),r.du=r.du.insert(t,i),yS(r.remoteStore,new ba(ei(jf(t.path)),i,"TargetPurposeLimboResolution",kf.ce))}}async function ac(r,e,t){const i=De(r),s=[],u=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach((d,p)=>{h.push(i.pu(p,e,t).then(g=>{if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){s.push(g);const v=Qp.As(p.targetId,g);u.push(v)}}))}),await Promise.all(h),i.Pu.H_(s),await async function(p,g){const v=De(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>le.forEach(g,w=>le.forEach(w.Es,C=>v.persistence.referenceDelegate.addReference(b,w.targetId,C)).next(()=>le.forEach(w.ds,C=>v.persistence.referenceDelegate.removeReference(b,w.targetId,C)))))}catch(b){if(!sl(b))throw b;ye(Kp,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const C=v.Ms.get(w),k=C.snapshotVersion,V=C.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(w,V)}}}(i.localStore,u))}async function fM(r,e){const t=De(r);if(!t.currentUser.isEqual(e)){ye(oy,"User change. New user:",e.toKey());const i=await mS(t.localStore,e);t.currentUser=e,function(u,h){u.mu.forEach(d=>{d.forEach(p=>{p.reject(new me(re.CANCELLED,h))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ac(t,i.Ls)}}function dM(r,e){const t=De(r),i=t.Au.get(e);if(i&&i.hu)return Be().add(i.key);{let s=Be();const u=t.Iu.get(e);if(!u)return s;for(const h of u){const d=t.Tu.get(h);s=s.unionWith(d.view.nu)}return s}}function DS(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=RS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lM.bind(null,e),e.Pu.H_=XO.bind(null,e.eventManager),e.Pu.yu=WO.bind(null,e.eventManager),e}function mM(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cM.bind(null,e),e}class bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return vO(this.persistence,new gO,e.initialUser,this.serializer)}Cu(e){return new dS($p.mi,this.serializer)}Du(e){return new AO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bf.provider={build:()=>new bf};class gM extends bf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ye(this.persistence.referenceDelegate instanceof Ef,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new eO(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new dS(i=>Ef.mi(i,t),this.serializer)}}class Zg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fM.bind(null,this.syncEngine),await $O(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KO}()}createDatastore(e){const t=Ff(e.databaseInfo.databaseId),i=function(u){return new DO(u)}(e.databaseInfo);return function(u,h,d,p){return new VO(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,u,h,d){return new kO(i,s,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>bT(this.syncEngine,t,0),function(){return pT.v()?new pT:new RO}())}createSyncEngine(e,t){return function(s,u,h,d,p,g,v){const b=new tM(s,u,h,d,p,g);return v&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const i=De(t);ye(Ds,"RemoteStore shutting down."),i.Ea.add(5),await ic(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zg.provider={build:()=>new Zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new me(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(s,u){const h=De(s),d={documents:u.map(b=>_f(h.serializer,b))},p=await h.Ho("BatchGetDocuments",h.serializer.databaseId,ot.emptyPath(),d,u.length),g=new Map;p.forEach(b=>{const w=L2(h.serializer,b);g.set(w.key.toString(),w)});const v=[];return u.forEach(b=>{const w=g.get(b.toString());Ye(!!w,55234,{key:b}),v.push(w)}),v}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new nc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{const s=Te.fromPath(i);this.mutations.push(new Jw(s,this.precondition(s)))}),await async function(i,s){const u=De(i),h={writes:s.map(d=>lS(u.serializer,d))};await u.Go("Commit",u.serializer.databaseId,ot.emptyPath(),h)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we(50498,{Gu:e.constructor.name});t=Re.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new me(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?Ut.exists(!1):Ut.updateTime(t):Ut.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new me(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ut.updateTime(t)}return Ut.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t,i,s,u){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=s,this.deferred=u,this.zu=i.maxAttempts,this.M_=new Xp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new pM(this.datastore),t=this.Hu(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(s=>{this.Yu(s)}))}).catch(i=>{this.Yu(i)})})}Hu(e){try{const t=this.updateFunction(e);return!Ju(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!eS(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="FirestoreClient";class vM{constructor(e,t,i,s,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{ye(Pa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ye(Pa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ny(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Eg(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Pa,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async s=>{i.isEqual(s)||(await mS(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function ST(r,e){r.asyncQueue.verifyOperationInProgress();const t=await _M(r);ye(Pa,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>vT(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,s)=>vT(e.remoteStore,s)),r._onlineComponents=e}async function _M(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Pa,"Using user provided OfflineComponentProvider");try{await Eg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Yo("Error using user provided cache. Falling back to memory cache: "+t),await Eg(r,new bf)}}else ye(Pa,"Using default OfflineComponentProvider"),await Eg(r,new gM(void 0));return r._offlineComponents}async function cy(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Pa,"Using user provided OnlineComponentProvider"),await ST(r,r._uninitializedComponentsProvider._online)):(ye(Pa,"Using default OnlineComponentProvider"),await ST(r,new Zg))),r._onlineComponents}function EM(r){return cy(r).then(e=>e.syncEngine)}function TM(r){return cy(r).then(e=>e.datastore)}async function wf(r){const e=await cy(r),t=e.eventManager;return t.onListen=nM.bind(null,e.syncEngine),t.onUnlisten=aM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sM.bind(null,e.syncEngine),t}function bM(r,e,t={}){const i=new Jr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new uy({next:w=>{v.Nu(),h.enqueueAndForget(()=>iy(u,b));const C=w.docs.has(d);!C&&w.fromCache?g.reject(new me(re.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?g.reject(new me(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new sy(jf(d.path),v,{includeMetadataChanges:!0,qa:!0});return ry(u,b)}(await wf(r),r.asyncQueue,e,t,i)),i.promise}function wM(r,e,t={}){const i=new Jr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new uy({next:w=>{v.Nu(),h.enqueueAndForget(()=>iy(u,b)),w.fromCache&&p.source==="server"?g.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new sy(d,v,{includeMetadataChanges:!0,qa:!0});return ry(u,b)}(await wf(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firestore.googleapis.com",RT=!0;class IT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OS,this.ssl=RT}else this.host=e.host,this.ssl=e.ssl??RT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z2)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NS(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new CN;switch(i.type){case"firstParty":return new MN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=AT.get(t);i&&(ye("ComponentProvider","Removing Datastore"),AT.delete(t),i.terminate())}(this),Promise.resolve()}}function SM(r,e,t,i={}){r=bn(r,$f);const s=tl(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;s&&(wb(`https://${d}`),Sb("Firestore",!0)),u.host!==OS&&u.host!==d&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:s,emulatorOptions:i};if(!As(p,h)&&(r._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=Tn.MOCK_USER;else{g=zI(i.mockUserToken,r._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Tn(b)}r._authCredentials=new DN(new _w(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class Tt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Zu(t,Tt._jsonSchema))return new Tt(e,i||null,new Te(ot.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:zt("string",Tt._jsonSchemaVersion),referencePath:zt("string")};class xa extends Ps{constructor(e,t,i){super(e,t,jf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Te(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function $n(r,e,...t){if(r=It(r),Ew("collection","path",e),r instanceof $f){const i=ot.fromString(e,...t);return zE(i),new xa(r,null,i)}{if(!(r instanceof Tt||r instanceof xa))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ot.fromString(e,...t));return zE(i),new xa(r.firestore,null,i)}}function Yt(r,e,...t){if(r=It(r),arguments.length===1&&(e=kp.newId()),Ew("doc","path",e),r instanceof $f){const i=ot.fromString(e,...t);return UE(i),new Tt(r,null,new Te(i))}{if(!(r instanceof Tt||r instanceof xa))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ot.fromString(e,...t));return UE(i),new Tt(r.firestore,r instanceof xa?r.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="AsyncQueue";class CT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xp(this,"async_queue_retry"),this._c=()=>{const i=_g();i&&ye(xT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=_g();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=_g();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Jr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;ye(xT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",DT(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=ty.createAndSchedule(this,e,t,i,u=>this.hc(u));return this.tc.push(s),s}uc(){this.nc&&we(47125,{Pc:DT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function DT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const u of i)if(u in s&&typeof s[u]=="function")return!0;return!1}(r,["next","error","complete"])}class xr extends $f{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new CT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CT(e),this._firestoreClient=void 0,await e}}}function AM(r,e){const t=typeof r=="object"?r:xb(),i=typeof r=="string"?r:mf,s=Rp(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const u=jI("firestore");u&&SM(s,...u)}return s}function ll(r){if(r._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RM(r),r._firestoreClient}function RM(r){const e=r._freezeSettings(),t=function(s,u,h,d){return new XN(s,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new vM(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(s){const u=s?._online.build();return{_offline:s?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(pn.fromBase64String(e))}catch(t){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:zt("string",Fn._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Sf(){return new ks(jg)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(Zu(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:zt("string",ti._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==s[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zu(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ni(e.vectorValues);throw new me(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:zt("string",ni._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=/^__.*__$/;class xM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,t,this.fieldTransforms):new tc(e,this.data,t,this.fieldTransforms)}}class MS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:r})}}class hy{constructor(e,t,i,s,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Af(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VS(this.Ac)&&IM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ff(e)}Cc(e,t,i,s=!1){return new hy({Ac:e,methodName:t,Dc:i,path:mn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ul(r){const e=r._freezeSettings(),t=Ff(r._databaseId);return new CM(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Qf(r,e,t,i,s,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,t,s);py("Data must be an object, but it was:",h,i);const d=PS(i,h);let p,g;if(u.merge)p=new Gn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const w=Jg(e,b,t);if(!h.contains(w))throw new me(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);LS(v,w)||v.push(w)}p=new Gn(v),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new xM(new Cn(d),p,g)}class Kf extends sc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}class fy extends sc{_toFieldTransform(e){return new Xw(e.path,new Lu)}isEqual(e){return e instanceof fy}}class dy extends sc{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new zu(e.serializer,Gw(e.serializer,this.Fc));return new Xw(e.path,t)}isEqual(e){return e instanceof dy&&this.Fc===e.Fc}}function my(r,e,t,i){const s=r.Cc(1,e,t);py("Data must be an object, but it was:",s,i);const u=[],h=Cn.empty();Ua(i,(p,g)=>{const v=yy(e,p,t);g=It(g);const b=s.yc(v);if(g instanceof Kf)u.push(v);else{const w=oc(g,b);w!=null&&(u.push(v),h.set(v,w))}});const d=new Gn(u);return new MS(h,d,s.fieldTransforms)}function gy(r,e,t,i,s,u){const h=r.Cc(1,e,t),d=[Jg(e,i,t)],p=[s];if(u.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)d.push(Jg(e,u[w])),p.push(u[w+1]);const g=[],v=Cn.empty();for(let w=d.length-1;w>=0;--w)if(!LS(g,d[w])){const C=d[w];let k=p[w];k=It(k);const V=h.yc(C);if(k instanceof Kf)g.push(C);else{const j=oc(k,V);j!=null&&(g.push(C),v.set(C,j))}}const b=new Gn(g);return new MS(v,b,h.fieldTransforms)}function DM(r,e,t,i=!1){return oc(t,r.Cc(i?4:3,e))}function oc(r,e){if(kS(r=It(r)))return py("Unsupported field value:",e,r),PS(r,e);if(r instanceof sc)return function(i,s){if(!VS(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,s){const u=[];let h=0;for(const d of i){let p=oc(d,s.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(i,s){if((i=It(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Gw(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=et.fromDate(i);return{timestampValue:vf(s.serializer,u)}}if(i instanceof et){const u=new et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:vf(s.serializer,u)}}if(i instanceof ti)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fn)return{bytesValue:iS(s.serializer,i._byteString)};if(i instanceof Tt){const u=s.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw s.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gp(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ni)return function(h,d){return{mapValue:{fields:{[Cw]:{stringValue:Dw},[gf]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Hp(d.serializer,g)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${Pf(i)}`)}(r,e)}function PS(r,e){const t={};return ww(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(r,(i,s)=>{const u=oc(s,e.mc(i));u!=null&&(t[i]=u)}),{mapValue:{fields:t}}}function kS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof et||r instanceof ti||r instanceof Fn||r instanceof Tt||r instanceof sc||r instanceof ni)}function py(r,e,t){if(!kS(t)||!Tw(t)){const i=Pf(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Jg(r,e,t){if((e=It(e))instanceof ks)return e._internalPath;if(typeof e=="string")return yy(r,e);throw Af("Field path arguments must be of type string or ",r,!1,void 0,t)}const NM=new RegExp("[~\\*/\\[\\]]");function yy(r,e,t){if(e.search(NM)>=0)throw Af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ks(...e.split("."))._internalPath}catch{throw Af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Af(r,e,t,i,s){const u=i&&!i.isEmpty(),h=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${i}`),h&&(p+=` in document ${s}`),p+=")"),new me(re.INVALID_ARGUMENT,d+r+p)}function LS(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,i,s,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OM extends Rf{data(){return super.data()}}function vy(r,e){return typeof e=="string"?yy(r,e):e instanceof ks?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _y{}class MM extends _y{}function wr(r,e,...t){let i=[];e instanceof _y&&i.push(e),i=i.concat(t),function(u){const h=u.filter(p=>p instanceof Ey).length,d=u.filter(p=>p instanceof Xf).length;if(h>1||h>0&&d>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)r=s._apply(r);return r}class Xf extends MM{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Xf(e,t,i)}_apply(e){const t=this._parse(e);return US(e._query,t),new Ps(e.firestore,e.converter,qg(e._query,t))}_parse(e){const t=ul(e.firestore);return function(u,h,d,p,g,v,b){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){MT(b,v);const k=[];for(const V of b)k.push(OT(p,u,V));w={arrayValue:{values:k}}}else w=OT(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||MT(b,v),w=DM(d,h,b,v==="in"||v==="not-in");return jt.create(g,v,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Vn(r,e,t){const i=e,s=vy("where",r);return Xf._create(s,i,t)}class Ey extends _y{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ey(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,u){let h=s;const d=u.getFlattenedFilters();for(const p of d)US(h,p),h=qg(h,p)}(e._query,t),new Ps(e.firestore,e.converter,qg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function OT(r,e,t){if(typeof(t=It(t))=="string"){if(t==="")throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jw(e)&&t.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ot.fromString(t));if(!Te.isDocumentKey(i))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return QE(r,new Te(i))}if(t instanceof Tt)return QE(r,t._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(t)}.`)}function MT(r,e){if(!Array.isArray(r)||r.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function US(r,e){const t=function(s,u){for(const h of s)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zS{convertValue(e,t="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ua(e,(s,u)=>{i[s]=this.convertValue(u,t)}),i}convertVectorValue(e){const t=e.fields?.[gf].arrayValue?.values?.map(i=>Dt(i.doubleValue));return new ni(t)}convertGeoPoint(e){return new ti(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Lf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const t=Na(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ot.fromString(e);Ye(hS(i),9688,{name:e});const s=new Pu(i.get(1),i.get(3)),u=new Te(i.popFirst(5));return s.isEqual(t)||Ui(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class VM extends zS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}class jo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends Rf{constructor(e,t,i,s,u,h){super(e,t,i,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(vy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ca._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:zt("string",Ca._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Jh extends Ca{data(e={}){return super.data(e)}}class ws{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new jo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Jh(this._firestore,this._userDataWriter,i.key,i,new jo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(d=>{const p=new Jh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new jo(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Jh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new jo(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:PM(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),s.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(r){r=bn(r,Tt);const e=bn(r.firestore,xr);return bM(ll(e),r._key).then(t=>FS(e,r,t))}ws._jsonSchemaVersion="firestore/querySnapshot/1.0",ws._jsonSchema={type:zt("string",ws._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class Zf extends zS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function Sr(r){r=bn(r,Ps);const e=bn(r.firestore,xr),t=ll(e),i=new Zf(e);return jS(r._query),wM(t,r._query).then(s=>new ws(e,i,r,s))}function ep(r,e,t){r=bn(r,Tt);const i=bn(r.firestore,xr),s=Wf(r.converter,e,t);return lc(i,[Qf(ul(i),"setDoc",r._key,s,r.converter!==null,t).toMutation(r._key,Ut.none())])}function Ty(r,e,t,...i){r=bn(r,Tt);const s=bn(r.firestore,xr),u=ul(s);let h;return h=typeof(e=It(e))=="string"||e instanceof ks?gy(u,"updateDoc",r._key,e,t,i):my(u,"updateDoc",r._key,e),lc(s,[h.toMutation(r._key,Ut.exists(!0))])}function BS(r){return lc(bn(r.firestore,xr),[new nc(r._key,Ut.none())])}function HS(r,e){const t=bn(r.firestore,xr),i=Yt(r),s=Wf(r.converter,e);return lc(t,[Qf(ul(r.firestore),"addDoc",i._key,s,r.converter!==null,{}).toMutation(i._key,Ut.exists(!1))]).then(()=>i)}function qS(r,...e){r=It(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||NT(e[i])||(t=e[i++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(NT(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let u,h,d;if(r instanceof Tt)h=bn(r.firestore,xr),d=jf(r._key.path),u={next:p=>{e[i]&&e[i](FS(h,r,p))},error:e[i+1],complete:e[i+2]};else{const p=bn(r,Ps);h=bn(p.firestore,xr),d=p._query;const g=new Zf(h);u={next:v=>{e[i]&&e[i](new ws(h,g,p,v))},error:e[i+1],complete:e[i+2]},jS(r._query)}return function(g,v,b,w){const C=new uy(w),k=new sy(v,C,b);return g.asyncQueue.enqueueAndForget(async()=>ry(await wf(g),k)),()=>{C.Nu(),g.asyncQueue.enqueueAndForget(async()=>iy(await wf(g),k))}}(ll(h),d,s,u)}function lc(r,e){return function(i,s){const u=new Jr;return i.asyncQueue.enqueueAndForget(async()=>oM(await EM(i),s,u)),u.promise}(ll(r),e)}function FS(r,e,t){const i=t.docs.get(e._key),s=new Zf(r);return new Ca(r,s,e._key,i,new jo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ul(e)}set(e,t,i){this._verifyNotCommitted();const s=wa(e,this._firestore),u=Wf(s.converter,t,i),h=Qf(this._dataReader,"WriteBatch.set",s._key,u,s.converter!==null,i);return this._mutations.push(h.toMutation(s._key,Ut.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const u=wa(e,this._firestore);let h;return h=typeof(t=It(t))=="string"||t instanceof ks?gy(this._dataReader,"WriteBatch.update",u._key,t,i,s):my(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Ut.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wa(e,this._firestore);return this._mutations=this._mutations.concat(new nc(t._key,Ut.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wa(r,e){if((r=It(r)).firestore!==e)throw new me(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ul(e)}get(e){const t=wa(e,this._firestore),i=new VM(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||s.length!==1)return we(24041);const u=s[0];if(u.isFoundDocument())return new Rf(this._firestore,i,u.key,u,t.converter);if(u.isNoDocument())return new Rf(this._firestore,i,t._key,null,t.converter);throw we(18433,{doc:u})})}set(e,t,i){const s=wa(e,this._firestore),u=Wf(s.converter,t,i),h=Qf(this._dataReader,"Transaction.set",s._key,u,s.converter!==null,i);return this._transaction.set(s._key,h),this}update(e,t,i,...s){const u=wa(e,this._firestore);let h;return h=typeof(t=It(t))=="string"||t instanceof ks?gy(this._dataReader,"Transaction.update",u._key,t,i,s):my(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=wa(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM extends jM{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wa(e,this._firestore),i=new Zf(this._firestore);return super.get(e).then(s=>new Ca(this._firestore,i,t._key,s._document,new jo(!1,!1),t.converter))}}function zM(r,e,t){r=bn(r,xr);const i={...kM,...t};return function(u){if(u.maxAttempts<1)throw new me(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(u,h,d){const p=new Jr;return u.asyncQueue.enqueueAndForget(async()=>{const g=await TM(u);new yM(u.asyncQueue,g,d,h,p).ju()}),p.promise}(ll(r),s=>e(new UM(r,s)),i)}function Uh(){return new fy("serverTimestamp")}function BM(r){return new dy("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(r){return ll(r=bn(r,xr)),new LM(r,e=>lc(r,e))}(function(e,t=!0){(function(s){il=s})(nl),Go(new Rs("firestore",(i,{instanceIdentifier:s,options:u})=>{const h=i.getProvider("app").getImmediate(),d=new xr(new NN(i.getProvider("auth-internal")),new VN(h,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(g.options.projectId,v)}(h,s),h);return u={useFetchStreams:t,...u},d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Ra(kE,LE,e),Ra(kE,LE,"esm2020")})();const qM={apiKey:"AIzaSyBSQivX41l48mnAYehuJGcU2FHzEpfHgUE",authDomain:"turnosapp-14e8b.firebaseapp.com",projectId:"turnosapp-14e8b",storageBucket:"turnosapp-14e8b.firebasestorage.app",messagingSenderId:"1094594571259",appId:"1:1094594571259:web:10ee87622b0c91ab63395e"},GS=Ib(qM),hl=AN(GS),$e=AM(GS),VT=r=>{let e;const t=new Set,i=(g,v)=>{const b=typeof g=="function"?g(e):g;if(!Object.is(b,e)){const w=e;e=v??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(C=>C(e,w))}},s=()=>e,d={setState:i,getState:s,getInitialState:()=>p,subscribe:g=>(t.add(g),()=>t.delete(g))},p=e=r(i,s,d);return d},FM=r=>r?VT(r):VT,GM=r=>r;function YM(r,e=GM){const t=Nh.useSyncExternalStore(r.subscribe,Nh.useCallback(()=>e(r.getState()),[r,e]),Nh.useCallback(()=>e(r.getInitialState()),[r,e]));return Nh.useDebugValue(t),t}const PT=r=>{const e=FM(r),t=i=>YM(e,i);return Object.assign(t,e),t},YS=r=>r?PT(r):PT;function $M(r,e){let t;try{t=r()}catch{return}return{getItem:s=>{var u;const h=p=>p===null?null:JSON.parse(p,void 0),d=(u=t.getItem(s))!=null?u:null;return d instanceof Promise?d.then(h):h(d)},setItem:(s,u)=>t.setItem(s,JSON.stringify(u,void 0)),removeItem:s=>t.removeItem(s)}}const tp=r=>e=>{try{const t=r(e);return t instanceof Promise?t:{then(i){return tp(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return tp(i)(t)}}}},QM=(r,e)=>(t,i,s)=>{let u={storage:$M(()=>localStorage),partialize:V=>V,version:0,merge:(V,j)=>({...j,...V}),...e},h=!1;const d=new Set,p=new Set;let g=u.storage;if(!g)return r((...V)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),t(...V)},i,s);const v=()=>{const V=u.partialize({...i()});return g.setItem(u.name,{state:V,version:u.version})},b=s.setState;s.setState=(V,j)=>{b(V,j),v()};const w=r((...V)=>{t(...V),v()},i,s);s.getInitialState=()=>w;let C;const k=()=>{var V,j;if(!g)return;h=!1,d.forEach(J=>{var ee;return J((ee=i())!=null?ee:w)});const z=((j=u.onRehydrateStorage)==null?void 0:j.call(u,(V=i())!=null?V:w))||void 0;return tp(g.getItem.bind(g))(u.name).then(J=>{if(J)if(typeof J.version=="number"&&J.version!==u.version){if(u.migrate){const ee=u.migrate(J.state,J.version);return ee instanceof Promise?ee.then(ie=>[!0,ie]):[!0,ee]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,J.state];return[!1,void 0]}).then(J=>{var ee;const[ie,te]=J;if(C=u.merge(te,(ee=i())!=null?ee:w),t(C,!0),ie)return v()}).then(()=>{z?.(C,void 0),C=i(),h=!0,p.forEach(J=>J(C))}).catch(J=>{z?.(void 0,J)})};return s.persist={setOptions:V=>{u={...u,...V},V.storage&&(g=V.storage)},clearStorage:()=>{g?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>k(),hasHydrated:()=>h,onHydrate:V=>(d.add(V),()=>{d.delete(V)}),onFinishHydration:V=>(p.add(V),()=>{p.delete(V)})},u.skipHydration||k(),C||w},$S=QM,hr=YS($S(r=>({user:null,info:null,turnos:null,isAuthReady:!1,setUser:({user:e,info:t,turnos:i})=>r({user:e,info:t,turnos:i,isAuthReady:!0}),setTurnos:e=>r({turnos:e}),clearUser:()=>r({user:null,info:null,turnos:null,isAuthReady:!1})}),{name:"auth-storage"}));async function QS(r){try{const e=Yt($e,"users",r),t=await cl(e);return t.exists()?t.data():(console.warn("No se encontró el usuario"),null)}catch(e){return console.error("Error al obtener datos del usuario:",e),null}}async function KS(r){try{const e=$n($e,"turnos"),t=wr(e,Vn("userId","==",r)),i=await Sr(t),s=[];for(const u of i.docs){const h=u.data(),d=Yt($e,"servicios",h.servicioId),p=await cl(d),g=p.exists()?p.data():null;s.push({id:u.id,...h,servicio:g})}return s}catch(e){return console.error("Error al obtener turnos:",e),[]}}function KM({children:r}){const e=hr(i=>i.setUser),t=hr(i=>i.clearUser);return L.useEffect(()=>{const i=tw(hl,async s=>{if(s){const[u,h]=await Promise.all([QS(s.uid),KS(s.uid)]);e({user:s,info:u,turnos:h})}else t()});return()=>i()},[]),r}function cr({type:r="info",message:e,onClose:t}){const[i,s]=L.useState(!1),u="p-3 rounded-md text-sm font-medium mt-2 relative",h={info:"bg-blue-100 text-blue-800 border border-blue-300",success:"bg-green-100 text-green-800 border border-green-300",warning:"bg-yellow-100 text-yellow-800 border border-yellow-300",error:"bg-red-100 text-red-800 border border-red-300"};L.useEffect(()=>{e&&s(!0)},[e]);function d(){s(!1),t&&t()}return!i||!e?null:_.jsxs("div",{className:`${u} ${h[r]}`,children:[e,_.jsx("button",{onClick:d,className:"absolute top-1 right-2 text-lg text-gray-500 hover:text-gray-700",children:"×"})]})}var XM={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function WM(r){if(typeof r=="number")return{value:r,unit:"px"};var e,t=(r.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var i=(r.match(/[^0-9]*$/)||"").toString();return XM[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(r," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function kT(r){var e=WM(r);return"".concat(e.value).concat(e.unit)}var ZM=function(r,e,t){var i="react-spinners-".concat(r,"-").concat(t);if(typeof window>"u"||!window.document)return i;var s=document.createElement("style");document.head.appendChild(s);var u=s.sheet,h=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return u&&u.insertRule(h,0),i},If=function(){return If=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},If.apply(this,arguments)},JM=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},eV=ZM("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Ns(r){var e=r.loading,t=e===void 0?!0:e,i=r.color,s=i===void 0?"#000000":i,u=r.speedMultiplier,h=u===void 0?1:u,d=r.cssOverride,p=d===void 0?{}:d,g=r.size,v=g===void 0?35:g,b=JM(r,["loading","color","speedMultiplier","cssOverride","size"]),w=If({background:"transparent !important",width:kT(v),height:kT(v),borderRadius:"100%",border:"2px solid",borderTopColor:s,borderBottomColor:"transparent",borderLeftColor:s,borderRightColor:s,display:"inline-block",animation:"".concat(eV," ").concat(.75/h,"s 0s infinite linear"),animationFillMode:"both"},p);return t?L.createElement("span",If({style:w},b)):null}function tV(){const[r,e]=L.useState(""),[t,i]=L.useState(""),[s,u]=L.useState(""),[h,d]=L.useState(!1),p=Fu(),g=hr(b=>b.setUser),v=async b=>{b.preventDefault(),u(""),d(!0);try{const w=await hD(hl,r,t),C=await QS(w.user.uid),k=await KS(w.user.uid);g({user:w.user,info:C,turnos:k}),p("/dashboard")}catch{u("Credenciales inválidas.")}finally{d(!1)}};return _.jsx("div",{children:h?_.jsx("div",{className:"flex justify-center items-center h-40",children:_.jsx(Ns,{color:"#3498db",loading:!0,size:50})}):_.jsxs(_.Fragment,{children:[_.jsxs("form",{onSubmit:v,className:"max-w-sm mx-auto mt-10 flex flex-col gap-4",children:[s&&_.jsx(cr,{type:"error",message:s,onClose:()=>u(null)}),_.jsx("input",{type:"email",value:r,onChange:b=>e(b.target.value),placeholder:"Email",className:"border p-2 rounded"}),_.jsx("input",{type:"password",value:t,onChange:b=>i(b.target.value),placeholder:"Contraseña",className:"border p-2 rounded"}),_.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"Iniciar sesión"})]}),_.jsx("button",{onClick:()=>p("/register"),className:"bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"Registrate"})]})})}function nV(){const[r,e]=L.useState({nombre:"",apellido:"",telefono:"",email:"",password:""}),[t,i]=L.useState(""),[s,u]=L.useState(!1),h=Fu(),d=g=>{e({...r,[g.target.name]:g.target.value})},p=async g=>{g.preventDefault(),i(""),u(!0);try{const b=(await cD(hl,r.email,r.password)).user.uid;await ep(Yt($e,"users",b),{nombre:r.nombre,apellido:r.apellido,telefono:r.telefono,email:r.email,createdAt:new Date}),await ep(Yt($e,"roles",b),{role:"user"}),h("/dashboard")}catch(v){i("Error al registrar: "+v.message)}finally{u(!1)}};return _.jsxs("form",{onSubmit:p,className:"flex flex-col gap-4 max-w-md mx-auto mt-10",children:[_.jsx("input",{name:"nombre",placeholder:"Nombre",className:"border p-2 rounded",onChange:d}),_.jsx("input",{name:"apellido",placeholder:"Apellido",className:"border p-2 rounded",onChange:d}),_.jsx("input",{name:"telefono",placeholder:"Teléfono",className:"border p-2 rounded",onChange:d}),_.jsx("input",{name:"email",type:"email",placeholder:"Email",className:"border p-2 rounded",onChange:d}),_.jsx("input",{name:"password",type:"password",placeholder:"Contraseña",className:"border p-2 rounded",onChange:d}),_.jsx("button",{type:"submit",className:"bg-indigo-600 text-white py-2 rounded hover:bg-indigo-700",children:"Registrarse"}),t&&_.jsx("p",{className:"text-red-500",children:t}),s&&_.jsx("p",{className:"text-gray-500",children:"Registrando..."})]})}var ef={exports:{}},rV=ef.exports,LT;function XS(){return LT||(LT=1,function(r,e){(function(t,i){r.exports=i()})(rV,function(){var t=1e3,i=6e4,s=36e5,u="millisecond",h="second",d="minute",p="hour",g="day",v="week",b="month",w="quarter",C="year",k="date",V="Invalid Date",j=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,z=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,J={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(he){var ue=["th","st","nd","rd"],P=he%100;return"["+he+(ue[(P-20)%10]||ue[P]||ue[0])+"]"}},ee=function(he,ue,P){var K=String(he);return!K||K.length>=ue?he:""+Array(ue+1-K.length).join(P)+he},ie={s:ee,z:function(he){var ue=-he.utcOffset(),P=Math.abs(ue),K=Math.floor(P/60),Z=P%60;return(ue<=0?"+":"-")+ee(K,2,"0")+":"+ee(Z,2,"0")},m:function he(ue,P){if(ue.date()<P.date())return-he(P,ue);var K=12*(P.year()-ue.year())+(P.month()-ue.month()),Z=ue.clone().add(K,b),fe=P-Z<0,x=ue.clone().add(K+(fe?-1:1),b);return+(-(K+(P-Z)/(fe?Z-x:x-Z))||0)},a:function(he){return he<0?Math.ceil(he)||0:Math.floor(he)},p:function(he){return{M:b,y:C,w:v,d:g,D:k,h:p,m:d,s:h,ms:u,Q:w}[he]||String(he||"").toLowerCase().replace(/s$/,"")},u:function(he){return he===void 0}},te="en",pe={};pe[te]=J;var U="$isDayjsObject",I=function(he){return he instanceof H||!(!he||!he[U])},D=function he(ue,P,K){var Z;if(!ue)return te;if(typeof ue=="string"){var fe=ue.toLowerCase();pe[fe]&&(Z=fe),P&&(pe[fe]=P,Z=fe);var x=ue.split("-");if(!Z&&x.length>1)return he(x[0])}else{var X=ue.name;pe[X]=ue,Z=X}return!K&&Z&&(te=Z),Z||!K&&te},O=function(he,ue){if(I(he))return he.clone();var P=typeof ue=="object"?ue:{};return P.date=he,P.args=arguments,new H(P)},M=ie;M.l=D,M.i=I,M.w=function(he,ue){return O(he,{locale:ue.$L,utc:ue.$u,x:ue.$x,$offset:ue.$offset})};var H=function(){function he(P){this.$L=D(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[U]=!0}var ue=he.prototype;return ue.parse=function(P){this.$d=function(K){var Z=K.date,fe=K.utc;if(Z===null)return new Date(NaN);if(M.u(Z))return new Date;if(Z instanceof Date)return new Date(Z);if(typeof Z=="string"&&!/Z$/i.test(Z)){var x=Z.match(j);if(x){var X=x[2]-1||0,ce=(x[7]||"0").substring(0,3);return fe?new Date(Date.UTC(x[1],X,x[3]||1,x[4]||0,x[5]||0,x[6]||0,ce)):new Date(x[1],X,x[3]||1,x[4]||0,x[5]||0,x[6]||0,ce)}}return new Date(Z)}(P),this.init()},ue.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},ue.$utils=function(){return M},ue.isValid=function(){return this.$d.toString()!==V},ue.isSame=function(P,K){var Z=O(P);return this.startOf(K)<=Z&&Z<=this.endOf(K)},ue.isAfter=function(P,K){return O(P)<this.startOf(K)},ue.isBefore=function(P,K){return this.endOf(K)<O(P)},ue.$g=function(P,K,Z){return M.u(P)?this[K]:this.set(Z,P)},ue.unix=function(){return Math.floor(this.valueOf()/1e3)},ue.valueOf=function(){return this.$d.getTime()},ue.startOf=function(P,K){var Z=this,fe=!!M.u(K)||K,x=M.p(P),X=function(lt,ut){var wt=M.w(Z.$u?Date.UTC(Z.$y,ut,lt):new Date(Z.$y,ut,lt),Z);return fe?wt:wt.endOf(g)},ce=function(lt,ut){return M.w(Z.toDate()[lt].apply(Z.toDate("s"),(fe?[0,0,0,0]:[23,59,59,999]).slice(ut)),Z)},se=this.$W,ge=this.$M,be=this.$D,_e="set"+(this.$u?"UTC":"");switch(x){case C:return fe?X(1,0):X(31,11);case b:return fe?X(1,ge):X(0,ge+1);case v:var Qe=this.$locale().weekStart||0,Ve=(se<Qe?se+7:se)-Qe;return X(fe?be-Ve:be+(6-Ve),ge);case g:case k:return ce(_e+"Hours",0);case p:return ce(_e+"Minutes",1);case d:return ce(_e+"Seconds",2);case h:return ce(_e+"Milliseconds",3);default:return this.clone()}},ue.endOf=function(P){return this.startOf(P,!1)},ue.$set=function(P,K){var Z,fe=M.p(P),x="set"+(this.$u?"UTC":""),X=(Z={},Z[g]=x+"Date",Z[k]=x+"Date",Z[b]=x+"Month",Z[C]=x+"FullYear",Z[p]=x+"Hours",Z[d]=x+"Minutes",Z[h]=x+"Seconds",Z[u]=x+"Milliseconds",Z)[fe],ce=fe===g?this.$D+(K-this.$W):K;if(fe===b||fe===C){var se=this.clone().set(k,1);se.$d[X](ce),se.init(),this.$d=se.set(k,Math.min(this.$D,se.daysInMonth())).$d}else X&&this.$d[X](ce);return this.init(),this},ue.set=function(P,K){return this.clone().$set(P,K)},ue.get=function(P){return this[M.p(P)]()},ue.add=function(P,K){var Z,fe=this;P=Number(P);var x=M.p(K),X=function(ge){var be=O(fe);return M.w(be.date(be.date()+Math.round(ge*P)),fe)};if(x===b)return this.set(b,this.$M+P);if(x===C)return this.set(C,this.$y+P);if(x===g)return X(1);if(x===v)return X(7);var ce=(Z={},Z[d]=i,Z[p]=s,Z[h]=t,Z)[x]||1,se=this.$d.getTime()+P*ce;return M.w(se,this)},ue.subtract=function(P,K){return this.add(-1*P,K)},ue.format=function(P){var K=this,Z=this.$locale();if(!this.isValid())return Z.invalidDate||V;var fe=P||"YYYY-MM-DDTHH:mm:ssZ",x=M.z(this),X=this.$H,ce=this.$m,se=this.$M,ge=Z.weekdays,be=Z.months,_e=Z.meridiem,Qe=function(ut,wt,$t,yn){return ut&&(ut[wt]||ut(K,fe))||$t[wt].slice(0,yn)},Ve=function(ut){return M.s(X%12||12,ut,"0")},lt=_e||function(ut,wt,$t){var yn=ut<12?"AM":"PM";return $t?yn.toLowerCase():yn};return fe.replace(z,function(ut,wt){return wt||function($t){switch($t){case"YY":return String(K.$y).slice(-2);case"YYYY":return M.s(K.$y,4,"0");case"M":return se+1;case"MM":return M.s(se+1,2,"0");case"MMM":return Qe(Z.monthsShort,se,be,3);case"MMMM":return Qe(be,se);case"D":return K.$D;case"DD":return M.s(K.$D,2,"0");case"d":return String(K.$W);case"dd":return Qe(Z.weekdaysMin,K.$W,ge,2);case"ddd":return Qe(Z.weekdaysShort,K.$W,ge,3);case"dddd":return ge[K.$W];case"H":return String(X);case"HH":return M.s(X,2,"0");case"h":return Ve(1);case"hh":return Ve(2);case"a":return lt(X,ce,!0);case"A":return lt(X,ce,!1);case"m":return String(ce);case"mm":return M.s(ce,2,"0");case"s":return String(K.$s);case"ss":return M.s(K.$s,2,"0");case"SSS":return M.s(K.$ms,3,"0");case"Z":return x}return null}(ut)||x.replace(":","")})},ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ue.diff=function(P,K,Z){var fe,x=this,X=M.p(K),ce=O(P),se=(ce.utcOffset()-this.utcOffset())*i,ge=this-ce,be=function(){return M.m(x,ce)};switch(X){case C:fe=be()/12;break;case b:fe=be();break;case w:fe=be()/3;break;case v:fe=(ge-se)/6048e5;break;case g:fe=(ge-se)/864e5;break;case p:fe=ge/s;break;case d:fe=ge/i;break;case h:fe=ge/t;break;default:fe=ge}return Z?fe:M.a(fe)},ue.daysInMonth=function(){return this.endOf(b).$D},ue.$locale=function(){return pe[this.$L]},ue.locale=function(P,K){if(!P)return this.$L;var Z=this.clone(),fe=D(P,K,!0);return fe&&(Z.$L=fe),Z},ue.clone=function(){return M.w(this.$d,this)},ue.toDate=function(){return new Date(this.valueOf())},ue.toJSON=function(){return this.isValid()?this.toISOString():null},ue.toISOString=function(){return this.$d.toISOString()},ue.toString=function(){return this.$d.toUTCString()},he}(),R=H.prototype;return O.prototype=R,[["$ms",u],["$s",h],["$m",d],["$H",p],["$W",g],["$M",b],["$y",C],["$D",k]].forEach(function(he){R[he[1]]=function(ue){return this.$g(ue,he[0],he[1])}}),O.extend=function(he,ue){return he.$i||(he(ue,H,O),he.$i=!0),O},O.locale=D,O.isDayjs=I,O.unix=function(he){return O(1e3*he)},O.en=pe[te],O.Ls=pe,O.p={},O})}(ef)),ef.exports}var iV=XS();const Xr=nb(iV);async function by(r,e){const t=Yt($e,"turnos",r);await Ty(t,{estado:e})}async function aV(r){return by(r,"confirmado")}async function sV(r){return ZS(r),by(r,"rechazado")}async function WS(r){return ZS(r),by(r,"cancelado")}async function oV(){const r=Xr().startOf("day").toDate(),e=wr($n($e,"turnos"),Vn("estado","==","pendiente"),Vn("inicio",">=",r)),i=(await Sr(e)).docs.map(g=>({id:g.id,...g.data()}));if(i.length===0)return[];const s=[...new Set(i.map(g=>g.userId))],u=[...new Set(i.map(g=>g.servicioId))];let h={};if(s.length){const g=wr($n($e,"users"),Vn(Sf(),"in",s));(await Sr(g)).forEach(b=>{h[b.id]=b.data()})}let d={};if(u.length){const g=wr($n($e,"servicios"),Vn(Sf(),"in",u));(await Sr(g)).forEach(b=>{d[b.id]=b.data()})}return i.map(g=>({...g,usuario:h[g.userId]||null,servicio:d[g.servicioId]||null}))}async function lV(r){const e=Xr(r).startOf("day").toDate(),t=Xr(r).endOf("day").toDate(),i=wr($n($e,"turnos"),Vn("inicio",">=",e),Vn("inicio","<=",t)),u=(await Sr(i)).docs.map(V=>({id:V.id,...V.data()}));if(u.length===0)return[];const h=[...new Set(u.map(V=>V.userId))],d=[...new Set(u.map(V=>V.servicioId))],p=wr($n($e,"users"),Vn(Sf(),"in",h)),g=await Sr(p),v={};g.forEach(V=>{v[V.id]=V.data()});const b=wr($n($e,"servicios"),Vn(Sf(),"in",d)),w=await Sr(b),C={};return w.forEach(V=>{C[V.id]=V.data()}),u.map(V=>({...V,usuario:v[V.userId]||null,servicio:C[V.servicioId]||null}))}async function ZS(r){const e=Yt($e,"turnos",r),t=await cl(e);if(!t.exists())return;const{slotIds:i=[]}=t.data(),s=HM($e);for(const u of i){const h=Yt($e,"slots",u);s.update(h,{capacidad:BM(1)})}s.update(e,{slotIds:[]}),await s.commit()}function uV(){const[r,e]=L.useState(null),[t,i]=L.useState(null),s=hr(g=>g.turnos),u=hr(g=>g.setTurnos),[h,d]=L.useState(!1),p=async g=>{try{d(!0),await WS(g),u(s.map(v=>v.id===g?{...v,estado:"cancelado"}:v)),i("El turno fue cancelado correctamente."),e(null)}catch{e("No se pudo cancelar el turno. Intenta de nuevo."),i(null)}finally{d(!1)}};return _.jsx("div",{className:"page-container",children:h?_.jsx("div",{className:"flex justify-center items-center h-40",children:_.jsx(Ns,{color:"#3498db",loading:!0,size:50})}):_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"page-title",children:"📅 Tus próximos turnos"}),r&&_.jsx(cr,{type:"error",message:r}),t&&_.jsx(cr,{type:"success",message:t}),_.jsx("div",{className:"form-section",children:s.length===0?_.jsx("p",{className:"text-gray-500 mt-2",children:"No tenés turnos próximos."}):_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:s.map(g=>_.jsxs("div",{className:"bg-white p-4 rounded shadow border",children:[_.jsx("h3",{className:"font-bold text-lg text-gray-800",children:g.servicio?.nombre}),_.jsxs("p",{className:"text-gray-700",children:[_.jsx("strong",{children:"💲 Precio:"})," $",g.servicio?.precio]}),_.jsxs("p",{className:"text-gray-700",children:[_.jsx("strong",{children:"📅 Fecha:"})," ",new et(g.inicio.seconds,g.inicio.nanoseconds).toDate().toLocaleString("es-AR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),_.jsxs("p",{className:"text-gray-700",children:[_.jsx("strong",{children:"⏳ Duración:"})," ",g.servicio?.duracionMinutos," minutos"]}),_.jsxs("p",{className:"text-gray-700",children:[_.jsx("strong",{children:"📌 Estado:"})," ",g.estado]}),(g.estado==="pendiente"||g.estado==="confirmado")&&_.jsx("button",{onClick:()=>p(g.id),className:"btn-danger mt-3 w-full",children:"❌ Cancelar turno"})]},g.id))})}),_.jsx(Lt,{to:"/turnos",className:"btn-primary w-full sm:w-auto",children:"➕ Sacar nuevo turno"})]})})}async function jT(){try{const r=$n($e,"servicios"),e=wr(r,Vn("activo","==",!0)),t=await Sr(e);return t.empty?(console.warn("No se encontraron servicios activos"),[]):t.docs.map(s=>({id:s.id,...s.data()}))}catch(r){return console.error("Error al obtener servicios:",r),[]}}const JS=YS($S((r,e)=>({servicios:null,isLoading:!1,fetchServicios:async()=>{const{servicios:t}=e();if(t&&t.length>0)return t;r({isLoading:!0});const i=await jT();return r({servicios:i,isLoading:!1}),i},refreshServicios:async()=>{r({isLoading:!0});const t=await jT();return r({servicios:t,isLoading:!1}),t},clearServicios:()=>r({servicios:null})}),{name:"servicios-storage"}));async function cV(r){const e=r.toISOString().slice(0,10);let t=(r.getDay()+6)%7;const i=await cl(Yt($e,"configuracion","admin"));if(!i.exists())throw new Error("Configuración no encontrada");const s=i.data(),u=s.horarios??{};let h=Array.isArray(u)?u[t]??[]:u[String(t)]??[];const d=Number(s.turnosSimultaneos??1),p=Number(s.minutosSlot??15),g=await Sr(wr($n($e,"configuracion","admin","excepciones"),Vn("fecha","==",e)));if(!g.empty){const k=g.docs[0].data();k.tipo==="cerrado"?h=[]:k.tipo==="abierto"&&(Array.isArray(k.franjas)?h=k.franjas.map(V=>({inicio:V.inicio,fin:V.fin})):h=[{inicio:k.inicio,fin:k.fin}])}const v=new Date(`${e}T00:00:00`),b=new Date(`${e}T23:59:59.999`),C=(await Sr(wr($n($e,"slots"),Vn("fechaHoraInicio",">=",v),Vn("fechaHoraInicio","<=",b)))).docs.map(k=>{const V=k.data();return{id:k.id,fechaHoraInicio:V.fechaHoraInicio.toDate?V.fechaHoraInicio.toDate():new Date(V.fechaHoraInicio),fechaHoraFin:V.fechaHoraFin.toDate?V.fechaHoraFin.toDate():new Date(V.fechaHoraFin),capacidad:typeof V.capacidad=="number"?V.capacidad:d}});return{horarioAtencion:h,turnosSimultaneos:d,slotsRegistrados:C,minutosSlot:p}}function hV(r,e,t,i,s,u){const h=[],d=new Date,p=r.getFullYear()===d.getFullYear()&&r.getMonth()===d.getMonth()&&r.getDate()===d.getDate();return e.forEach(({inicio:g,fin:v})=>{const b=new Date(`${r.toISOString().slice(0,10)}T${g}`),w=new Date(`${r.toISOString().slice(0,10)}T${v}`);for(let C=new Date(b);C<w;C.setMinutes(C.getMinutes()+t)){if(p&&C<=d)continue;const k=new Date(C.getTime()+u*6e4);if(k>w)continue;let V=!1;for(let z=new Date(C);z<k;z.setMinutes(z.getMinutes()+t)){const J=i.find(ee=>ee.fechaHoraInicio.getTime()===z.getTime());if(J&&J.capacidad===0){V=!0;break}}if(V)continue;const j=i.find(z=>z.fechaHoraInicio.getTime()===C.getTime());(!j||j.capacidad>0)&&h.push({id:j?.id??`gen-${C.getTime()}`,fechaHoraInicio:new Date(C),fechaHoraFin:k,capacidad:j?.capacidad??s,disponible:(j?.capacidad??s)>0})}}),h}function fV(r){const e=r.getFullYear(),t=String(r.getMonth()+1).padStart(2,"0"),i=String(r.getDate()).padStart(2,"0"),s=String(r.getHours()).padStart(2,"0"),u=String(r.getMinutes()).padStart(2,"0");return`${e}-${t}-${i}T${s}:${u}`}async function dV({slotInicio:r,duracionMinutos:e,userUid:t,servicioUid:i}){const s=await cl(Yt($e,"configuracion","admin")),u=s.data().minutosSlot,h=s.data().turnosSimultaneos,d=Math.max(1,Math.ceil(e/u)),p=Array.from({length:d},(k,V)=>new Date(r.getTime()+V*u*6e4)),g=p.map(fV),v=g.map(k=>Yt($e,"slots",k)),b=new Date(r.getTime()+e*6e4),w=crypto.randomUUID(),C=Yt($e,"turnos",w);return await zM($e,async k=>{const V=[];for(let j=0;j<v.length;j++){const z=v[j],J=p[j],ee=await k.get(z);V.push({ref:z,inicio:J,snap:ee})}for(let j=0;j<V.length;j++){const{ref:z,inicio:J,snap:ee}=V[j];let ie;if(!ee.exists())ie=h,k.set(z,{fechaHoraInicio:et.fromDate(J),fechaHoraFin:et.fromDate(new Date(J.getTime()+u*6e4)),capacidad:ie-1,creadoEn:Uh(),actualizadoEn:Uh()});else{const te=ee.data();if(ie=typeof te.capacidad=="number"?te.capacidad:h,ie<=0)throw new Error("Sin disponibilidad en uno de los tramos.");k.update(z,{capacidad:ie-1,actualizadoEn:Uh()})}}k.set(C,{userId:t,servicioId:i,inicio:et.fromDate(r),fin:et.fromDate(b),duracionMinutos:e,slotIds:g,estado:"confirmado",fechaCreacion:Uh()})}),{turnoId:w,slotIds:g}}function mV({servicios:r,loading:e,onSelect:t}){return _.jsxs("section",{children:[_.jsx("h2",{className:"text-2xl font-semibold mb-4 text-indigo-600",children:"1️⃣ Elegí un servicio"}),e?_.jsx("p",{className:"text-gray-500",children:"Cargando servicios..."}):r.length===0?_.jsx("p",{className:"text-gray-500",children:"No hay servicios disponibles."}):_.jsx("ul",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3",children:r.map(i=>_.jsxs("li",{className:"border bg-indigo-50 rounded-lg p-5 shadow-sm hover:shadow-lg hover:border-indigo-400 transition-all duration-200 flex flex-col bg-white group",children:[_.jsx("div",{className:"flex items-center gap-2 mb-2",children:_.jsx("h3",{className:"text-lg font-bold text-gray-800",children:i.nombre})}),_.jsxs("p",{className:"text-sm text-gray-600",children:[_.jsx("strong",{children:"Duración:"})," ",i.duracionMinutos," min"]}),typeof i.precio=="number"&&_.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[_.jsx("strong",{children:"Precio:"})," $ $",i.precio]}),_.jsx("button",{className:"mt-auto bg-indigo-600 text-white px-3 py-2 rounded-lg hover:bg-indigo-700 w-full transition-colors",onClick:()=>t(i),children:"Elegir"})]},i.id))})]})}function gV({servicio:r,fechaStr:e,todayStr:t,onFechaChange:i,slots:s,loading:u,horaSel:h,onHoraChange:d,onBack:p,onContinuar:g}){return _.jsxs("section",{className:"rounded-lg border p-6 bg-white mt-6 shadow-sm",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsx("button",{className:"text-indigo-500 hover:text-indigo-700 flex items-center gap-1",onClick:p,children:"← Cambiar servicio"}),_.jsxs("div",{className:"bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium",children:["💆 ",r.nombre," · ⏳ ",r.duracionMinutos," min"]})]}),_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📅 Seleccioná la fecha"}),_.jsx("input",{type:"date",className:"border rounded px-3 py-2 mb-6 w-full focus:outline-none focus:ring-2 focus:ring-indigo-500",value:e,min:t,onChange:i}),u?_.jsx("p",{className:"text-gray-500",children:"Cargando horarios..."}):s.length===0?_.jsx("p",{className:"text-gray-500",children:"No hay horarios disponibles para esta fecha. Probá con otro día."}):_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"⏰ Elegí un horario:"}),_.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3",children:s.map(v=>{const b=v.fechaHoraInicio.toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit",hour12:!1}),w=h===b;return _.jsx("button",{type:"button",disabled:!v.disponible,className:`px-3 py-2 rounded-full text-sm border transition-all duration-200
                    ${v.disponible?w?"bg-indigo-600 text-white border-indigo-600":"bg-white hover:bg-indigo-50 border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"}
                  `,"aria-pressed":w,onClick:()=>d(b),children:b},v.id+b)})}),_.jsx("div",{className:"mt-8 flex justify-end",children:_.jsx("button",{className:`px-5 py-2 rounded-lg font-medium transition-colors duration-200 ${h?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,disabled:!h,onClick:g,children:"Continuar →"})})]})]})}function pV({servicio:r,fecha:e,horaSel:t,confirming:i,onBack:s,onConfirm:u}){return _.jsxs("section",{className:"rounded-lg border p-6 bg-white mt-6 shadow-sm",children:[_.jsx("button",{className:"text-indigo-500 hover:text-indigo-700 flex items-center gap-1 mb-6",onClick:s,children:"← Cambiar fecha u horario"}),_.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"📋 Revisá y confirmá"}),_.jsxs("ul",{className:"text-gray-700 mb-8 space-y-2 bg-indigo-50 rounded-lg p-4",children:[_.jsxs("li",{children:[_.jsx("span",{className:"font-medium",children:"💆 Servicio:"})," ",r.nombre]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium",children:"⏳ Duración:"})," ",r.duracionMinutos," min"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium",children:"📅 Fecha:"})," ",e.toLocaleDateString("es-AR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium",children:"⏰ Horario:"})," ",t," hs"]}),typeof r.precio=="number"&&_.jsxs("li",{children:[_.jsx("span",{className:"font-medium",children:"💲 Precio:"})," $",r.precio]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-end",children:[_.jsx("button",{disabled:i,className:`px-5 py-2 rounded-lg font-medium transition-colors duration-200 ${i?"bg-gray-300 text-gray-600 cursor-wait":"bg-green-600 text-white hover:bg-green-700"}`,onClick:u,children:i?"Confirmando...":"Confirmar turno"}),_.jsx("button",{className:"px-5 py-2 rounded-lg border hover:bg-gray-50 font-medium",onClick:s,children:"Volver"})]})]})}function yV(){const[r,e]=L.useState([]),t=JS(R=>R.fetchServicios),[i,s]=L.useState(!0),[u,h]=L.useState(""),[d,p]=L.useState(""),[g,v]=L.useState(1),[b,w]=L.useState(null),[C,k]=L.useState(()=>{const R=new Date;return new Date(R.getFullYear(),R.getMonth(),R.getDate())}),[V,j]=L.useState([]),[z,J]=L.useState(!1),[ee,ie]=L.useState(""),[te,pe]=L.useState(!1),U=hr(R=>R.user),I=R=>{const he=R.getFullYear(),ue=String(R.getMonth()+1).padStart(2,"0"),P=String(R.getDate()).padStart(2,"0");return`${he}-${ue}-${P}`},D=I(new Date),O=I(C);function M(R,he){const[ue,P]=he.split(":").map(Number),K=new Date(R);return K.setHours(ue,P,0,0),K}L.useEffect(()=>{let R=!0;return(async()=>{try{s(!0);const he=await t();R&&e(he)}catch{R&&h("No pudimos cargar los servicios.")}finally{R&&s(!1)}})(),()=>{R=!1}},[]),L.useEffect(()=>{if(!b)return;let R=!0;return(async()=>{try{J(!0);const{horarioAtencion:he,turnosSimultaneos:ue,slotsRegistrados:P,minutosSlot:K}=await cV(C),Z=hV(C,he,K,P,ue,b.duracionMinutos);R&&j(Z)}catch(he){console.error(he),R&&h("No pudimos cargar los horarios."),R&&j([])}finally{R&&J(!1)}})(),()=>{R=!1}},[b,C]);const H=async()=>{if(!U?.uid){h("Tenés que iniciar sesión para reservar.");return}if(!(!b||!ee)){pe(!0),h(""),p("");try{const R=M(C,ee),{turnoId:he}=await dV({slotInicio:R,duracionMinutos:b.duracionMinutos,userUid:U.uid,servicioUid:b.id});p(`Turno confirmado (${he}) para ${ee} de ${b.nombre}`),v(1),w(null),ie("")}catch(R){console.error(R),h(R.message==="Sin disponibilidad en uno de los tramos."?"Ese horario se reservó recién. Elegí otro.":"No pudimos confirmar el turno. Probá de nuevo.")}finally{pe(!1)}}};return _.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[_.jsx("h1",{className:"page-title",children:"Sacar turno"}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Elegí un servicio, seleccioná fecha y horario, y confirmá tu reserva."}),_.jsx("div",{className:"flex items-center mb-8",children:[1,2,3].map(R=>_.jsxs("div",{className:"flex items-center",children:[_.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${g>=R?"bg-indigo-600 text-white":"bg-gray-300 text-gray-600"}`,children:R}),R<3&&_.jsx("div",{className:`h-1 w-14 ${g>R?"bg-indigo-600":"bg-gray-300"}`})]},R))}),u&&_.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded border border-red-200 bg-red-50 px-4 py-3 text-red-700",children:["❌ ",u]}),d&&_.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded border border-green-200 bg-green-50 px-4 py-3 text-green-700",children:["✅ ",d]}),g===1&&_.jsx("div",{className:"bg-white p-6 rounded shadow",children:_.jsx(mV,{servicios:r,loading:i,onSelect:R=>{w(R),ie(""),v(2)}})}),g===2&&b&&_.jsx("div",{className:"bg-white p-6 rounded shadow",children:_.jsx(gV,{servicio:b,fechaStr:O,todayStr:D,onFechaChange:R=>{const[he,ue,P]=R.target.value.split("-").map(Number);k(new Date(he,ue-1,P)),ie("")},slots:V,loading:z,horaSel:ee,onHoraChange:ie,onBack:()=>{w(null),ie(""),v(1)},onContinuar:()=>v(3)})}),g===3&&b&&ee&&_.jsx("div",{className:"bg-white p-6 rounded shadow",children:_.jsx(pV,{servicio:b,fecha:C,horaSel:ee,confirming:te,onBack:()=>v(2),onConfirm:H})})]})}function vV(r){const e={};for(let t=0;t<7;t++){const i=Array.isArray(r?.[t])?r[t]:[];e[String(t)]=i}return e}function _V(r){const e=[];if(Array.isArray(r))for(let t=0;t<7;t++)e[t]=Array.isArray(r[t])?r[t]:[];else for(let t=0;t<7;t++){const i=String(t);e[t]=Array.isArray(r?.[i])?r[i]:[]}return e}function EV(r,e,t,i){const s=Yt($e,"configuracion",r);return qS(s,u=>{if(u.exists()){const h=u.data();t({turnosSimultaneos:Number(h.turnosSimultaneos??1),minutosSlot:Number(h.minutosSlot??15),horarios:h.horarios?_V(h.horarios):e})}else t(null)},u=>i(u))}function TV(r,e,t,i){return ep(Yt($e,"configuracion",r),{turnosSimultaneos:Number(e),minutosSlot:Number(t),horarios:vV(i)},{merge:!0})}function bV(r,e,t){const i=Xr().format("YYYY-MM-DD"),s=$n($e,"configuracion",r,"excepciones"),u=wr(s,Vn("fecha",">=",i));return qS(u,h=>{const d=[];h.forEach(p=>d.push({id:p.id,...p.data()})),e(d)},h=>t(h))}function wV(r,e){return HS($n($e,"configuracion",r,"excepciones"),e)}function SV(r,e){return BS(Yt($e,"configuracion",r,"excepciones",e))}function AV(r,e){const t=L.useMemo(()=>Array.from({length:7},()=>[{inicio:"09:00",fin:"18:00"}]),[]),[i,s]=L.useState(1),[u,h]=L.useState(15),[d,p]=L.useState(t),[g,v]=L.useState([]),[b,w]=L.useState(!0),[C,k]=L.useState("");return L.useEffect(()=>{if(!e||!r)return;const V=EV(r,t,z=>{z&&(s(z.turnosSimultaneos??1),h(z.minutosSlot??15),p(z.horarios??t)),w(!1)},z=>{k(z.message),w(!1)}),j=bV(r,z=>v(z),z=>k(z.message));return()=>{V(),j()}},[r,e,t]),{turnosSimultaneos:i,setTurnosSimultaneos:s,minutosSlot:u,setMinutosSlot:h,horarios:d,setHorarios:p,excepciones:g,loading:b,error:C,defaultHorarios:t,saveConfig:()=>TV(r,i,u,d),addExcepcion:V=>wV(r,V),removeExcepcion:V=>SV(r,V)}}function RV({value:r,onChange:e}){return _.jsxs(_.Fragment,{children:[_.jsx("label",{className:"form-label",htmlFor:"turnosSimultaneos",children:"Turnos simultáneos"}),_.jsx("input",{id:"turnosSimultaneos",type:"number",min:"1",value:r,onChange:t=>e(Number(t.target.value)),className:"form-control w-32"})]})}function IV({dia:r,franjas:e,onAdd:t,onUpdate:i,onDelete:s}){return _.jsxs("div",{className:"mb-4",children:[_.jsxs("div",{className:"flex items-center mb-2",children:[_.jsx("strong",{className:"text-lg mr-2 whitespace-nowrap",children:r}),_.jsx("div",{className:"flex-grow h-px bg-gray-300"})]}),_.jsx("div",{className:"space-y-2",children:e.map((u,h)=>_.jsxs("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-2 items-center",children:[_.jsx("input",{type:"time",value:u.inicio,onChange:d=>i(h,"inicio",d.target.value),className:"border px-2 py-1 rounded"}),_.jsx("input",{type:"time",value:u.fin,onChange:d=>i(h,"fin",d.target.value),className:"border px-2 py-1 rounded"}),_.jsx("button",{onClick:()=>s(h),className:"text-red-500 hover:text-red-700 text-lg",title:"Eliminar franja",children:"🗑"})]},h))}),_.jsx("div",{className:"mt-2 flex justify-end",children:_.jsx("button",{onClick:t,className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"+ Franja"})})]})}function xV({diasSemana:r,horarios:e,onAgregar:t,onActualizar:i,onEliminar:s}){return _.jsxs(_.Fragment,{children:[_.jsx("label",{className:"form-label",children:"Horarios semanales"}),r.map((u,h)=>_.jsx(IV,{dia:u,franjas:e[h]||[],onAdd:()=>t(h),onUpdate:(d,p,g)=>i(h,d,p,g),onDelete:d=>s(h,d)},u))]})}function CV({nuevaExcepcion:r,setNuevaExcepcion:e,onAdd:t}){const i=()=>{e({...r,franjas:[...r.franjas||[],{inicio:"",fin:""}]})},s=h=>{const d=r.franjas.filter((p,g)=>g!==h);e({...r,franjas:d})},u=(h,d,p)=>{const g=r.franjas.map((v,b)=>b===h?{...v,[d]:p}:v);e({...r,franjas:g})};return _.jsxs("div",{className:"form-section",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end mb-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"form-label",htmlFor:"fecha",children:"Fecha"}),_.jsx("input",{id:"fecha",type:"date",value:r.fecha,min:new Date().toISOString().split("T")[0],onChange:h=>e({...r,fecha:h.target.value}),className:"form-control"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"form-label",htmlFor:"tipo",children:"Tipo"}),_.jsxs("select",{id:"tipo",value:r.tipo,onChange:h=>e({...r,tipo:h.target.value,franjas:h.target.value==="abierto"?r.franjas||[]:[]}),className:"form-control",children:[_.jsx("option",{value:"cerrado",children:"Cerrado"}),_.jsx("option",{value:"abierto",children:"Abierto especial"})]})]}),_.jsx("div",{className:"flex justify-start md:justify-end items-end h-full",children:_.jsx("button",{onClick:t,className:"btn-primary",children:"Agregar excepción"})})]}),r.tipo==="abierto"&&_.jsxs("div",{className:"space-y-3",children:[(r.franjas||[]).map((h,d)=>_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 items-center",children:[_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Inicio"}),_.jsx("input",{type:"time",value:h.inicio,onChange:p=>u(d,"inicio",p.target.value),className:"form-control"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"form-label",children:"Fin"}),_.jsx("input",{type:"time",value:h.fin,onChange:p=>u(d,"fin",p.target.value),className:"form-control"})]}),_.jsx("div",{className:"text-right md:text-left",children:_.jsx("button",{onClick:()=>s(d),className:"btn-danger w-full md:w-auto",children:"Eliminar"})})]},d)),_.jsx("button",{onClick:i,className:"btn-secondary",children:"+ Agregar franja"})]})]})}function DV({excepciones:r,onDelete:e}){return!r||r.length===0?_.jsx("p",{className:"text-sm text-gray-500",children:"No hay excepciones registradas."}):_.jsx("div",{className:"table mt-4",children:_.jsxs("table",{className:"w-full",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Fecha"}),_.jsx("th",{children:"Tipo"}),_.jsx("th",{children:"Franjas"}),_.jsx("th",{children:"Acciones"})]})}),_.jsx("tbody",{children:r.map(t=>_.jsxs("tr",{children:[_.jsx("td",{children:t.fecha}),_.jsx("td",{className:"capitalize",children:t.tipo}),_.jsx("td",{children:t.tipo==="abierto"&&(t.franjas||[]).length>0?t.franjas.map((i,s)=>_.jsxs("span",{children:[i.inicio," a ",i.fin,s<t.franjas.length-1&&" | "]},s)):_.jsx("span",{className:"text-gray-400",children:"—"})}),_.jsx("td",{children:_.jsx("button",{onClick:()=>e(t.id),className:"btn-danger",title:"Eliminar excepción",children:"🗑"})})]},t.id))})]})})}const NV=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"];function OV(){const{info:r,isAuthReady:e}=hr(),t=r?.rolId,[i,s]=L.useState(null),[u,h]=L.useState(null),[d,p]=L.useState(!1),{turnosSimultaneos:g,setTurnosSimultaneos:v,minutosSlot:b,setMinutosSlot:w,horarios:C,setHorarios:k,excepciones:V,loading:j,errorConfig:z,saveConfig:J,addExcepcion:ee,removeExcepcion:ie}=AV(t,e),[te,pe]=L.useState({fecha:"",tipo:"cerrado",franjas:[]}),U=async()=>{try{if(te.tipo==="abierto"&&(!te.franjas||te.franjas.length===0)){alert("Agregá al menos una franja");return}p(!0),ee(te).then(()=>pe({fecha:"",tipo:"cerrado",franjas:[]}),h("Excepción agregada"))}catch{s("No se pudo añadir la excepción"),h(null)}finally{p(!1)}},I=async R=>{try{p(!0),ie(R),h("Excepción eliminada"),s(null)}catch{s("No se pudo eliminar la excepción"),h(null)}finally{p(!1)}},D=async()=>{try{p(!0),await J(),h("Configuración guardada correctamente"),s(null)}catch{s("No se pudo guardar la configuración"),h(null)}finally{p(!1)}},O=R=>{const he=[...C];he[R]=[...he[R]||[],{inicio:"09:00",fin:"18:00"}],k(he)},M=(R,he,ue,P)=>{const K=[...C];K[R]=K[R].map((Z,fe)=>fe===he?{...Z,[ue]:P}:Z),k(K)},H=(R,he)=>{const ue=[...C];ue[R]=ue[R].filter((P,K)=>K!==he),k(ue)};return _.jsx("div",{className:"page-container",children:j||d?_.jsx("div",{className:"flex justify-center items-center h-40",children:_.jsx(Ns,{color:"#3498db",loading:!0,size:50})}):_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"page-title",children:"Configuración"}),_.jsxs("div",{className:"space-y-4 mb-6",children:[i&&_.jsx(cr,{type:"error",message:i,onClose:()=>s(null)}),z&&_.jsx(cr,{type:"error",message:z,onClose:()=>s(null)}),u&&_.jsx(cr,{type:"success",message:u,onClose:()=>h(null)})]}),_.jsxs("div",{className:"form-section",children:[_.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:gap-6",children:[_.jsx("div",{className:"md:w-1/2",children:_.jsx(RV,{value:g,onChange:v})}),_.jsxs("div",{className:"md:w-1/2 mt-4 md:mt-0",children:[_.jsx("label",{className:"form-label",children:"Minutos por bloque"}),_.jsx("input",{type:"number",min:"5",step:"5",value:b??15,onChange:R=>w(Number(R.target.value)),className:"form-control w-32"})]})]}),_.jsx("div",{className:"mt-6",children:_.jsx(xV,{diasSemana:NV,horarios:C,onAgregar:O,onActualizar:M,onEliminar:H})})]}),_.jsxs("div",{className:"form-section",children:[_.jsx("label",{className:"form-label",children:"Excepciones"}),_.jsx(CV,{nuevaExcepcion:te,setNuevaExcepcion:pe,onAdd:U}),_.jsx(DV,{excepciones:V,onDelete:I})]}),_.jsx("div",{className:"text-right",children:_.jsx("button",{onClick:D,className:"btn-primary",children:"Guardar Configuración"})})]})})}var tf={exports:{}},MV=tf.exports,UT;function VV(){return UT||(UT=1,function(r,e){(function(t,i){r.exports=i(XS())})(MV,function(t){function i(h){return h&&typeof h=="object"&&"default"in h?h:{default:h}}var s=i(t),u={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(h){return h+"º"}};return s.default.locale(u,null,!0),u})}(tf)),tf.exports}VV();function eA(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(e=0;e<s;e++)r[e]&&(t=eA(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function Jf(){for(var r,e,t=0,i="",s=arguments.length;t<s;t++)(r=arguments[t])&&(e=eA(r))&&(i&&(i+=" "),i+=e);return i}const PV=(r,e,t,i)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;const s=Object.getOwnPropertyDescriptor(r,t),u=Object.getOwnPropertyDescriptor(e,t);!kV(s,u)&&i||Object.defineProperty(r,t,u)},kV=function(r,e){return r===void 0||r.configurable||r.writable===e.writable&&r.enumerable===e.enumerable&&r.configurable===e.configurable&&(r.writable||r.value===e.value)},LV=(r,e)=>{const t=Object.getPrototypeOf(e);t!==Object.getPrototypeOf(r)&&Object.setPrototypeOf(r,t)},jV=(r,e)=>`/* Wrapped ${r}*/
${e}`,UV=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),zV=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),BV=(r,e,t)=>{const i=t===""?"":`with ${t.trim()}() `,s=jV.bind(null,i,e.toString());Object.defineProperty(s,"name",zV);const{writable:u,enumerable:h,configurable:d}=UV;Object.defineProperty(r,"toString",{value:s,writable:u,enumerable:h,configurable:d})};function HV(r,e,{ignoreNonConfigurable:t=!1}={}){const{name:i}=r;for(const s of Reflect.ownKeys(e))PV(r,e,s,t);return LV(r,e),BV(r,e,i),r}const qV=new WeakMap,zT=new WeakMap;function tA(r,{cacheKey:e,cache:t=new Map,maxAge:i}={}){if(i===0)return r;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const s=function(...u){const h=e?e(u):u[0],d=t.get(h);if(d)return d.data;const p=r.apply(this,u),g=typeof i=="function"?i(...u):i;if(t.set(h,{data:p,maxAge:g?Date.now()+g:Number.POSITIVE_INFINITY}),g&&g>0&&g!==Number.POSITIVE_INFINITY){const v=setTimeout(()=>{t.delete(h)},g);v.unref?.();const b=zT.get(r)??new Set;b.add(v),zT.set(r,b)}return p};return HV(s,r,{ignoreNonConfigurable:!0}),qV.set(s,t),s}function FV(r){return typeof r=="string"}function GV(r,e,t){return t.indexOf(r)===e}function YV(r){return r.toLowerCase()===r}function BT(r){return r.indexOf(",")===-1?r:r.split(",")}function np(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var e=r.split(".")[0],t=e===void 0?"":e;return np(t)}if(r.indexOf("@")!==-1){var i=r.split("@")[0],t=i===void 0?"":i;return np(t)}if(r.indexOf("-")===-1||!YV(r))return r;var s=r.split("-"),u=s[0],h=s[1],d=h===void 0?"":h;return"".concat(u,"-").concat(d.toUpperCase())}function $V(r){var e=r===void 0?{}:r,t=e.useFallbackLocale,i=t===void 0?!0:t,s=e.fallbackLocale,u=s===void 0?"en-US":s,h=[];if(typeof navigator<"u"){for(var d=navigator.languages||[],p=[],g=0,v=d;g<v.length;g++){var b=v[g];p=p.concat(BT(b))}var w=navigator.language,C=w&&BT(w);h=h.concat(p,C)}return i&&h.push(u),h.filter(FV).map(np).filter(GV)}var QV=tA($V,{cacheKey:JSON.stringify});function KV(r){return QV(r)[0]||null}var nA=tA(KV,{cacheKey:JSON.stringify});function Hi(r,e,t){return function(s,u=t){const h=r(s)+u;return e(h)}}function uc(r){return function(t){return new Date(r(t).getTime()-1)}}function cc(r,e){return function(i){return[r(i),e(i)]}}function _t(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;const e=Number.parseInt(r,10);if(typeof r=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${r}.`)}function Ba(r){if(r instanceof Date)return r.getMonth();throw new Error(`Failed to get month from date: ${r}.`)}function ed(r){if(r instanceof Date)return r.getDate();throw new Error(`Failed to get year from date: ${r}.`)}function fl(r){const e=_t(r),t=e+(-e+1)%100,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const XV=Hi(_t,fl,-100),rA=Hi(_t,fl,100),wy=uc(rA),WV=Hi(_t,wy,-100),iA=cc(fl,wy);function Ha(r){const e=_t(r),t=e+(-e+1)%10,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const aA=Hi(_t,Ha,-10),Sy=Hi(_t,Ha,10),td=uc(Sy),sA=Hi(_t,td,-10),oA=cc(Ha,td);function dl(r){const e=_t(r),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const lA=Hi(_t,dl,-1),Ay=Hi(_t,dl,1),nd=uc(Ay),uA=Hi(_t,nd,-1),ZV=cc(dl,nd);function Ry(r,e){return function(i,s=e){const u=_t(i),h=Ba(i)+s,d=new Date;return d.setFullYear(u,h,1),d.setHours(0,0,0,0),r(d)}}function Ls(r){const e=_t(r),t=Ba(r),i=new Date;return i.setFullYear(e,t,1),i.setHours(0,0,0,0),i}const cA=Ry(Ls,-1),Iy=Ry(Ls,1),hc=uc(Iy),hA=Ry(hc,-1),JV=cc(Ls,hc);function eP(r,e){return function(i,s=e){const u=_t(i),h=Ba(i),d=ed(i)+s,p=new Date;return p.setFullYear(u,h,d),p.setHours(0,0,0,0),r(p)}}function fc(r){const e=_t(r),t=Ba(r),i=ed(r),s=new Date;return s.setFullYear(e,t,i),s.setHours(0,0,0,0),s}const tP=eP(fc,1),xy=uc(tP),nP=cc(fc,xy);function fA(r){return ed(hc(r))}var gn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},rP={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Cy=[0,1,2,3,4,5,6],Tg=new Map;function iP(r){return function(t,i){var s=t||nA();Tg.has(s)||Tg.set(s,new Map);var u=Tg.get(s);return u.has(r)||u.set(r,new Intl.DateTimeFormat(s||void 0,r).format),u.get(r)(i)}}function aP(r){var e=new Date(r);return new Date(e.setHours(12))}function js(r){return function(e,t){return iP(r)(e,aP(t))}}var sP={day:"numeric"},oP={day:"numeric",month:"long",year:"numeric"},lP={month:"long"},uP={month:"long",year:"numeric"},cP={weekday:"short"},hP={weekday:"long"},fP={year:"numeric"},dP=js(sP),mP=js(oP),gP=js(lP),dA=js(uP),pP=js(cP),yP=js(hP),rd=js(fP),vP=Cy[0],_P=Cy[5],HT=Cy[6];function Bu(r,e){e===void 0&&(e=gn.ISO_8601);var t=r.getDay();switch(e){case gn.ISO_8601:return(t+6)%7;case gn.ISLAMIC:return(t+1)%7;case gn.HEBREW:case gn.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function EP(r){var e=fl(r);return _t(e)}function TP(r){var e=Ha(r);return _t(e)}function rp(r,e){e===void 0&&(e=gn.ISO_8601);var t=_t(r),i=Ba(r),s=r.getDate()-Bu(r,e);return new Date(t,i,s)}function bP(r,e){e===void 0&&(e=gn.ISO_8601);var t=e===gn.GREGORY?gn.GREGORY:gn.ISO_8601,i=rp(r,e),s=_t(r)+1,u,h;do u=new Date(s,0,t===gn.ISO_8601?4:1),h=rp(u,e),s-=1;while(r<h);return Math.round((i.getTime()-h.getTime())/(864e5*7))+1}function Ss(r,e){switch(r){case"century":return fl(e);case"decade":return Ha(e);case"year":return dl(e);case"month":return Ls(e);case"day":return fc(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function wP(r,e){switch(r){case"century":return XV(e);case"decade":return aA(e);case"year":return lA(e);case"month":return cA(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function mA(r,e){switch(r){case"century":return rA(e);case"decade":return Sy(e);case"year":return Ay(e);case"month":return Iy(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function SP(r,e){switch(r){case"decade":return aA(e,-100);case"year":return lA(e,-10);case"month":return cA(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function AP(r,e){switch(r){case"decade":return Sy(e,100);case"year":return Ay(e,10);case"month":return Iy(e,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function gA(r,e){switch(r){case"century":return wy(e);case"decade":return td(e);case"year":return nd(e);case"month":return hc(e);case"day":return xy(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function RP(r,e){switch(r){case"century":return WV(e);case"decade":return sA(e);case"year":return uA(e);case"month":return hA(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function IP(r,e){switch(r){case"decade":return sA(e,-100);case"year":return uA(e,-10);case"month":return hA(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function qT(r,e){switch(r){case"century":return iA(e);case"decade":return oA(e);case"year":return ZV(e);case"month":return JV(e);case"day":return nP(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function xP(r,e,t){var i=[e,t].sort(function(s,u){return s.getTime()-u.getTime()});return[Ss(r,i[0]),gA(r,i[1])]}function pA(r,e,t){return t.map(function(i){return(e||rd)(r,i)}).join(" – ")}function CP(r,e,t){return pA(r,e,iA(t))}function yA(r,e,t){return pA(r,e,oA(t))}function DP(r){return r.getDay()===new Date().getDay()}function vA(r,e){e===void 0&&(e=gn.ISO_8601);var t=r.getDay();switch(e){case gn.ISLAMIC:case gn.HEBREW:return t===_P||t===HT;case gn.ISO_8601:case gn.GREGORY:return t===HT||t===vP;default:throw new Error("Unsupported calendar type.")}}var $r="react-calendar__navigation";function NP(r){var e=r.activeStartDate,t=r.drillUp,i=r.formatMonthYear,s=i===void 0?dA:i,u=r.formatYear,h=u===void 0?rd:u,d=r.locale,p=r.maxDate,g=r.minDate,v=r.navigationAriaLabel,b=v===void 0?"":v,w=r.navigationAriaLive,C=r.navigationLabel,k=r.next2AriaLabel,V=k===void 0?"":k,j=r.next2Label,z=j===void 0?"»":j,J=r.nextAriaLabel,ee=J===void 0?"":J,ie=r.nextLabel,te=ie===void 0?"›":ie,pe=r.prev2AriaLabel,U=pe===void 0?"":pe,I=r.prev2Label,D=I===void 0?"«":I,O=r.prevAriaLabel,M=O===void 0?"":O,H=r.prevLabel,R=H===void 0?"‹":H,he=r.setActiveStartDate,ue=r.showDoubleView,P=r.view,K=r.views,Z=K.indexOf(P)>0,fe=P!=="century",x=wP(P,e),X=fe?SP(P,e):void 0,ce=mA(P,e),se=fe?AP(P,e):void 0,ge=function(){if(x.getFullYear()<0)return!0;var ct=RP(P,e);return g&&g>=ct}(),be=fe&&function(){if(X.getFullYear()<0)return!0;var ct=IP(P,e);return g&&g>=ct}(),_e=p&&p<ce,Qe=fe&&p&&p<se;function Ve(){he(x,"prev")}function lt(){he(X,"prev2")}function ut(){he(ce,"next")}function wt(){he(se,"next2")}function $t(ct){var fr=function(){switch(P){case"century":return CP(d,h,ct);case"decade":return yA(d,h,ct);case"year":return h(d,ct);case"month":return s(d,ct);default:throw new Error("Invalid view: ".concat(P,"."))}}();return C?C({date:ct,label:fr,locale:d||nA()||void 0,view:P}):fr}function yn(){var ct="".concat($r,"__label");return _.jsxs("button",{"aria-label":b,"aria-live":w,className:ct,disabled:!Z,onClick:t,style:{flexGrow:1},type:"button",children:[_.jsx("span",{className:"".concat(ct,"__labelText ").concat(ct,"__labelText--from"),children:$t(e)}),ue?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"".concat(ct,"__divider"),children:" – "}),_.jsx("span",{className:"".concat(ct,"__labelText ").concat(ct,"__labelText--to"),children:$t(ce)})]}):null]})}return _.jsxs("div",{className:$r,children:[D!==null&&fe?_.jsx("button",{"aria-label":U,className:"".concat($r,"__arrow ").concat($r,"__prev2-button"),disabled:be,onClick:lt,type:"button",children:D}):null,R!==null&&_.jsx("button",{"aria-label":M,className:"".concat($r,"__arrow ").concat($r,"__prev-button"),disabled:ge,onClick:Ve,type:"button",children:R}),yn(),te!==null&&_.jsx("button",{"aria-label":ee,className:"".concat($r,"__arrow ").concat($r,"__next-button"),disabled:_e,onClick:ut,type:"button",children:te}),z!==null&&fe?_.jsx("button",{"aria-label":V,className:"".concat($r,"__arrow ").concat($r,"__next2-button"),disabled:Qe,onClick:wt,type:"button",children:z}):null]})}var Uo=function(){return Uo=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},Uo.apply(this,arguments)},OP=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function FT(r){return"".concat(r,"%")}function Dy(r){var e=r.children,t=r.className,i=r.count,s=r.direction,u=r.offset,h=r.style,d=r.wrap,p=OP(r,["children","className","count","direction","offset","style","wrap"]);return _.jsx("div",Uo({className:t,style:Uo({display:"flex",flexDirection:s,flexWrap:d?"wrap":"nowrap"},h)},p,{children:L.Children.map(e,function(g,v){var b=u&&v===0?FT(100*u/i):null;return L.cloneElement(g,Uo(Uo({},g.props),{style:{flexBasis:FT(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:b,marginInlineStart:b,marginInlineEnd:0}}))})}))}function MP(r,e,t){return e&&e>r?e:t&&t<r?t:r}function Hu(r,e){return e[0]<=r&&e[1]>=r}function VP(r,e){return r[0]<=e[0]&&r[1]>=e[1]}function _A(r,e){return Hu(r[0],e)||Hu(r[1],e)}function GT(r,e,t){var i=_A(e,r),s=[];if(i){s.push(t);var u=Hu(r[0],e),h=Hu(r[1],e);u&&s.push("".concat(t,"Start")),h&&s.push("".concat(t,"End")),u&&h&&s.push("".concat(t,"BothEnds"))}return s}function PP(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function kP(r){if(!r)throw new Error("args is required");var e=r.value,t=r.date,i=r.hover,s="react-calendar__tile",u=[s];if(!t)return u;var h=new Date,d=function(){if(Array.isArray(t))return t;var C=r.dateType;if(!C)throw new Error("dateType is required when date is not an array of two dates");return qT(C,t)}();if(Hu(h,d)&&u.push("".concat(s,"--now")),!e||!PP(e))return u;var p=function(){if(Array.isArray(e))return e;var C=r.valueType;if(!C)throw new Error("valueType is required when value is not an array of two dates");return qT(C,e)}();VP(p,d)?u.push("".concat(s,"--active")):_A(p,d)&&u.push("".concat(s,"--hasActive"));var g=GT(p,d,"".concat(s,"--range"));u.push.apply(u,g);var v=Array.isArray(e)?e:[e];if(i&&v.length===1){var b=i>p[0]?[p[0],i]:[i,p[0]],w=GT(b,d,"".concat(s,"--hover"));u.push.apply(u,w)}return u}function id(r){for(var e=r.className,t=r.count,i=t===void 0?3:t,s=r.dateTransform,u=r.dateType,h=r.end,d=r.hover,p=r.offset,g=r.renderTile,v=r.start,b=r.step,w=b===void 0?1:b,C=r.value,k=r.valueType,V=[],j=v;j<=h;j+=w){var z=s(j);V.push(g({classes:kP({date:z,dateType:u,hover:d,value:C,valueType:k}),date:z}))}return _.jsx(Dy,{className:e,count:i,offset:p,wrap:!0,children:V})}function ad(r){var e=r.activeStartDate,t=r.children,i=r.classes,s=r.date,u=r.formatAbbr,h=r.locale,d=r.maxDate,p=r.maxDateTransform,g=r.minDate,v=r.minDateTransform,b=r.onClick,w=r.onMouseOver,C=r.style,k=r.tileClassName,V=r.tileContent,j=r.tileDisabled,z=r.view,J=L.useMemo(function(){var ie={activeStartDate:e,date:s,view:z};return typeof k=="function"?k(ie):k},[e,s,k,z]),ee=L.useMemo(function(){var ie={activeStartDate:e,date:s,view:z};return typeof V=="function"?V(ie):V},[e,s,V,z]);return _.jsxs("button",{className:Jf(i,J),disabled:g&&v(g)>s||d&&p(d)<s||j?.({activeStartDate:e,date:s,view:z}),onClick:b?function(ie){return b(s,ie)}:void 0,onFocus:w?function(){return w(s)}:void 0,onMouseOver:w?function(){return w(s)}:void 0,style:C,type:"button",children:[u?_.jsx("abbr",{"aria-label":u(h,s),children:t}):t,ee]})}var ip=function(){return ip=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},ip.apply(this,arguments)},LP=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},YT="react-calendar__century-view__decades__decade";function jP(r){var e=r.classes,t=e===void 0?[]:e,i=r.currentCentury,s=r.formatYear,u=s===void 0?rd:s,h=LP(r,["classes","currentCentury","formatYear"]),d=h.date,p=h.locale,g=[];return t&&g.push.apply(g,t),g.push(YT),fl(d).getFullYear()!==i&&g.push("".concat(YT,"--neighboringCentury")),_.jsx(ad,ip({},h,{classes:g,maxDateTransform:td,minDateTransform:Ha,view:"century",children:yA(p,u,d)}))}var ap=function(){return ap=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},ap.apply(this,arguments)},$T=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function UP(r){var e=r.activeStartDate,t=r.hover,i=r.showNeighboringCentury,s=r.value,u=r.valueType,h=$T(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),d=EP(e),p=d+(i?119:99);return _.jsx(id,{className:"react-calendar__century-view__decades",dateTransform:Ha,dateType:"decade",end:p,hover:t,renderTile:function(g){var v=g.date,b=$T(g,["date"]);return _.jsx(jP,ap({},h,b,{activeStartDate:e,currentCentury:d,date:v}),v.getTime())},start:d,step:10,value:s,valueType:u})}var sp=function(){return sp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},sp.apply(this,arguments)};function zP(r){function e(){return _.jsx(UP,sp({},r))}return _.jsx("div",{className:"react-calendar__century-view",children:e()})}var op=function(){return op=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},op.apply(this,arguments)},BP=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},QT="react-calendar__decade-view__years__year";function HP(r){var e=r.classes,t=e===void 0?[]:e,i=r.currentDecade,s=r.formatYear,u=s===void 0?rd:s,h=BP(r,["classes","currentDecade","formatYear"]),d=h.date,p=h.locale,g=[];return t&&g.push.apply(g,t),g.push(QT),Ha(d).getFullYear()!==i&&g.push("".concat(QT,"--neighboringDecade")),_.jsx(ad,op({},h,{classes:g,maxDateTransform:nd,minDateTransform:dl,view:"decade",children:u(p,d)}))}var lp=function(){return lp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},lp.apply(this,arguments)},KT=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function qP(r){var e=r.activeStartDate,t=r.hover,i=r.showNeighboringDecade,s=r.value,u=r.valueType,h=KT(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),d=TP(e),p=d+(i?11:9);return _.jsx(id,{className:"react-calendar__decade-view__years",dateTransform:dl,dateType:"year",end:p,hover:t,renderTile:function(g){var v=g.date,b=KT(g,["date"]);return _.jsx(HP,lp({},h,b,{activeStartDate:e,currentDecade:d,date:v}),v.getTime())},start:d,value:s,valueType:u})}var up=function(){return up=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},up.apply(this,arguments)};function FP(r){function e(){return _.jsx(qP,up({},r))}return _.jsx("div",{className:"react-calendar__decade-view",children:e()})}var cp=function(){return cp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},cp.apply(this,arguments)},GP=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},XT=function(r,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,u;i<s;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return r.concat(u||Array.prototype.slice.call(e))},YP="react-calendar__year-view__months__month";function $P(r){var e=r.classes,t=e===void 0?[]:e,i=r.formatMonth,s=i===void 0?gP:i,u=r.formatMonthYear,h=u===void 0?dA:u,d=GP(r,["classes","formatMonth","formatMonthYear"]),p=d.date,g=d.locale;return _.jsx(ad,cp({},d,{classes:XT(XT([],t,!0),[YP],!1),formatAbbr:h,maxDateTransform:hc,minDateTransform:Ls,view:"year",children:s(g,p)}))}var hp=function(){return hp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},hp.apply(this,arguments)},WT=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function QP(r){var e=r.activeStartDate,t=r.hover,i=r.value,s=r.valueType,u=WT(r,["activeStartDate","hover","value","valueType"]),h=0,d=11,p=_t(e);return _.jsx(id,{className:"react-calendar__year-view__months",dateTransform:function(g){var v=new Date;return v.setFullYear(p,g,1),Ls(v)},dateType:"month",end:d,hover:t,renderTile:function(g){var v=g.date,b=WT(g,["date"]);return _.jsx($P,hp({},u,b,{activeStartDate:e,date:v}),v.getTime())},start:h,value:i,valueType:s})}var fp=function(){return fp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},fp.apply(this,arguments)};function KP(r){function e(){return _.jsx(QP,fp({},r))}return _.jsx("div",{className:"react-calendar__year-view",children:e()})}var dp=function(){return dp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},dp.apply(this,arguments)},XP=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},bg="react-calendar__month-view__days__day";function WP(r){var e=r.calendarType,t=r.classes,i=t===void 0?[]:t,s=r.currentMonthIndex,u=r.formatDay,h=u===void 0?dP:u,d=r.formatLongDate,p=d===void 0?mP:d,g=XP(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),v=g.date,b=g.locale,w=[];return i&&w.push.apply(w,i),w.push(bg),vA(v,e)&&w.push("".concat(bg,"--weekend")),v.getMonth()!==s&&w.push("".concat(bg,"--neighboringMonth")),_.jsx(ad,dp({},g,{classes:w,formatAbbr:p,maxDateTransform:xy,minDateTransform:fc,view:"month",children:h(b,v)}))}var mp=function(){return mp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},mp.apply(this,arguments)},ZT=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function ZP(r){var e=r.activeStartDate,t=r.calendarType,i=r.hover,s=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,h=r.value,d=r.valueType,p=ZT(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=_t(e),v=Ba(e),b=s||u,w=Bu(e,t),C=b?0:w,k=(b?-w:0)+1,V=function(){if(s)return k+42-1;var j=fA(e);if(u){var z=new Date;z.setFullYear(g,v,j),z.setHours(0,0,0,0);var J=7-Bu(z,t)-1;return j+J}return j}();return _.jsx(id,{className:"react-calendar__month-view__days",count:7,dateTransform:function(j){var z=new Date;return z.setFullYear(g,v,j),fc(z)},dateType:"day",hover:i,end:V,renderTile:function(j){var z=j.date,J=ZT(j,["date"]);return _.jsx(WP,mp({},p,J,{activeStartDate:e,calendarType:t,currentMonthIndex:v,date:z}),z.getTime())},offset:C,start:k,value:h,valueType:d})}var EA="react-calendar__month-view__weekdays",wg="".concat(EA,"__weekday");function JP(r){for(var e=r.calendarType,t=r.formatShortWeekday,i=t===void 0?pP:t,s=r.formatWeekday,u=s===void 0?yP:s,h=r.locale,d=r.onMouseLeave,p=new Date,g=Ls(p),v=_t(g),b=Ba(g),w=[],C=1;C<=7;C+=1){var k=new Date(v,b,C-Bu(g,e)),V=u(h,k);w.push(_.jsx("div",{className:Jf(wg,DP(k)&&"".concat(wg,"--current"),vA(k,e)&&"".concat(wg,"--weekend")),children:_.jsx("abbr",{"aria-label":V,title:V,children:i(h,k).replace(".","")})},C))}return _.jsx(Dy,{className:EA,count:7,onFocus:d,onMouseOver:d,children:w})}var xf=function(){return xf=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},xf.apply(this,arguments)},JT=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t},eb="react-calendar__tile";function ek(r){var e=r.onClickWeekNumber,t=r.weekNumber,i=_.jsx("span",{children:t});if(e){var s=r.date,u=r.onClickWeekNumber,h=r.weekNumber,d=JT(r,["date","onClickWeekNumber","weekNumber"]);return _.jsx("button",xf({},d,{className:eb,onClick:function(p){return u(h,s,p)},type:"button",children:i}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var d=JT(r,["date","onClickWeekNumber","weekNumber"]);return _.jsx("div",xf({},d,{className:eb,children:i}))}}function tk(r){var e=r.activeStartDate,t=r.calendarType,i=r.onClickWeekNumber,s=r.onMouseLeave,u=r.showFixedNumberOfWeeks,h=function(){if(u)return 6;var g=fA(e),v=Bu(e,t),b=g-(7-v);return 1+Math.ceil(b/7)}(),d=function(){for(var g=_t(e),v=Ba(e),b=ed(e),w=[],C=0;C<h;C+=1)w.push(rp(new Date(g,v,b+C*7),t));return w}(),p=d.map(function(g){return bP(g,t)});return _.jsx(Dy,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:p.map(function(g,v){var b=d[v];if(!b)throw new Error("date is not defined");return _.jsx(ek,{date:b,onClickWeekNumber:i,weekNumber:g},g)})})}var gp=function(){return gp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},gp.apply(this,arguments)},nk=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t};function rk(r){if(r)for(var e=0,t=Object.entries(rP);e<t.length;e++){var i=t[e],s=i[0],u=i[1];if(u.includes(r))return s}return gn.ISO_8601}function ik(r){var e=r.activeStartDate,t=r.locale,i=r.onMouseLeave,s=r.showFixedNumberOfWeeks,u=r.calendarType,h=u===void 0?rk(t):u,d=r.formatShortWeekday,p=r.formatWeekday,g=r.onClickWeekNumber,v=r.showWeekNumbers,b=nk(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function w(){return _.jsx(JP,{calendarType:h,formatShortWeekday:d,formatWeekday:p,locale:t,onMouseLeave:i})}function C(){return v?_.jsx(tk,{activeStartDate:e,calendarType:h,onClickWeekNumber:g,onMouseLeave:i,showFixedNumberOfWeeks:s}):null}function k(){return _.jsx(ZP,gp({calendarType:h},b))}var V="react-calendar__month-view";return _.jsx("div",{className:Jf(V,v?"".concat(V,"--weekNumbers"):""),children:_.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[C(),_.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[w(),k()]})]})})}var zo=function(){return zo=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},zo.apply(this,arguments)},zh="react-calendar",nf=["century","decade","year","month"],ak=["decade","year","month","day"],Ny=new Date;Ny.setFullYear(1,0,1);Ny.setHours(0,0,0,0);var sk=new Date(864e13);function Tu(r){return r instanceof Date?r:new Date(r)}function TA(r,e){return nf.slice(nf.indexOf(r),nf.indexOf(e)+1)}function ok(r,e,t){var i=TA(e,t);return i.indexOf(r)!==-1}function Oy(r,e,t){return r&&ok(r,e,t)?r:t}function bA(r){var e=nf.indexOf(r);return ak[e]}function lk(r,e){var t=Array.isArray(r)?r[e]:r;if(!t)return null;var i=Tu(t);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(r));return i}function wA(r,e){var t=r.value,i=r.minDate,s=r.maxDate,u=r.maxDetail,h=lk(t,e);if(!h)return null;var d=bA(u),p=function(){switch(e){case 0:return Ss(d,h);case 1:return gA(d,h);default:throw new Error("Invalid index value: ".concat(e))}}();return MP(p,i,s)}var My=function(r){return wA(r,0)},SA=function(r){return wA(r,1)},uk=function(r){return[My,SA].map(function(e){return e(r)})};function AA(r){var e=r.maxDate,t=r.maxDetail,i=r.minDate,s=r.minDetail,u=r.value,h=r.view,d=Oy(h,s,t),p=My({value:u,minDate:i,maxDate:e,maxDetail:t})||new Date;return Ss(d,p)}function ck(r){var e=r.activeStartDate,t=r.defaultActiveStartDate,i=r.defaultValue,s=r.defaultView,u=r.maxDate,h=r.maxDetail,d=r.minDate,p=r.minDetail,g=r.value,v=r.view,b=Oy(v,p,h),w=e||t;return w?Ss(b,w):AA({maxDate:u,maxDetail:h,minDate:d,minDetail:p,value:g||i,view:v||s})}function Sg(r){return r&&(!Array.isArray(r)||r.length===1)}function Bh(r,e){return r instanceof Date&&e instanceof Date&&r.getTime()===e.getTime()}var hk=L.forwardRef(function(e,t){var i=e.activeStartDate,s=e.allowPartialRange,u=e.calendarType,h=e.className,d=e.defaultActiveStartDate,p=e.defaultValue,g=e.defaultView,v=e.formatDay,b=e.formatLongDate,w=e.formatMonth,C=e.formatMonthYear,k=e.formatShortWeekday,V=e.formatWeekday,j=e.formatYear,z=e.goToRangeStartOnSelect,J=z===void 0?!0:z,ee=e.inputRef,ie=e.locale,te=e.maxDate,pe=te===void 0?sk:te,U=e.maxDetail,I=U===void 0?"month":U,D=e.minDate,O=D===void 0?Ny:D,M=e.minDetail,H=M===void 0?"century":M,R=e.navigationAriaLabel,he=e.navigationAriaLive,ue=e.navigationLabel,P=e.next2AriaLabel,K=e.next2Label,Z=e.nextAriaLabel,fe=e.nextLabel,x=e.onActiveStartDateChange,X=e.onChange,ce=e.onClickDay,se=e.onClickDecade,ge=e.onClickMonth,be=e.onClickWeekNumber,_e=e.onClickYear,Qe=e.onDrillDown,Ve=e.onDrillUp,lt=e.onViewChange,ut=e.prev2AriaLabel,wt=e.prev2Label,$t=e.prevAriaLabel,yn=e.prevLabel,ct=e.returnValue,fr=ct===void 0?"start":ct,nn=e.selectRange,rn=e.showDoubleView,Us=e.showFixedNumberOfWeeks,qi=e.showNavigation,Fi=qi===void 0?!0:qi,ai=e.showNeighboringCentury,ml=e.showNeighboringDecade,si=e.showNeighboringMonth,qa=si===void 0?!0:si,zs=e.showWeekNumbers,gt=e.tileClassName,We=e.tileContent,Sn=e.tileDisabled,Nt=e.value,Fa=e.view,Bs=L.useState(d),oi=Bs[0],Qn=Bs[1],Dr=L.useState(null),Pn=Dr[0],li=Dr[1],Nr=L.useState(Array.isArray(p)?p.map(function(Ce){return Ce!==null?Tu(Ce):null}):p!=null?Tu(p):null),ui=Nr[0],Ga=Nr[1],Gi=L.useState(g),dr=Gi[0],Kn=Gi[1],Ot=i||oi||ck({activeStartDate:i,defaultActiveStartDate:d,defaultValue:p,defaultView:g,maxDate:pe,maxDetail:I,minDate:O,minDetail:H,value:Nt,view:Fa}),mt=function(){var Ce=function(){return nn&&Sg(ui)?ui:Nt!==void 0?Nt:ui}();return Ce?Array.isArray(Ce)?Ce.map(function(Pe){return Pe!==null?Tu(Pe):null}):Ce!==null?Tu(Ce):null:null}(),Or=bA(I),Ke=Oy(Fa||dr,H,I),an=TA(H,I),Mr=nn?Pn:null,Yi=an.indexOf(Ke)<an.length-1,ht=an.indexOf(Ke)>0,St=L.useCallback(function(Ce){var Pe=function(){switch(fr){case"start":return My;case"end":return SA;case"range":return uk;default:throw new Error("Invalid returnValue.")}}();return Pe({maxDate:pe,maxDetail:I,minDate:O,value:Ce})},[pe,I,O,fr]),pt=L.useCallback(function(Ce,Pe){Qn(Ce);var Ne={action:Pe,activeStartDate:Ce,value:mt,view:Ke};x&&!Bh(Ot,Ce)&&x(Ne)},[Ot,x,mt,Ke]),sn=L.useCallback(function(Ce,Pe){var Ne=function(){switch(Ke){case"century":return se;case"decade":return _e;case"year":return ge;case"month":return ce;default:throw new Error("Invalid view: ".concat(Ke,"."))}}();Ne&&Ne(Ce,Pe)},[ce,se,ge,_e,Ke]),ci=L.useCallback(function(Ce,Pe){if(Yi){sn(Ce,Pe);var Ne=an[an.indexOf(Ke)+1];if(!Ne)throw new Error("Attempted to drill down from the lowest view.");Qn(Ce),Kn(Ne);var on={action:"drillDown",activeStartDate:Ce,value:mt,view:Ne};x&&!Bh(Ot,Ce)&&x(on),lt&&Ke!==Ne&&lt(on),Qe&&Qe(on)}},[Ot,Yi,x,sn,Qe,lt,mt,Ke,an]),Ya=L.useCallback(function(){if(ht){var Ce=an[an.indexOf(Ke)-1];if(!Ce)throw new Error("Attempted to drill up from the highest view.");var Pe=Ss(Ce,Ot);Qn(Pe),Kn(Ce);var Ne={action:"drillUp",activeStartDate:Pe,value:mt,view:Ce};x&&!Bh(Ot,Pe)&&x(Ne),lt&&Ke!==Ce&&lt(Ne),Ve&&Ve(Ne)}},[Ot,ht,x,Ve,lt,mt,Ke,an]),Xn=L.useCallback(function(Ce,Pe){var Ne=mt;sn(Ce,Pe);var on=nn&&!Sg(Ne),Qt;if(nn)if(on)Qt=Ss(Or,Ce);else{if(!Ne)throw new Error("previousValue is required");if(Array.isArray(Ne))throw new Error("previousValue must not be an array");Qt=xP(Or,Ne,Ce)}else Qt=St(Ce);var An=!nn||on||J?AA({maxDate:pe,maxDetail:I,minDate:O,minDetail:H,value:Qt,view:Ke}):null;Pe.persist(),Qn(An),Ga(Qt);var yr={action:"onChange",activeStartDate:An,value:Qt,view:Ke};if(x&&!Bh(Ot,An)&&x(yr),X)if(nn){var qs=Sg(Qt);if(!qs)X(Qt||null,Pe);else if(s){if(Array.isArray(Qt))throw new Error("value must not be an array");X([Qt||null,null],Pe)}}else X(Qt||null,Pe)},[Ot,s,St,J,pe,I,O,H,x,X,sn,nn,mt,Or,Ke]);function Hs(Ce){li(Ce)}function mr(){li(null)}L.useImperativeHandle(t,function(){return{activeStartDate:Ot,drillDown:ci,drillUp:Ya,onChange:Xn,setActiveStartDate:pt,value:mt,view:Ke}},[Ot,ci,Ya,Xn,pt,mt,Ke]);function gr(Ce){var Pe=Ce?mA(Ke,Ot):Ss(Ke,Ot),Ne=Yi?ci:Xn,on={activeStartDate:Pe,hover:Mr,locale:ie,maxDate:pe,minDate:O,onClick:Ne,onMouseOver:nn?Hs:void 0,tileClassName:gt,tileContent:We,tileDisabled:Sn,value:mt,valueType:Or};switch(Ke){case"century":return _.jsx(zP,zo({formatYear:j,showNeighboringCentury:ai},on));case"decade":return _.jsx(FP,zo({formatYear:j,showNeighboringDecade:ml},on));case"year":return _.jsx(KP,zo({formatMonth:w,formatMonthYear:C},on));case"month":return _.jsx(ik,zo({calendarType:u,formatDay:v,formatLongDate:b,formatShortWeekday:k,formatWeekday:V,onClickWeekNumber:be,onMouseLeave:nn?mr:void 0,showFixedNumberOfWeeks:typeof Us<"u"?Us:rn,showNeighboringMonth:qa,showWeekNumbers:zs},on));default:throw new Error("Invalid view: ".concat(Ke,"."))}}function pr(){return Fi?_.jsx(NP,{activeStartDate:Ot,drillUp:Ya,formatMonthYear:C,formatYear:j,locale:ie,maxDate:pe,minDate:O,navigationAriaLabel:R,navigationAriaLive:he,navigationLabel:ue,next2AriaLabel:P,next2Label:K,nextAriaLabel:Z,nextLabel:fe,prev2AriaLabel:ut,prev2Label:wt,prevAriaLabel:$t,prevLabel:yn,setActiveStartDate:pt,showDoubleView:rn,view:Ke,views:an}):null}var Wn=Array.isArray(mt)?mt:[mt];return _.jsxs("div",{className:Jf(zh,nn&&Wn.length===1&&"".concat(zh,"--selectRange"),rn&&"".concat(zh,"--doubleView"),h),ref:ee,children:[pr(),_.jsxs("div",{className:"".concat(zh,"__viewContainer"),onBlur:nn?mr:void 0,onMouseLeave:nn?mr:void 0,children:[gr(),rn?gr(!0):null]})]})});function fk({fechaSeleccionada:r,onSelectDate:e}){return _.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:_.jsx(hk,{value:r,onChange:e,locale:"es-ES"})})}Xr.locale("es");function dk(){const[r,e]=L.useState(new Date),[t,i]=L.useState([]),s=["pendiente","confirmado","cancelado","rechazado"],[u,h]=L.useState([]),[d,p]=L.useState(null),[g,v]=L.useState(null),[b,w]=L.useState(!1),[C,k]=L.useState(!1);L.useEffect(()=>{async function ie(){try{w(!0);const te=await lV(r);i(te),p(null)}catch{p("Error al cargar los turnos")}finally{w(!1)}}ie()},[r]),L.useEffect(()=>{async function ie(){try{k(!0);const te=await oV();h(te)}catch{p("Error al cargar los turnos pendientes")}finally{k(!1)}}ie()},[]);const V=s.reduce((ie,te)=>(ie[te]=[],ie),{}),j=(ie,te)=>{i(pe=>pe.map(U=>U.id===ie?{...U,estado:te}:U))};t.forEach(ie=>{const te=ie.estado||"sin estado";V[te]||(V[te]=[]),V[te].push(ie)});const z=async ie=>{try{w(!0),await WS(ie),j(ie,"cancelado"),v("Turno cancelado")}catch{p("Error al cancelar turno")}finally{w(!1)}},J=async ie=>{try{k(!0),await aV(ie),h(te=>te.filter(pe=>pe.id!==ie)),t.some(te=>te.id===ie)&&(w(!0),j(ie,"confirmado")),v("Turno confirmado")}catch{p("Error al aceptar turno")}finally{k(!1),w(!1)}},ee=async ie=>{try{k(!0),await sV(ie),h(te=>te.filter(pe=>pe.id!==ie)),t.some(te=>te.id===ie)&&(w(!0),j(ie,"rechazado")),v("Turno rechazado")}catch{p("Error al rechazar turno")}finally{k(!1),w(!1)}};return _.jsxs("div",{className:"page-container",children:[_.jsx("h2",{className:"page-title",children:"Administración de Servicios"}),d&&_.jsx(cr,{type:"error",message:d,onClose:()=>p(null)}),g&&_.jsx(cr,{type:"success",message:g,onClose:()=>v(null)}),_.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[_.jsx("div",{className:"md:w-1/3",children:_.jsx(fk,{fechaSeleccionada:r,onSelectDate:e})}),_.jsxs("div",{className:"md:w-2/3",children:[_.jsxs("h2",{className:"page-subtitle",children:["Turnos para ",Xr(r).format("DD/MM/YYYY")]}),b?_.jsx("div",{className:"flex justify-center items-center h-32",children:_.jsx(Ns,{color:"#3498db",loading:!0,size:50})}):t.length===0?_.jsx("p",{className:"text-gray-500",children:"No hay turnos para esta fecha"}):Object.keys(V).map(ie=>_.jsxs("div",{className:"mb-6",children:[_.jsxs("h3",{className:"text-lg font-semibold capitalize border-b pb-1 mb-2",children:[ie," (",V[ie].length,")"]}),_.jsx("div",{className:"space-y-3 mt-2",children:V[ie].map(te=>_.jsxs("div",{className:"form-section",children:[_.jsxs("p",{className:"font-medium",children:[Xr(te.inicio.toDate()).format("HH:mm")," -"," ",Xr(te.fin.toDate()).format("HH:mm")]}),te.usuario&&_.jsxs("p",{className:"text-sm text-gray-700",children:[te.usuario.apellido,", ",te.usuario.nombre," |"," ",te.usuario.telefono]}),te.servicio&&_.jsxs("p",{className:"text-sm text-gray-500",children:[te.servicio.nombre," - $",te.servicio.precio]}),te.estado==="confirmado"&&_.jsx("div",{className:"flex gap-2 mt-3",children:_.jsx("button",{onClick:async()=>{window.confirm("¿Seguro que quieres rechazar este turno?")&&z(te.id)},className:"btn-danger",children:"❌ Cancelar"})}),te.estado==="pendiente"&&_.jsxs("div",{className:"flex gap-2 mt-3",children:[_.jsx("button",{onClick:async()=>J(te.id),className:"btn-primary",children:"✅ Aceptar"}),_.jsx("button",{onClick:async()=>{window.confirm("¿Seguro que quieres rechazar este turno?")&&ee(te.id)},className:"btn-danger",children:"❌ Rechazar"})]})]},te.id))})]},ie))]}),_.jsx("div",{className:"md:w-2/3",children:C?_.jsx("div",{className:"flex justify-center items-center h-32",children:_.jsx(Ns,{color:"#3498db",loading:!0,size:50})}):u.length===0?_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"page-subtitle",children:"Turnos pendientes"}),_.jsx("p",{className:"text-gray-500",children:"No hay turnos pendientes desde hoy"})]}):_.jsxs("div",{children:[_.jsxs("h2",{className:"page-subtitle",children:["Turnos pendientes (",u.length,")"]}),_.jsx("div",{className:"space-y-3",children:u.map(ie=>_.jsxs("div",{className:"form-section",children:[_.jsxs("p",{className:"font-medium",children:[Xr(ie.inicio.toDate()).format("DD/MM/YYYY HH:mm")," -"," ",Xr(ie.fin.toDate()).format("HH:mm")]}),ie.usuario&&_.jsxs("p",{className:"text-sm text-gray-700",children:[ie.usuario.apellido,", ",ie.usuario.nombre," |"," ",ie.usuario.telefono]}),ie.servicio&&_.jsxs("p",{className:"text-sm text-gray-500",children:[ie.servicio.nombre," - $",ie.servicio.precio]}),_.jsxs("div",{className:"flex gap-2 mt-3",children:[_.jsx("button",{onClick:async()=>J(ie.id),className:"btn-primary",children:"✅ Aceptar"}),_.jsx("button",{onClick:async()=>{window.confirm("¿Seguro que quieres rechazar este turno?")&&ee(ie.id)},className:"btn-danger",children:"❌ Rechazar"})]})]},ie.id))})]})})]})]})}function mk(){const r=hr(h=>h.user),e=JS(h=>h.fetchServicios),[t,i]=L.useState([]),[s,u]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{u(!0);const d=await e();i(d)}catch(d){console.error(d)}finally{u(!1)}})()},[e]),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"text-center mt-10 max-w-4xl mx-auto px-6",children:[_.jsx("h2",{className:"text-4xl font-extrabold mb-4 text-indigo-600",children:"Bienvenido a Mi App"}),_.jsx("p",{className:"text-gray-700 mb-6 text-lg",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed voluptatibus eveniet laborum magni officiis laboriosam architecto illum blanditiis, natus voluptate! 🌟"}),!r&&_.jsxs("div",{className:"flex justify-center gap-4",children:[_.jsx(Lt,{to:"/login",className:"bg-indigo-600 text-white px-5 py-3 rounded-lg hover:bg-indigo-700 transition",children:"Iniciar sesión"}),_.jsx(Lt,{to:"/register",className:"bg-gray-200 text-gray-800 px-5 py-3 rounded-lg hover:bg-gray-300 transition",children:"Registrarse"})]})]}),_.jsx("section",{className:"mt-20 bg-indigo-50 py-12 px-6",children:_.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[_.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Por qué elegir Mi App"}),_.jsxs("div",{className:"grid gap-8 sm:grid-cols-2 md:grid-cols-3",children:[_.jsxs("div",{className:"p-6 bg-white rounded-lg shadow hover:shadow-lg transition",children:[_.jsx("h4",{className:"font-semibold mb-2",children:"🚀 Rápido y sencillo"}),_.jsx("p",{className:"text-gray-600 text-sm",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, omnis."})]}),_.jsxs("div",{className:"p-6 bg-white rounded-lg shadow hover:shadow-lg transition",children:[_.jsx("h4",{className:"font-semibold mb-2",children:"🔒 Seguro"}),_.jsx("p",{className:"text-gray-600 text-sm",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum, dolorem."})]}),_.jsxs("div",{className:"p-6 bg-white rounded-lg shadow hover:shadow-lg transition",children:[_.jsx("h4",{className:"font-semibold mb-2",children:"💡 Intuitivo"}),_.jsx("p",{className:"text-gray-600 text-sm",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit, repellendus."})]})]})]})}),_.jsxs("section",{className:"mt-16 px-6 max-w-6xl mx-auto",children:[_.jsx("h3",{className:"text-3xl font-bold mb-6 text-center",children:"Nuestros servicios"}),t.length===0?_.jsx("p",{className:"text-gray-500 text-center",children:"Próximamente podrás ver nuestros servicios disponibles."}):_.jsx("ul",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3",children:t.map(h=>_.jsxs("li",{className:"border rounded-lg p-5 shadow-sm hover:shadow-lg transition flex flex-col",children:[_.jsx("h4",{className:"text-lg font-bold mb-1 text-indigo-600",children:h.nombre}),_.jsx("p",{className:"text-sm text-gray-600 flex-grow",children:h.descripcion||"Lorem ipsum dolor sit amet, consectetur adipiscing elit."}),_.jsxs("p",{className:"text-sm font-semibold mt-3",children:["⏳ ",h.duracionMinutos," min"]})]},h.id))})]}),_.jsxs("section",{className:"mt-20 px-6 max-w-5xl mx-auto text-center",children:[_.jsx("h3",{className:"text-2xl font-bold mb-4",children:"¡Estamos para acompañarte!"}),_.jsx("p",{className:"text-gray-600 mb-8",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed vitae lacus ac sapien bibendum luctus. Suspendisse nec sapien sed justo malesuada pharetra. Quisque vitae ligula in nunc bibendum euismod vitae vel libero."}),_.jsx(Lt,{to:"/turnos",className:"inline-block bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition",children:"Reservá tu turno ahora"})]})]})}function Oo({allowedRoles:r,children:e}){const{user:t,info:i,isAuthReady:s}=hr();return s?!t||!r.includes(i.rolId)?_.jsx(KR,{to:"/login"}):e:_.jsx("p",{className:"text-center mt-10",children:"Cargando sesión..."})}function tb(){const r=Fu(),e=hr(i=>i.clearUser),t=async()=>{try{await mD(hl),e(),r("/login")}catch(i){console.error("Error al cerrar sesión:",i)}};return _.jsx("button",{onClick:t,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Cerrar sesión"})}function gk({title:r,titleId:e,...t},i){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const pk=L.forwardRef(gk);function yk({title:r,titleId:e,...t},i){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const vk=L.forwardRef(yk);function _k({title:r,titleId:e,...t},i){return L.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),r?L.createElement("title",{id:e},r):null,L.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Ek=L.forwardRef(_k);function Tk(){const[r,e]=L.useState(null),[t,i]=L.useState(!1),[s,u]=L.useState(!1),h=hr(p=>p.info);L.useEffect(()=>{const p=tw(hl,g=>{e(g)});return()=>p()},[]);const d=()=>u(!s);return _.jsxs("header",{className:"bg-indigo-600 text-white",children:[_.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex justify-between items-center",children:[_.jsx("h1",{className:"text-xl font-bold",children:"Mi App"}),_.jsx("button",{className:"md:hidden",onClick:d,"aria-label":"Abrir menú",children:s?_.jsx(vk,{className:"h-6 w-6"}):_.jsx(pk,{className:"h-6 w-6"})}),_.jsxs("nav",{className:"hidden md:flex gap-4 items-center",children:[_.jsx(Lt,{to:"/",className:"hover:underline",children:"Inicio"}),r&&h?_.jsxs(_.Fragment,{children:[h.rolId==="admin"&&_.jsxs(_.Fragment,{children:[_.jsx(Lt,{to:"/admin/servicios",className:"hover:underline",children:"Servicios"}),_.jsx(Lt,{to:"/admin/turnos",className:"hover:underline",children:"Turnos"}),_.jsx(Lt,{to:"/admin/horarios",className:"hover:underline",children:"Configuración"})]}),h.rolId==="user"&&_.jsx(Lt,{to:"/dashboard",className:"hover:underline",children:"Mis turnos"}),_.jsxs("div",{className:"relative",children:[_.jsxs("button",{onClick:()=>i(!t),className:"flex items-center gap-2 hover:underline font-semibold",children:[_.jsx(Ek,{className:"h-6 w-6 text-white"}),h.nombre]}),t&&_.jsxs("div",{className:"absolute right-0 mt-2 bg-white text-black rounded shadow-lg z-10 w-40",children:[_.jsx(Lt,{to:"/perfil",className:"block px-4 py-2 hover:bg-indigo-100",onClick:()=>i(!1),children:"Modificar datos"}),_.jsx("div",{className:"px-4 py-2 border-t",children:_.jsx(tb,{})})]})]})]}):_.jsx(Lt,{to:"/login",className:"hover:underline",children:"Iniciar sesión"})]})]}),s&&_.jsxs("nav",{className:"md:hidden bg-indigo-700 px-4 pb-4 space-y-2",children:[_.jsx(Lt,{to:"/",className:"block hover:underline",children:"Inicio"}),r&&h?_.jsxs(_.Fragment,{children:[h.rolId==="admin"&&_.jsxs(_.Fragment,{children:[_.jsx(Lt,{to:"/admin/servicios",className:"block hover:underline",children:"Servicios"}),_.jsx(Lt,{to:"/admin/turnos",className:"block hover:underline",children:"Turnos"}),_.jsx(Lt,{to:"/admin/horarios",className:"block hover:underline",children:"Configuración"})]}),h.rolId==="user"&&_.jsx(Lt,{to:"/dashboard",className:"block hover:underline",children:"Mis turnos"}),_.jsx(Lt,{to:"/perfil",className:"block hover:underline",children:"Modificar datos"}),_.jsx("div",{children:_.jsx(tb,{})})]}):_.jsx(Lt,{to:"/login",className:"block hover:underline",children:"Iniciar sesión"})]})]})}function bk(){return _.jsxs("footer",{className:"bg-gray-100 text-gray-700 text-sm mt-auto",children:[_.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10 grid grid-cols-1 md:grid-cols-4 gap-8",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Mi App"}),_.jsx("p",{className:"text-gray-600",children:"Plataforma de gestión de turnos y servicios. Optimiza tu tiempo y el de tus clientes."})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Servicios"}),_.jsxs("ul",{className:"space-y-1",children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Turnos"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Agenda"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Reportes"})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Soporte"}),_.jsxs("ul",{className:"space-y-1",children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Preguntas frecuentes"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Contacto"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Documentación"})})]})]}),_.jsxs("div",{children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Legal"}),_.jsxs("ul",{className:"space-y-1",children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Términos y condiciones"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:underline",children:"Política de privacidad"})})]})]})]}),_.jsxs("div",{className:"border-t border-gray-300 text-center py-4 text-xs text-gray-500",children:["© ",new Date().getFullYear()," Mi App. Todos los derechos reservados."]})]})}function wk({children:r}){return _.jsxs("div",{className:"flex flex-col min-h-screen",children:[_.jsx(Tk,{}),_.jsx("main",{className:"flex-grow container mx-auto p-4",children:r}),_.jsx(bk,{})]})}const RA=$n($e,"servicios");async function Sk(){return(await Sr(RA)).docs.map(e=>({id:e.id,...e.data()}))}function Ak(r){return HS(RA,{...r,duracionMinutos:Number(r.duracionMinutos),precio:Number(r.precio)})}function Rk(r,e){return Ty(Yt($e,"servicios",r),{...e,duracionMinutos:Number(e.duracionMinutos),precio:Number(e.precio)})}function Ik(r){return BS(Yt($e,"servicios",r))}function xk(){const[r,e]=L.useState([]),[t,i]=L.useState({nombre:"",duracionMinutos:30,precio:0,activo:!0}),[s,u]=L.useState(null),[h,d]=L.useState(null),[p,g]=L.useState(null),[v,b]=L.useState(!1);L.useEffect(()=>{try{w()}catch{d("Ocurrió un error al cargar los servicios"),b(!1)}},[]);async function w(){b(!0),e(await Sk()),b(!1)}const C=z=>{const{name:J,value:ee,type:ie,checked:te}=z.target;i(pe=>({...pe,[J]:ie==="checkbox"?te:ee}))},k=async z=>{try{if(b(!0),z.preventDefault(),!t.nombre)return;s?(await Rk(s,t),u(null),g("Servicio editado")):(await Ak(t),g("Servicio añadido")),i({nombre:"",duracionMinutos:30,precio:0,activo:!0}),w()}catch{d("Hubo un error al guardar el servicio")}finally{b(!1)}},V=z=>{i(z),u(z.id)},j=async z=>{try{if(b(!0),!window.confirm("¿Eliminar este servicio?"))return;await Ik(z),e(r.filter(J=>J.id!==z)),g("Servicio eliminado")}catch{d("No se pude eliminar el servicio")}finally{b(!1)}};return _.jsx("div",{className:"page-container",children:v?_.jsx("div",{className:"flex justify-center items-center h-40",children:_.jsx(Ns,{color:"#3498db",loading:!0,size:50})}):_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"page-title",children:"Administración de Servicios"}),h&&_.jsx(cr,{type:"error",message:h,onClose:()=>d(null)}),p&&_.jsx(cr,{type:"success",message:p,onClose:()=>g(null)}),_.jsxs("form",{onSubmit:k,className:"form-section",children:[_.jsx("h3",{children:"Agregar/Modificar servicio"}),_.jsx("label",{className:"form-label",children:"Nombre"}),_.jsx("input",{type:"text",name:"nombre",placeholder:"Nombre",value:t.nombre,onChange:C,required:!0,className:"form-control"}),_.jsx("label",{className:"form-label",children:"Precio"}),_.jsx("input",{type:"text",name:"precio",placeholder:"0",value:t.precio,onChange:C,required:!0,className:"form-control"}),_.jsx("label",{className:"form-label",children:"Duración"}),_.jsx("input",{type:"text",name:"duracion",placeholder:"30",value:t.duracion,onChange:C,required:!0,className:"form-control"}),_.jsxs("label",{className:"form-label flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",name:"activo",checked:t.activo,onChange:C}),"Activo"]}),_.jsx("button",{type:"submit",className:"btn-primary",children:s?"Actualizar":"Agregar"})]}),_.jsxs("table",{className:"table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Nombre"}),_.jsx("th",{children:"Duración"}),_.jsx("th",{children:"Precio"}),_.jsx("th",{children:"Activo"}),_.jsx("th",{children:"Acciones"})]})}),_.jsxs("tbody",{children:[r.map(z=>_.jsxs("tr",{children:[_.jsx("td",{children:z.nombre}),_.jsxs("td",{children:[z.duracionMinutos," min"]}),_.jsxs("td",{children:["$",z.precio]}),_.jsx("td",{children:z.activo?"✅":"❌"}),_.jsxs("td",{children:[_.jsx("button",{onClick:()=>V(z),className:"btn-secondary",children:"Editar"}),_.jsx("button",{onClick:()=>j(z.id),className:"btn-danger",children:"Eliminar"})]})]},z.id)),r.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:"5",children:"No hay servicios"})})]})]})]})})}function Ck(){const[r,e]=L.useState(""),[t,i]=L.useState(""),[s,u]=L.useState(""),[h,d]=L.useState(""),[p,g]=L.useState(!0),v=hr(j=>j.user),[b,w]=L.useState(null),[C,k]=L.useState(null);L.useEffect(()=>{(async()=>{try{if(!v)return;g(!0);const z=Yt($e,"users",v.uid),J=await cl(z);if(J.exists()){const ee=J.data();e(ee.nombre||""),i(ee.apellido||""),u(ee.telefono||""),d(ee.email||v.email)}}catch(z){console.error("Error al cargar datos:",z)}finally{g(!1)}})()},[]);const V=async j=>{j.preventDefault();try{g(!0);const z=hl.currentUser,J=Yt($e,"users",z.uid);await Ty(J,{nombre:r,apellido:t,telefono:s,email:h}),k("Datos actualizados correctamente")}catch(z){console.error("Error al actualizar:",z),w("Hubo un error al actualizar")}finally{g(!1)}};return _.jsx("div",{children:p?_.jsx("div",{className:"flex justify-center items-center h-40",children:_.jsx(Ns,{color:"#3498db",loading:!0,size:50})}):_.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[_.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Mi Perfil"}),b&&_.jsx(cr,{type:"error",message:b}),C&&_.jsx(cr,{type:"success",message:C}),_.jsxs("form",{onSubmit:V,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block font-semibold",children:"Nombre"}),_.jsx("input",{type:"text",value:r,onChange:j=>e(j.target.value),className:"w-full border px-3 py-2 rounded",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block font-semibold",children:"Apellido"}),_.jsx("input",{type:"text",value:t,onChange:j=>i(j.target.value),className:"w-full border px-3 py-2 rounded",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block font-semibold",children:"Teléfono"}),_.jsx("input",{type:"tel",value:s,onChange:j=>u(j.target.value),className:"w-full border px-3 py-2 rounded",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block font-semibold",children:"Email"}),_.jsx("input",{type:"email",value:h,onChange:j=>d(j.target.value),className:"w-full border px-3 py-2 rounded",required:!0})]}),_.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"Guardar cambios"})]})]})})}function Dk(){return _.jsx(KM,{children:_.jsx(EI,{basename:"/TurnosApp",children:_.jsx(wk,{children:_.jsxs(WR,{children:[_.jsx(Qr,{path:"/",element:_.jsx(mk,{})}),_.jsx(Qr,{path:"/login",element:_.jsx(tV,{})}),_.jsx(Qr,{path:"/register",element:_.jsx(nV,{})}),_.jsx(Qr,{path:"/perfil",element:_.jsx(Oo,{allowedRoles:["user","admin"],children:_.jsx(Ck,{})})}),_.jsx(Qr,{path:"/dashboard",element:_.jsx(Oo,{allowedRoles:["user","admin"],children:_.jsx(uV,{})})}),_.jsx(Qr,{path:"/turnos",element:_.jsx(Oo,{allowedRoles:["user","admin"],children:_.jsx(yV,{})})}),_.jsx(Qr,{path:"/admin/turnos",element:_.jsx(Oo,{allowedRoles:["admin"],children:_.jsx(dk,{})})}),_.jsx(Qr,{path:"/admin/horarios",element:_.jsx(Oo,{allowedRoles:["admin"],children:_.jsx(OV,{})})}),_.jsx(Qr,{path:"/admin/servicios",element:_.jsx(Oo,{allowedRoles:["admin"],children:_.jsx(xk,{})})})]})})})})}sR.createRoot(document.getElementById("root")).render(_.jsx(L.StrictMode,{children:_.jsx(Dk,{})}));
